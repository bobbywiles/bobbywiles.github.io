(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function vl(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Pe={},oi=[],fn=()=>{},cS=()=>!1,lS=/^on[^a-z]/,fa=t=>lS.test(t),Pf=t=>t.startsWith("onUpdate:"),$e=Object.assign,Lf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},uS=Object.prototype.hasOwnProperty,Se=(t,e)=>uS.call(t,e),se=Array.isArray,ai=t=>Vi(t)==="[object Map]",Rr=t=>Vi(t)==="[object Set]",Ng=t=>Vi(t)==="[object Date]",hS=t=>Vi(t)==="[object RegExp]",de=t=>typeof t=="function",je=t=>typeof t=="string",Fo=t=>typeof t=="symbol",Le=t=>t!==null&&typeof t=="object",xf=t=>Le(t)&&de(t.then)&&de(t.catch),v_=Object.prototype.toString,Vi=t=>v_.call(t),fS=t=>Vi(t).slice(8,-1),E_=t=>Vi(t)==="[object Object]",Mf=t=>je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Eo=vl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),El=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},dS=/-(\w)/g,Mt=El(t=>t.replace(dS,(e,n)=>n?n.toUpperCase():"")),pS=/\B([A-Z])/g,en=El(t=>t.replace(pS,"-$1").toLowerCase()),da=El(t=>t.charAt(0).toUpperCase()+t.slice(1)),wo=El(t=>t?`on${da(t)}`:""),vi=(t,e)=>!Object.is(t,e),ci=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Fc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Vc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Uc=t=>{const e=je(t)?Number(t):NaN;return isNaN(e)?t:e};let Rg;const Ih=()=>Rg||(Rg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),gS="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",mS=vl(gS);function pa(t){if(se(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=je(s)?ES(s):pa(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(je(t))return t;if(Le(t))return t}}const yS=/;(?![^(]*\))/g,_S=/:([^]+)/,vS=/\/\*[^]*?\*\//g;function ES(t){const e={};return t.replace(vS,"").split(yS).forEach(n=>{if(n){const s=n.split(_S);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ga(t){let e="";if(je(t))e=t;else if(se(t))for(let n=0;n<t.length;n++){const s=ga(t[n]);s&&(e+=s+" ")}else if(Le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function wS(t){if(!t)return null;let{class:e,style:n}=t;return e&&!je(e)&&(t.class=ga(e)),n&&(t.style=pa(n)),t}const TS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bS=vl(TS);function w_(t){return!!t||t===""}function IS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ds(t[s],e[s]);return n}function Ds(t,e){if(t===e)return!0;let n=Ng(t),s=Ng(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Fo(t),s=Fo(e),n||s)return t===e;if(n=se(t),s=se(e),n||s)return n&&s?IS(t,e):!1;if(n=Le(t),s=Le(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Ds(t[o],e[o]))return!1}}return String(t)===String(e)}function wl(t,e){return t.findIndex(n=>Ds(n,e))}const lr=t=>je(t)?t:t==null?"":se(t)||Le(t)&&(t.toString===v_||!de(t.toString))?JSON.stringify(t,T_,2):String(t),T_=(t,e)=>e&&e.__v_isRef?T_(t,e.value):ai(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Rr(e)?{[`Set(${e.size})`]:[...e.values()]}:Le(e)&&!se(e)&&!E_(e)?String(e):e;let Bt;class $f{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Bt,!e&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Bt;try{return Bt=this,e()}finally{Bt=n}}}on(){Bt=this}off(){Bt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Ff(t){return new $f(t)}function b_(t,e=Bt){e&&e.active&&e.effects.push(t)}function Vf(){return Bt}function I_(t){Bt&&Bt.cleanups.push(t)}const Uf=t=>{const e=new Set(t);return e.w=0,e.n=0,e},A_=t=>(t.w&Ps)>0,C_=t=>(t.n&Ps)>0,AS=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ps},CS=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];A_(r)&&!C_(r)?r.delete(t):e[n++]=r,r.w&=~Ps,r.n&=~Ps}e.length=n}},Bc=new WeakMap;let uo=0,Ps=1;const Ah=30;let ln;const ur=Symbol(""),Ch=Symbol("");class ma{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,b_(this,s)}run(){if(!this.active)return this.fn();let e=ln,n=Is;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ln,ln=this,Is=!0,Ps=1<<++uo,uo<=Ah?AS(this):kg(this),this.fn()}finally{uo<=Ah&&CS(this),Ps=1<<--uo,ln=this.parent,Is=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ln===this?this.deferStop=!0:this.active&&(kg(this),this.onStop&&this.onStop(),this.active=!1)}}function kg(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function SS(t,e){t.effect&&(t=t.effect.fn);const n=new ma(t);e&&($e(n,e),e.scope&&b_(n,e.scope)),(!e||!e.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function OS(t){t.effect.stop()}let Is=!0;const S_=[];function Ui(){S_.push(Is),Is=!1}function Bi(){const t=S_.pop();Is=t===void 0?!0:t}function Ft(t,e,n){if(Is&&ln){let s=Bc.get(t);s||Bc.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Uf()),O_(r)}}function O_(t,e){let n=!1;uo<=Ah?C_(t)||(t.n|=Ps,n=!A_(t)):n=!t.has(ln),n&&(t.add(ln),ln.deps.push(t))}function Xn(t,e,n,s,r,i){const o=Bc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&se(t)){const c=Number(s);o.forEach((l,h)=>{(h==="length"||h>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":se(t)?Mf(n)&&a.push(o.get("length")):(a.push(o.get(ur)),ai(t)&&a.push(o.get(Ch)));break;case"delete":se(t)||(a.push(o.get(ur)),ai(t)&&a.push(o.get(Ch)));break;case"set":ai(t)&&a.push(o.get(ur));break}if(a.length===1)a[0]&&Sh(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Sh(Uf(c))}}function Sh(t,e){const n=se(t)?t:[...t];for(const s of n)s.computed&&Dg(s);for(const s of n)s.computed||Dg(s)}function Dg(t,e){(t!==ln||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function NS(t,e){var n;return(n=Bc.get(t))==null?void 0:n.get(e)}const RS=vl("__proto__,__v_isRef,__isVue"),N_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fo)),kS=Tl(),DS=Tl(!1,!0),PS=Tl(!0),LS=Tl(!0,!0),Pg=xS();function xS(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Ie(this);for(let i=0,o=this.length;i<o;i++)Ft(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(Ie)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ui();const s=Ie(this)[e].apply(this,n);return Bi(),s}}),t}function MS(t){const e=Ie(this);return Ft(e,"has",t),e.hasOwnProperty(t)}function Tl(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?M_:x_:e?L_:P_).get(s))return s;const o=se(s);if(!t){if(o&&Se(Pg,r))return Reflect.get(Pg,r,i);if(r==="hasOwnProperty")return MS}const a=Reflect.get(s,r,i);return(Fo(r)?N_.has(r):RS(r))||(t||Ft(s,"get",r),e)?a:qe(a)?o&&Mf(r)?a:a.value:Le(a)?t?jf(a):kr(a):a}}const $S=R_(),FS=R_(!0);function R_(t=!1){return function(n,s,r,i){let o=n[s];if(mr(o)&&qe(o)&&!qe(r))return!1;if(!t&&(!Vo(r)&&!mr(r)&&(o=Ie(o),r=Ie(r)),!se(n)&&qe(o)&&!qe(r)))return o.value=r,!0;const a=se(n)&&Mf(s)?Number(s)<n.length:Se(n,s),c=Reflect.set(n,s,r,i);return n===Ie(i)&&(a?vi(r,o)&&Xn(n,"set",s,r):Xn(n,"add",s,r)),c}}function VS(t,e){const n=Se(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Xn(t,"delete",e,void 0),s}function US(t,e){const n=Reflect.has(t,e);return(!Fo(e)||!N_.has(e))&&Ft(t,"has",e),n}function BS(t){return Ft(t,"iterate",se(t)?"length":ur),Reflect.ownKeys(t)}const k_={get:kS,set:$S,deleteProperty:VS,has:US,ownKeys:BS},D_={get:PS,set(t,e){return!0},deleteProperty(t,e){return!0}},jS=$e({},k_,{get:DS,set:FS}),HS=$e({},D_,{get:LS}),Bf=t=>t,bl=t=>Reflect.getPrototypeOf(t);function sc(t,e,n=!1,s=!1){t=t.__v_raw;const r=Ie(t),i=Ie(e);n||(e!==i&&Ft(r,"get",e),Ft(r,"get",i));const{has:o}=bl(r),a=s?Bf:n?qf:Uo;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function rc(t,e=!1){const n=this.__v_raw,s=Ie(n),r=Ie(t);return e||(t!==r&&Ft(s,"has",t),Ft(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function ic(t,e=!1){return t=t.__v_raw,!e&&Ft(Ie(t),"iterate",ur),Reflect.get(t,"size",t)}function Lg(t){t=Ie(t);const e=Ie(this);return bl(e).has.call(e,t)||(e.add(t),Xn(e,"add",t,t)),this}function xg(t,e){e=Ie(e);const n=Ie(this),{has:s,get:r}=bl(n);let i=s.call(n,t);i||(t=Ie(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?vi(e,o)&&Xn(n,"set",t,e):Xn(n,"add",t,e),this}function Mg(t){const e=Ie(this),{has:n,get:s}=bl(e);let r=n.call(e,t);r||(t=Ie(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Xn(e,"delete",t,void 0),i}function $g(){const t=Ie(this),e=t.size!==0,n=t.clear();return e&&Xn(t,"clear",void 0,void 0),n}function oc(t,e){return function(s,r){const i=this,o=i.__v_raw,a=Ie(o),c=e?Bf:t?qf:Uo;return!t&&Ft(a,"iterate",ur),o.forEach((l,h)=>s.call(r,c(l),c(h),i))}}function ac(t,e,n){return function(...s){const r=this.__v_raw,i=Ie(r),o=ai(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),h=n?Bf:e?qf:Uo;return!e&&Ft(i,"iterate",c?Ch:ur),{next(){const{value:f,done:p}=l.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function ls(t){return function(...e){return t==="delete"?!1:this}}function qS(){const t={get(i){return sc(this,i)},get size(){return ic(this)},has:rc,add:Lg,set:xg,delete:Mg,clear:$g,forEach:oc(!1,!1)},e={get(i){return sc(this,i,!1,!0)},get size(){return ic(this)},has:rc,add:Lg,set:xg,delete:Mg,clear:$g,forEach:oc(!1,!0)},n={get(i){return sc(this,i,!0)},get size(){return ic(this,!0)},has(i){return rc.call(this,i,!0)},add:ls("add"),set:ls("set"),delete:ls("delete"),clear:ls("clear"),forEach:oc(!0,!1)},s={get(i){return sc(this,i,!0,!0)},get size(){return ic(this,!0)},has(i){return rc.call(this,i,!0)},add:ls("add"),set:ls("set"),delete:ls("delete"),clear:ls("clear"),forEach:oc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ac(i,!1,!1),n[i]=ac(i,!0,!1),e[i]=ac(i,!1,!0),s[i]=ac(i,!0,!0)}),[t,n,e,s]}const[KS,WS,zS,GS]=qS();function Il(t,e){const n=e?t?GS:zS:t?WS:KS;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Se(n,r)&&r in s?n:s,r,i)}const YS={get:Il(!1,!1)},QS={get:Il(!1,!0)},XS={get:Il(!0,!1)},JS={get:Il(!0,!0)},P_=new WeakMap,L_=new WeakMap,x_=new WeakMap,M_=new WeakMap;function ZS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eO(t){return t.__v_skip||!Object.isExtensible(t)?0:ZS(fS(t))}function kr(t){return mr(t)?t:Al(t,!1,k_,YS,P_)}function $_(t){return Al(t,!1,jS,QS,L_)}function jf(t){return Al(t,!0,D_,XS,x_)}function tO(t){return Al(t,!0,HS,JS,M_)}function Al(t,e,n,s,r){if(!Le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=eO(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function zn(t){return mr(t)?zn(t.__v_raw):!!(t&&t.__v_isReactive)}function mr(t){return!!(t&&t.__v_isReadonly)}function Vo(t){return!!(t&&t.__v_isShallow)}function Hf(t){return zn(t)||mr(t)}function Ie(t){const e=t&&t.__v_raw;return e?Ie(e):t}function ya(t){return Fc(t,"__v_skip",!0),t}const Uo=t=>Le(t)?kr(t):t,qf=t=>Le(t)?jf(t):t;function Kf(t){Is&&ln&&(t=Ie(t),O_(t.dep||(t.dep=Uf())))}function Cl(t,e){t=Ie(t);const n=t.dep;n&&Sh(n)}function qe(t){return!!(t&&t.__v_isRef===!0)}function dn(t){return V_(t,!1)}function F_(t){return V_(t,!0)}function V_(t,e){return qe(t)?t:new nO(t,e)}class nO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ie(e),this._value=n?e:Uo(e)}get value(){return Kf(this),this._value}set value(e){const n=this.__v_isShallow||Vo(e)||mr(e);e=n?e:Ie(e),vi(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Uo(e),Cl(this))}}function sO(t){Cl(t)}function As(t){return qe(t)?t.value:t}function rO(t){return de(t)?t():As(t)}const iO={get:(t,e,n)=>As(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return qe(r)&&!qe(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Wf(t){return zn(t)?t:new Proxy(t,iO)}class oO{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=e(()=>Kf(this),()=>Cl(this));this._get=n,this._set=s}get value(){return this._get()}set value(e){this._set(e)}}function aO(t){return new oO(t)}function U_(t){const e=se(t)?new Array(t.length):{};for(const n in t)e[n]=B_(t,n);return e}class cO{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return NS(Ie(this._object),this._key)}}class lO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function uO(t,e,n){return qe(t)?t:de(t)?new lO(t):Le(t)&&arguments.length>1?B_(t,e,n):dn(t)}function B_(t,e,n){const s=t[e];return qe(s)?s:new cO(t,e,n)}class hO{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ma(e,()=>{this._dirty||(this._dirty=!0,Cl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=Ie(this);return Kf(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function fO(t,e,n=!1){let s,r;const i=de(t);return i?(s=t,r=fn):(s=t.get,r=t.set),new hO(s,r,i||!r,n)}function dO(t,...e){}function pO(t,e){}function Gn(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){Dr(i,e,n)}return r}function qt(t,e,n,s){if(de(t)){const i=Gn(t,e,n,s);return i&&xf(i)&&i.catch(o=>{Dr(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(qt(t[i],e,n,s));return r}function Dr(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let h=0;h<l.length;h++)if(l[h](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Gn(c,null,10,[t,o,a]);return}}gO(t,n,r,s)}function gO(t,e,n,s=!0){console.error(t)}let Bo=!1,Oh=!1;const yt=[];let In=0;const li=[];let Bn=null,nr=0;const j_=Promise.resolve();let zf=null;function _a(t){const e=zf||j_;return t?e.then(this?t.bind(this):t):e}function mO(t){let e=In+1,n=yt.length;for(;e<n;){const s=e+n>>>1;jo(yt[s])<t?e=s+1:n=s}return e}function Sl(t){(!yt.length||!yt.includes(t,Bo&&t.allowRecurse?In+1:In))&&(t.id==null?yt.push(t):yt.splice(mO(t.id),0,t),H_())}function H_(){!Bo&&!Oh&&(Oh=!0,zf=j_.then(q_))}function yO(t){const e=yt.indexOf(t);e>In&&yt.splice(e,1)}function Gf(t){se(t)?li.push(...t):(!Bn||!Bn.includes(t,t.allowRecurse?nr+1:nr))&&li.push(t),H_()}function Fg(t,e=Bo?In+1:0){for(;e<yt.length;e++){const n=yt[e];n&&n.pre&&(yt.splice(e,1),e--,n())}}function jc(t){if(li.length){const e=[...new Set(li)];if(li.length=0,Bn){Bn.push(...e);return}for(Bn=e,Bn.sort((n,s)=>jo(n)-jo(s)),nr=0;nr<Bn.length;nr++)Bn[nr]();Bn=null,nr=0}}const jo=t=>t.id==null?1/0:t.id,_O=(t,e)=>{const n=jo(t)-jo(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function q_(t){Oh=!1,Bo=!0,yt.sort(_O);const e=fn;try{for(In=0;In<yt.length;In++){const n=yt[In];n&&n.active!==!1&&Gn(n,null,14)}}finally{In=0,yt.length=0,jc(),Bo=!1,zf=null,(yt.length||li.length)&&q_()}}let Zr,cc=[];function K_(t,e){var n,s;Zr=t,Zr?(Zr.enabled=!0,cc.forEach(({event:r,args:i})=>Zr.emit(r,...i)),cc=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{K_(i,e)}),setTimeout(()=>{Zr||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,cc=[])},3e3)):cc=[]}function vO(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Pe;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:p}=s[h]||Pe;p&&(r=n.map(g=>je(g)?g.trim():g)),f&&(r=n.map(Vc))}let a,c=s[a=wo(e)]||s[a=wo(Mt(e))];!c&&i&&(c=s[a=wo(en(e))]),c&&qt(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,qt(l,t,6,r)}}function W_(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!de(t)){const c=l=>{const h=W_(l,e,!0);h&&(a=!0,$e(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Le(t)&&s.set(t,null),null):(se(i)?i.forEach(c=>o[c]=null):$e(o,i),Le(t)&&s.set(t,o),o)}function Ol(t,e){return!t||!fa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,en(e))||Se(t,e))}let st=null,Nl=null;function Ho(t){const e=st;return st=t,Nl=t&&t.type.__scopeId||null,e}function z_(t){Nl=t}function G_(){Nl=null}const EO=t=>Yf;function Yf(t,e=st,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&xh(-1);const i=Ho(e);let o;try{o=t(...r)}finally{Ho(i),s._d&&xh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Cc(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:h,renderCache:f,data:p,setupState:g,ctx:w,inheritAttrs:I}=t;let S,b;const _=Ho(t);try{if(n.shapeFlag&4){const T=r||s;S=jt(h.call(T,T,f,i,g,p,w)),b=c}else{const T=e;S=jt(T.length>1?T(i,{attrs:c,slots:a,emit:l}):T(i,null)),b=e.props?c:TO(c)}}catch(T){Ao.length=0,Dr(T,t,1),S=xe(vt)}let k=S;if(b&&I!==!1){const T=Object.keys(b),{shapeFlag:R}=k;T.length&&R&7&&(o&&T.some(Pf)&&(b=bO(b,o)),k=Pn(k,b))}return n.dirs&&(k=Pn(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),S=k,Ho(_),S}function wO(t){let e;for(let n=0;n<t.length;n++){const s=t[n];if(Ls(s)){if(s.type!==vt||s.children==="v-if"){if(e)return;e=s}}else return}return e}const TO=t=>{let e;for(const n in t)(n==="class"||n==="style"||fa(n))&&((e||(e={}))[n]=t[n]);return e},bO=(t,e)=>{const n={};for(const s in t)(!Pf(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function IO(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Vg(s,o,l):!!o;if(c&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==s[p]&&!Ol(l,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Vg(s,o,l):!0:!!o;return!1}function Vg(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Ol(n,i))return!0}return!1}function Qf({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Y_=t=>t.__isSuspense,AO={name:"Suspense",__isSuspense:!0,process(t,e,n,s,r,i,o,a,c,l){t==null?SO(e,n,s,r,i,o,a,c,l):OO(t,e,n,s,r,o,a,c,l)},hydrate:NO,create:Xf,normalize:RO},CO=AO;function qo(t,e){const n=t.props&&t.props[e];de(n)&&n()}function SO(t,e,n,s,r,i,o,a,c){const{p:l,o:{createElement:h}}=c,f=h("div"),p=t.suspense=Xf(t,r,s,e,f,n,i,o,a,c);l(null,p.pendingBranch=t.ssContent,f,null,s,p,i,o),p.deps>0?(qo(t,"onPending"),qo(t,"onFallback"),l(null,t.ssFallback,e,n,s,null,i,o),ui(p,t.ssFallback)):p.resolve(!1,!0)}function OO(t,e,n,s,r,i,o,a,{p:c,um:l,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:w,pendingBranch:I,isInFallback:S,isHydrating:b}=f;if(I)f.pendingBranch=p,un(p,I)?(c(I,p,f.hiddenContainer,null,r,f,i,o,a),f.deps<=0?f.resolve():S&&(c(w,g,n,s,r,null,i,o,a),ui(f,g))):(f.pendingId++,b?(f.isHydrating=!1,f.activeBranch=I):l(I,r,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),S?(c(null,p,f.hiddenContainer,null,r,f,i,o,a),f.deps<=0?f.resolve():(c(w,g,n,s,r,null,i,o,a),ui(f,g))):w&&un(p,w)?(c(w,p,n,s,r,f,i,o,a),f.resolve(!0)):(c(null,p,f.hiddenContainer,null,r,f,i,o,a),f.deps<=0&&f.resolve()));else if(w&&un(p,w))c(w,p,n,s,r,f,i,o,a),ui(f,p);else if(qo(e,"onPending"),f.pendingBranch=p,f.pendingId++,c(null,p,f.hiddenContainer,null,r,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:_,pendingId:k}=f;_>0?setTimeout(()=>{f.pendingId===k&&f.fallback(g)},_):_===0&&f.fallback(g)}}function Xf(t,e,n,s,r,i,o,a,c,l,h=!1){const{p:f,m:p,um:g,n:w,o:{parentNode:I,remove:S}}=l;let b;const _=kO(t);_&&e!=null&&e.pendingBranch&&(b=e.pendingId,e.deps++);const k=t.props?Uc(t.props.timeout):void 0,T={vnode:t,parent:e,parentComponent:n,isSVG:o,container:s,hiddenContainer:r,anchor:i,deps:0,pendingId:0,timeout:typeof k=="number"?k:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(R=!1,V=!1){const{vnode:U,activeBranch:O,pendingBranch:A,pendingId:N,effects:x,parentComponent:j,container:X}=T;if(T.isHydrating)T.isHydrating=!1;else if(!R){const ie=O&&A.transition&&A.transition.mode==="out-in";ie&&(O.transition.afterLeave=()=>{N===T.pendingId&&p(A,X,fe,0)});let{anchor:fe}=T;O&&(fe=w(O),g(O,j,T,!0)),ie||p(A,X,fe,0)}ui(T,A),T.pendingBranch=null,T.isInFallback=!1;let J=T.parent,we=!1;for(;J;){if(J.pendingBranch){J.effects.push(...x),we=!0;break}J=J.parent}we||Gf(x),T.effects=[],_&&e&&e.pendingBranch&&b===e.pendingId&&(e.deps--,e.deps===0&&!V&&e.resolve()),qo(U,"onResolve")},fallback(R){if(!T.pendingBranch)return;const{vnode:V,activeBranch:U,parentComponent:O,container:A,isSVG:N}=T;qo(V,"onFallback");const x=w(U),j=()=>{T.isInFallback&&(f(null,R,A,x,O,null,N,a,c),ui(T,R))},X=R.transition&&R.transition.mode==="out-in";X&&(U.transition.afterLeave=j),T.isInFallback=!0,g(U,O,null,!0),X||j()},move(R,V,U){T.activeBranch&&p(T.activeBranch,R,V,U),T.container=R},next(){return T.activeBranch&&w(T.activeBranch)},registerDep(R,V){const U=!!T.pendingBranch;U&&T.deps++;const O=R.vnode.el;R.asyncDep.catch(A=>{Dr(A,R,0)}).then(A=>{if(R.isUnmounted||T.isUnmounted||T.pendingId!==R.suspenseId)return;R.asyncResolved=!0;const{vnode:N}=R;Mh(R,A,!1),O&&(N.el=O);const x=!O&&R.subTree.el;V(R,N,I(O||R.subTree.el),O?null:w(R.subTree),T,o,c),x&&S(x),Qf(R,N.el),U&&--T.deps===0&&T.resolve()})},unmount(R,V){T.isUnmounted=!0,T.activeBranch&&g(T.activeBranch,n,R,V),T.pendingBranch&&g(T.pendingBranch,n,R,V)}};return T}function NO(t,e,n,s,r,i,o,a,c){const l=e.suspense=Xf(e,s,n,t.parentNode,document.createElement("div"),null,r,i,o,a,!0),h=c(t,l.pendingBranch=e.ssContent,n,l,i,o);return l.deps===0&&l.resolve(!1,!0),h}function RO(t){const{shapeFlag:e,children:n}=t,s=e&32;t.ssContent=Ug(s?n.default:n),t.ssFallback=s?Ug(n.fallback):xe(vt)}function Ug(t){let e;if(de(t)){const n=vr&&t._c;n&&(t._d=!1,Ze()),t=t(),n&&(t._d=!0,e=xt,Cv())}return se(t)&&(t=wO(t)),t=jt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Q_(t,e){e&&e.pendingBranch?se(t)?e.effects.push(...t):e.effects.push(t):Gf(t)}function ui(t,e){t.activeBranch=e;const{vnode:n,parentComponent:s}=t,r=n.el=e.el;s&&s.subTree===n&&(s.vnode.el=r,Qf(s,r))}function kO(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function DO(t,e){return va(t,null,e)}function X_(t,e){return va(t,null,{flush:"post"})}function PO(t,e){return va(t,null,{flush:"sync"})}const lc={};function Yn(t,e,n){return va(t,e,n)}function va(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Pe){var a;const c=Vf()===((a=Xe)==null?void 0:a.scope)?Xe:null;let l,h=!1,f=!1;if(qe(t)?(l=()=>t.value,h=Vo(t)):zn(t)?(l=()=>t,s=!0):se(t)?(f=!0,h=t.some(T=>zn(T)||Vo(T)),l=()=>t.map(T=>{if(qe(T))return T.value;if(zn(T))return rr(T);if(de(T))return Gn(T,c,2)})):de(t)?e?l=()=>Gn(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return p&&p(),qt(t,c,3,[g])}:l=fn,e&&s){const T=l;l=()=>rr(T())}let p,g=T=>{p=_.onStop=()=>{Gn(T,c,4)}},w;if(wi)if(g=fn,e?n&&qt(e,c,3,[l(),f?[]:void 0,g]):l(),r==="sync"){const T=$v();w=T.__watcherHandles||(T.__watcherHandles=[])}else return fn;let I=f?new Array(t.length).fill(lc):lc;const S=()=>{if(_.active)if(e){const T=_.run();(s||h||(f?T.some((R,V)=>vi(R,I[V])):vi(T,I)))&&(p&&p(),qt(e,c,3,[T,I===lc?void 0:f&&I[0]===lc?[]:I,g]),I=T)}else _.run()};S.allowRecurse=!!e;let b;r==="sync"?b=S:r==="post"?b=()=>at(S,c&&c.suspense):(S.pre=!0,c&&(S.id=c.uid),b=()=>Sl(S));const _=new ma(l,b);e?n?S():I=_.run():r==="post"?at(_.run.bind(_),c&&c.suspense):_.run();const k=()=>{_.stop(),c&&c.scope&&Lf(c.scope.effects,_)};return w&&w.push(k),k}function LO(t,e,n){const s=this.proxy,r=je(t)?t.includes(".")?J_(s,t):()=>s[t]:t.bind(s,s);let i;de(e)?i=e:(i=e.handler,n=e);const o=Xe;xs(this);const a=va(r,i.bind(s),n);return o?xs(o):Cs(),a}function J_(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function rr(t,e){if(!Le(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),qe(t))rr(t.value,e);else if(se(t))for(let n=0;n<t.length;n++)rr(t[n],e);else if(Rr(t)||ai(t))t.forEach(n=>{rr(n,e)});else if(E_(t))for(const n in t)rr(t[n],e);return t}function An(t,e){const n=st;if(n===null)return t;const s=Fl(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=Pe]=e[i];o&&(de(o)&&(o={mounted:o,updated:o}),o.deep&&rr(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function bn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(Ui(),qt(c,n,8,[t.el,a,t,e]),Bi())}}function Jf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return wa(()=>{t.isMounted=!0}),Pl(()=>{t.isUnmounting=!0}),t}const Zt=[Function,Array],Zf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zt,onEnter:Zt,onAfterEnter:Zt,onEnterCancelled:Zt,onBeforeLeave:Zt,onLeave:Zt,onAfterLeave:Zt,onLeaveCancelled:Zt,onBeforeAppear:Zt,onAppear:Zt,onAfterAppear:Zt,onAppearCancelled:Zt},xO={name:"BaseTransition",props:Zf,setup(t,{slots:e}){const n=is(),s=Jf();let r;return()=>{const i=e.default&&Rl(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const I of i)if(I.type!==vt){o=I;break}}const a=Ie(t),{mode:c}=a;if(s.isLeaving)return Uu(o);const l=Bg(o);if(!l)return Uu(o);const h=Ei(l,a,s,n);yr(l,h);const f=n.subTree,p=f&&Bg(f);let g=!1;const{getTransitionKey:w}=l.type;if(w){const I=w();r===void 0?r=I:I!==r&&(r=I,g=!0)}if(p&&p.type!==vt&&(!un(l,p)||g)){const I=Ei(p,a,s,n);if(yr(p,I),c==="out-in")return s.isLeaving=!0,I.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},Uu(o);c==="in-out"&&l.type!==vt&&(I.delayLeave=(S,b,_)=>{const k=ev(s,p);k[String(p.key)]=p,S._leaveCb=()=>{b(),S._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=_})}return o}}},Z_=xO;function ev(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Ei(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:w,onBeforeAppear:I,onAppear:S,onAfterAppear:b,onAppearCancelled:_}=e,k=String(t.key),T=ev(n,t),R=(O,A)=>{O&&qt(O,s,9,A)},V=(O,A)=>{const N=A[1];R(O,A),se(O)?O.every(x=>x.length<=1)&&N():O.length<=1&&N()},U={mode:i,persisted:o,beforeEnter(O){let A=a;if(!n.isMounted)if(r)A=I||a;else return;O._leaveCb&&O._leaveCb(!0);const N=T[k];N&&un(t,N)&&N.el._leaveCb&&N.el._leaveCb(),R(A,[O])},enter(O){let A=c,N=l,x=h;if(!n.isMounted)if(r)A=S||c,N=b||l,x=_||h;else return;let j=!1;const X=O._enterCb=J=>{j||(j=!0,J?R(x,[O]):R(N,[O]),U.delayedLeave&&U.delayedLeave(),O._enterCb=void 0)};A?V(A,[O,X]):X()},leave(O,A){const N=String(t.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return A();R(f,[O]);let x=!1;const j=O._leaveCb=X=>{x||(x=!0,A(),X?R(w,[O]):R(g,[O]),O._leaveCb=void 0,T[N]===t&&delete T[N])};T[N]=t,p?V(p,[O,j]):j()},clone(O){return Ei(O,e,n,s)}};return U}function Uu(t){if(Ea(t))return t=Pn(t),t.children=null,t}function Bg(t){return Ea(t)?t.children?t.children[0]:void 0:t}function yr(t,e){t.shapeFlag&6&&t.component?yr(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Rl(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Qe?(o.patchFlag&128&&r++,s=s.concat(Rl(o.children,e,a))):(e||o.type!==vt)&&s.push(a!=null?Pn(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function En(t,e){return de(t)?(()=>$e({name:t.name},e,{setup:t}))():t}const hr=t=>!!t.type.__asyncLoader;function MO(t){de(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:s,delay:r=200,timeout:i,suspensible:o=!0,onError:a}=t;let c=null,l,h=0;const f=()=>(h++,c=null,p()),p=()=>{let g;return c||(g=c=e().catch(w=>{if(w=w instanceof Error?w:new Error(String(w)),a)return new Promise((I,S)=>{a(w,()=>I(f()),()=>S(w),h+1)});throw w}).then(w=>g!==c&&c?c:(w&&(w.__esModule||w[Symbol.toStringTag]==="Module")&&(w=w.default),l=w,w)))};return En({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return l},setup(){const g=Xe;if(l)return()=>Bu(l,g);const w=_=>{c=null,Dr(_,g,13,!s)};if(o&&g.suspense||wi)return p().then(_=>()=>Bu(_,g)).catch(_=>(w(_),()=>s?xe(s,{error:_}):null));const I=dn(!1),S=dn(),b=dn(!!r);return r&&setTimeout(()=>{b.value=!1},r),i!=null&&setTimeout(()=>{if(!I.value&&!S.value){const _=new Error(`Async component timed out after ${i}ms.`);w(_),S.value=_}},i),p().then(()=>{I.value=!0,g.parent&&Ea(g.parent.vnode)&&Sl(g.parent.update)}).catch(_=>{w(_),S.value=_}),()=>{if(I.value&&l)return Bu(l,g);if(S.value&&s)return xe(s,{error:S.value});if(n&&!b.value)return xe(n)}}})}function Bu(t,e){const{ref:n,props:s,children:r,ce:i}=e.vnode,o=xe(t,s,r);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Ea=t=>t.type.__isKeepAlive,$O={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=is(),s=n.ctx;if(!s.renderer)return()=>{const _=e.default&&e.default();return _&&_.length===1?_[0]:_};const r=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:l,um:h,o:{createElement:f}}}=s,p=f("div");s.activate=(_,k,T,R,V)=>{const U=_.component;l(_,k,T,0,a),c(U.vnode,_,k,T,U,a,R,_.slotScopeIds,V),at(()=>{U.isDeactivated=!1,U.a&&ci(U.a);const O=_.props&&_.props.onVnodeMounted;O&&Pt(O,U.parent,_)},a)},s.deactivate=_=>{const k=_.component;l(_,p,null,1,a),at(()=>{k.da&&ci(k.da);const T=_.props&&_.props.onVnodeUnmounted;T&&Pt(T,k.parent,_),k.isDeactivated=!0},a)};function g(_){ju(_),h(_,n,a,!0)}function w(_){r.forEach((k,T)=>{const R=Fh(k.type);R&&(!_||!_(R))&&I(T)})}function I(_){const k=r.get(_);!o||!un(k,o)?g(k):o&&ju(o),r.delete(_),i.delete(_)}Yn(()=>[t.include,t.exclude],([_,k])=>{_&&w(T=>ho(_,T)),k&&w(T=>!ho(k,T))},{flush:"post",deep:!0});let S=null;const b=()=>{S!=null&&r.set(S,Hu(n.subTree))};return wa(b),Dl(b),Pl(()=>{r.forEach(_=>{const{subTree:k,suspense:T}=n,R=Hu(k);if(_.type===R.type&&_.key===R.key){ju(R);const V=R.component.da;V&&at(V,T);return}g(_)})}),()=>{if(S=null,!e.default)return null;const _=e.default(),k=_[0];if(_.length>1)return o=null,_;if(!Ls(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return o=null,k;let T=Hu(k);const R=T.type,V=Fh(hr(T)?T.type.__asyncResolved||{}:R),{include:U,exclude:O,max:A}=t;if(U&&(!V||!ho(U,V))||O&&V&&ho(O,V))return o=T,k;const N=T.key==null?R:T.key,x=r.get(N);return T.el&&(T=Pn(T),k.shapeFlag&128&&(k.ssContent=T)),S=N,x?(T.el=x.el,T.component=x.component,T.transition&&yr(T,T.transition),T.shapeFlag|=512,i.delete(N),i.add(N)):(i.add(N),A&&i.size>parseInt(A,10)&&I(i.values().next().value)),T.shapeFlag|=256,o=T,Y_(k.type)?k:T}}},FO=$O;function ho(t,e){return se(t)?t.some(n=>ho(n,e)):je(t)?t.split(",").includes(e):hS(t)?t.test(e):!1}function tv(t,e){sv(t,"a",e)}function nv(t,e){sv(t,"da",e)}function sv(t,e,n=Xe){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(kl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Ea(r.parent.vnode)&&VO(s,e,n,r),r=r.parent}}function VO(t,e,n,s){const r=kl(e,t,s,!0);Ll(()=>{Lf(s[e],r)},n)}function ju(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Hu(t){return t.shapeFlag&128?t.ssContent:t}function kl(t,e,n=Xe,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Ui(),xs(n);const a=qt(e,n,t,o);return Cs(),Bi(),a});return s?r.unshift(i):r.push(i),i}}const rs=t=>(e,n=Xe)=>(!wi||t==="sp")&&kl(t,(...s)=>e(...s),n),rv=rs("bm"),wa=rs("m"),iv=rs("bu"),Dl=rs("u"),Pl=rs("bum"),Ll=rs("um"),ov=rs("sp"),av=rs("rtg"),cv=rs("rtc");function lv(t,e=Xe){kl("ec",t,e)}const ed="components",UO="directives";function xl(t,e){return td(ed,t,!0,e)||t}const uv=Symbol.for("v-ndc");function BO(t){return je(t)?td(ed,t,!1)||t:t||uv}function jO(t){return td(UO,t)}function td(t,e,n=!0,s=!1){const r=st||Xe;if(r){const i=r.type;if(t===ed){const a=Fh(i,!1);if(a&&(a===e||a===Mt(e)||a===da(Mt(e))))return i}const o=jg(r[t]||i[t],e)||jg(r.appContext[t],e);return!o&&s?i:o}}function jg(t,e){return t&&(t[e]||t[Mt(e)]||t[da(Mt(e))])}function hv(t,e,n,s){let r;const i=n&&n[s];if(se(t)||je(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Le(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];r[a]=e(t[l],l,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function HO(t,e){for(let n=0;n<e.length;n++){const s=e[n];if(se(s))for(let r=0;r<s.length;r++)t[s[r].name]=s[r].fn;else s&&(t[s.name]=s.key?(...r)=>{const i=s.fn(...r);return i&&(i.key=s.key),i}:s.fn)}return t}function qO(t,e,n={},s,r){if(st.isCE||st.parent&&hr(st.parent)&&st.parent.isCE)return e!=="default"&&(n.name=e),xe("slot",n,s&&s());let i=t[e];i&&i._c&&(i._d=!1),Ze();const o=i&&fv(i(n)),a=Ml(Qe,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function fv(t){return t.some(e=>Ls(e)?!(e.type===vt||e.type===Qe&&!fv(e.children)):!0)?t:null}function KO(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:wo(s)]=t[s];return n}const Nh=t=>t?Dv(t)?Fl(t)||t.proxy:Nh(t.parent):null,To=$e(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Nh(t.parent),$root:t=>Nh(t.root),$emit:t=>t.emit,$options:t=>nd(t),$forceUpdate:t=>t.f||(t.f=()=>Sl(t.update)),$nextTick:t=>t.n||(t.n=_a.bind(t.proxy)),$watch:t=>LO.bind(t)}),qu=(t,e)=>t!==Pe&&!t.__isScriptSetup&&Se(t,e),Rh={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(qu(s,e))return o[e]=1,s[e];if(r!==Pe&&Se(r,e))return o[e]=2,r[e];if((l=t.propsOptions[0])&&Se(l,e))return o[e]=3,i[e];if(n!==Pe&&Se(n,e))return o[e]=4,n[e];kh&&(o[e]=0)}}const h=To[e];let f,p;if(h)return e==="$attrs"&&Ft(t,"get",e),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Pe&&Se(n,e))return o[e]=4,n[e];if(p=c.config.globalProperties,Se(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return qu(r,e)?(r[e]=n,!0):s!==Pe&&Se(s,e)?(s[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Pe&&Se(t,o)||qu(e,o)||(a=i[0])&&Se(a,o)||Se(s,o)||Se(To,o)||Se(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},WO=$e({},Rh,{get(t,e){if(e!==Symbol.unscopables)return Rh.get(t,e,t)},has(t,e){return e[0]!=="_"&&!mS(e)}});function zO(){return null}function GO(){return null}function YO(t){}function QO(t){}function XO(){return null}function JO(){}function ZO(t,e){return null}function eN(){return dv().slots}function tN(){return dv().attrs}function nN(t,e,n){const s=is();if(n&&n.local){const r=dn(t[e]);return Yn(()=>t[e],i=>r.value=i),Yn(r,i=>{i!==t[e]&&s.emit(`update:${e}`,i)}),r}else return{__v_isRef:!0,get value(){return t[e]},set value(r){s.emit(`update:${e}`,r)}}}function dv(){const t=is();return t.setupContext||(t.setupContext=xv(t))}function Ko(t){return se(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function sN(t,e){const n=Ko(t);for(const s in e){if(s.startsWith("__skip"))continue;let r=n[s];r?se(r)||de(r)?r=n[s]={type:r,default:e[s]}:r.default=e[s]:r===null&&(r=n[s]={default:e[s]}),r&&e[`__skip_${s}`]&&(r.skipFactory=!0)}return n}function rN(t,e){return!t||!e?t||e:se(t)&&se(e)?t.concat(e):$e({},Ko(t),Ko(e))}function iN(t,e){const n={};for(const s in t)e.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>t[s]});return n}function oN(t){const e=is();let n=t();return Cs(),xf(n)&&(n=n.catch(s=>{throw xs(e),s})),[n,()=>xs(e)]}let kh=!0;function aN(t){const e=nd(t),n=t.proxy,s=t.ctx;kh=!1,e.beforeCreate&&Hg(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:h,beforeMount:f,mounted:p,beforeUpdate:g,updated:w,activated:I,deactivated:S,beforeDestroy:b,beforeUnmount:_,destroyed:k,unmounted:T,render:R,renderTracked:V,renderTriggered:U,errorCaptured:O,serverPrefetch:A,expose:N,inheritAttrs:x,components:j,directives:X,filters:J}=e;if(l&&cN(l,s,null),o)for(const fe in o){const Te=o[fe];de(Te)&&(s[fe]=Te.bind(n))}if(r){const fe=r.call(n,n);Le(fe)&&(t.data=kr(fe))}if(kh=!0,i)for(const fe in i){const Te=i[fe],ze=de(Te)?Te.bind(n,n):de(Te.get)?Te.get.bind(n,n):fn,At=!de(Te)&&de(Te.set)?Te.set.bind(n):fn,ot=Lt({get:ze,set:At});Object.defineProperty(s,fe,{enumerable:!0,configurable:!0,get:()=>ot.value,set:He=>ot.value=He})}if(a)for(const fe in a)pv(a[fe],s,n,fe);if(c){const fe=de(c)?c.call(n):c;Reflect.ownKeys(fe).forEach(Te=>{bo(Te,fe[Te])})}h&&Hg(h,t,"c");function ie(fe,Te){se(Te)?Te.forEach(ze=>fe(ze.bind(n))):Te&&fe(Te.bind(n))}if(ie(rv,f),ie(wa,p),ie(iv,g),ie(Dl,w),ie(tv,I),ie(nv,S),ie(lv,O),ie(cv,V),ie(av,U),ie(Pl,_),ie(Ll,T),ie(ov,A),se(N))if(N.length){const fe=t.exposed||(t.exposed={});N.forEach(Te=>{Object.defineProperty(fe,Te,{get:()=>n[Te],set:ze=>n[Te]=ze})})}else t.exposed||(t.exposed={});R&&t.render===fn&&(t.render=R),x!=null&&(t.inheritAttrs=x),j&&(t.components=j),X&&(t.directives=X)}function cN(t,e,n=fn){se(t)&&(t=Dh(t));for(const s in t){const r=t[s];let i;Le(r)?"default"in r?i=pn(r.from||s,r.default,!0):i=pn(r.from||s):i=pn(r),qe(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Hg(t,e,n){qt(se(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function pv(t,e,n,s){const r=s.includes(".")?J_(n,s):()=>n[s];if(je(t)){const i=e[t];de(i)&&Yn(r,i)}else if(de(t))Yn(r,t.bind(n));else if(Le(t))if(se(t))t.forEach(i=>pv(i,e,n,s));else{const i=de(t.handler)?t.handler.bind(n):e[t.handler];de(i)&&Yn(r,i,t)}}function nd(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>Hc(c,l,o,!0)),Hc(c,e,o)),Le(e)&&i.set(e,c),c}function Hc(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Hc(t,i,n,!0),r&&r.forEach(o=>Hc(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=lN[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const lN={data:qg,props:Kg,emits:Kg,methods:fo,computed:fo,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:fo,directives:fo,watch:hN,provide:qg,inject:uN};function qg(t,e){return e?t?function(){return $e(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function uN(t,e){return fo(Dh(t),Dh(e))}function Dh(t){if(se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function St(t,e){return t?[...new Set([].concat(t,e))]:e}function fo(t,e){return t?$e(Object.create(null),t,e):e}function Kg(t,e){return t?se(t)&&se(e)?[...new Set([...t,...e])]:$e(Object.create(null),Ko(t),Ko(e??{})):e}function hN(t,e){if(!t)return e;if(!e)return t;const n=$e(Object.create(null),t);for(const s in e)n[s]=St(t[s],e[s]);return n}function gv(){return{app:null,config:{isNativeTag:cS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fN=0;function dN(t,e){return function(s,r=null){de(s)||(s=$e({},s)),r!=null&&!Le(r)&&(r=null);const i=gv(),o=new Set;let a=!1;const c=i.app={_uid:fN++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Vv,get config(){return i.config},set config(l){},use(l,...h){return o.has(l)||(l&&de(l.install)?(o.add(l),l.install(c,...h)):de(l)&&(o.add(l),l(c,...h))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,h){return h?(i.components[l]=h,c):i.components[l]},directive(l,h){return h?(i.directives[l]=h,c):i.directives[l]},mount(l,h,f){if(!a){const p=xe(s,r);return p.appContext=i,h&&e?e(p,l):t(p,l,f),a=!0,c._container=l,l.__vue_app__=c,Fl(p.component)||p.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,h){return i.provides[l]=h,c},runWithContext(l){Wo=c;try{return l()}finally{Wo=null}}};return c}}let Wo=null;function bo(t,e){if(Xe){let n=Xe.provides;const s=Xe.parent&&Xe.parent.provides;s===n&&(n=Xe.provides=Object.create(s)),n[t]=e}}function pn(t,e,n=!1){const s=Xe||st;if(s||Wo){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Wo._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&de(e)?e.call(s&&s.proxy):e}}function mv(){return!!(Xe||st||Wo)}function pN(t,e,n,s=!1){const r={},i={};Fc(i,$l,1),t.propsDefaults=Object.create(null),yv(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:$_(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function gN(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Ie(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(Ol(t.emitsOptions,p))continue;const g=e[p];if(c)if(Se(i,p))g!==i[p]&&(i[p]=g,l=!0);else{const w=Mt(p);r[w]=Ph(c,a,w,g,t,!1)}else g!==i[p]&&(i[p]=g,l=!0)}}}else{yv(t,e,r,i)&&(l=!0);let h;for(const f in a)(!e||!Se(e,f)&&((h=en(f))===f||!Se(e,h)))&&(c?n&&(n[f]!==void 0||n[h]!==void 0)&&(r[f]=Ph(c,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!Se(e,f))&&(delete i[f],l=!0)}l&&Xn(t,"set","$attrs")}function yv(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Eo(c))continue;const l=e[c];let h;r&&Se(r,h=Mt(c))?!i||!i.includes(h)?n[h]=l:(a||(a={}))[h]=l:Ol(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=Ie(n),l=a||Pe;for(let h=0;h<i.length;h++){const f=i[h];n[f]=Ph(r,c,f,l[f],t,!Se(l,f))}}return o}function Ph(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Se(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&de(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(xs(r),s=l[n]=c.call(null,e),Cs())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===en(n))&&(s=!0))}return s}function _v(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!de(t)){const h=f=>{c=!0;const[p,g]=_v(f,e,!0);$e(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return Le(t)&&s.set(t,oi),oi;if(se(i))for(let h=0;h<i.length;h++){const f=Mt(i[h]);Wg(f)&&(o[f]=Pe)}else if(i)for(const h in i){const f=Mt(h);if(Wg(f)){const p=i[h],g=o[f]=se(p)||de(p)?{type:p}:$e({},p);if(g){const w=Yg(Boolean,g.type),I=Yg(String,g.type);g[0]=w>-1,g[1]=I<0||w<I,(w>-1||Se(g,"default"))&&a.push(f)}}}const l=[o,a];return Le(t)&&s.set(t,l),l}function Wg(t){return t[0]!=="$"}function zg(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Gg(t,e){return zg(t)===zg(e)}function Yg(t,e){return se(e)?e.findIndex(n=>Gg(n,t)):de(e)&&Gg(e,t)?0:-1}const vv=t=>t[0]==="_"||t==="$stable",sd=t=>se(t)?t.map(jt):[jt(t)],mN=(t,e,n)=>{if(e._n)return e;const s=Yf((...r)=>sd(e(...r)),n);return s._c=!1,s},Ev=(t,e,n)=>{const s=t._ctx;for(const r in t){if(vv(r))continue;const i=t[r];if(de(i))e[r]=mN(r,i,s);else if(i!=null){const o=sd(i);e[r]=()=>o}}},wv=(t,e)=>{const n=sd(e);t.slots.default=()=>n},yN=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ie(e),Fc(e,"_",n)):Ev(e,t.slots={})}else t.slots={},e&&wv(t,e);Fc(t.slots,$l,1)},_N=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Pe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:($e(r,e),!n&&a===1&&delete r._):(i=!e.$stable,Ev(e,r)),o=e}else e&&(wv(t,e),o={default:1});if(i)for(const a in r)!vv(a)&&!(a in o)&&delete r[a]};function qc(t,e,n,s,r=!1){if(se(t)){t.forEach((p,g)=>qc(p,e&&(se(e)?e[g]:e),n,s,r));return}if(hr(s)&&!r)return;const i=s.shapeFlag&4?Fl(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,h=a.refs===Pe?a.refs={}:a.refs,f=a.setupState;if(l!=null&&l!==c&&(je(l)?(h[l]=null,Se(f,l)&&(f[l]=null)):qe(l)&&(l.value=null)),de(c))Gn(c,a,12,[o,h]);else{const p=je(c),g=qe(c);if(p||g){const w=()=>{if(t.f){const I=p?Se(f,c)?f[c]:h[c]:c.value;r?se(I)&&Lf(I,i):se(I)?I.includes(i)||I.push(i):p?(h[c]=[i],Se(f,c)&&(f[c]=h[c])):(c.value=[i],t.k&&(h[t.k]=c.value))}else p?(h[c]=o,Se(f,c)&&(f[c]=o)):g&&(c.value=o,t.k&&(h[t.k]=o))};o?(w.id=-1,at(w,n)):w()}}}let us=!1;const uc=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",hc=t=>t.nodeType===8;function vN(t){const{mt:e,p:n,o:{patchProp:s,createText:r,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:l}}=t,h=(b,_)=>{if(!_.hasChildNodes()){n(null,b,_),jc(),_._vnode=b;return}us=!1,f(_.firstChild,b,null,null,null),jc(),_._vnode=b,us&&console.error("Hydration completed but contains mismatches.")},f=(b,_,k,T,R,V=!1)=>{const U=hc(b)&&b.data==="[",O=()=>I(b,_,k,T,R,U),{type:A,ref:N,shapeFlag:x,patchFlag:j}=_;let X=b.nodeType;_.el=b,j===-2&&(V=!1,_.dynamicChildren=null);let J=null;switch(A){case _r:X!==3?_.children===""?(c(_.el=r(""),o(b),b),J=b):J=O():(b.data!==_.children&&(us=!0,b.data=_.children),J=i(b));break;case vt:X!==8||U?J=O():J=i(b);break;case fr:if(U&&(b=i(b),X=b.nodeType),X===1||X===3){J=b;const we=!_.children.length;for(let ie=0;ie<_.staticCount;ie++)we&&(_.children+=J.nodeType===1?J.outerHTML:J.data),ie===_.staticCount-1&&(_.anchor=J),J=i(J);return U?i(J):J}else O();break;case Qe:U?J=w(b,_,k,T,R,V):J=O();break;default:if(x&1)X!==1||_.type.toLowerCase()!==b.tagName.toLowerCase()?J=O():J=p(b,_,k,T,R,V);else if(x&6){_.slotScopeIds=R;const we=o(b);if(e(_,we,null,k,T,uc(we),V),J=U?S(b):i(b),J&&hc(J)&&J.data==="teleport end"&&(J=i(J)),hr(_)){let ie;U?(ie=xe(Qe),ie.anchor=J?J.previousSibling:we.lastChild):ie=b.nodeType===3?Hn(""):xe("div"),ie.el=b,_.component.subTree=ie}}else x&64?X!==8?J=O():J=_.type.hydrate(b,_,k,T,R,V,t,g):x&128&&(J=_.type.hydrate(b,_,k,T,uc(o(b)),R,V,t,f))}return N!=null&&qc(N,null,T,_),J},p=(b,_,k,T,R,V)=>{V=V||!!_.dynamicChildren;const{type:U,props:O,patchFlag:A,shapeFlag:N,dirs:x}=_,j=U==="input"&&x||U==="option";if(j||A!==-1){if(x&&bn(_,null,k,"created"),O)if(j||!V||A&48)for(const J in O)(j&&J.endsWith("value")||fa(J)&&!Eo(J))&&s(b,J,null,O[J],!1,void 0,k);else O.onClick&&s(b,"onClick",null,O.onClick,!1,void 0,k);let X;if((X=O&&O.onVnodeBeforeMount)&&Pt(X,k,_),x&&bn(_,null,k,"beforeMount"),((X=O&&O.onVnodeMounted)||x)&&Q_(()=>{X&&Pt(X,k,_),x&&bn(_,null,k,"mounted")},T),N&16&&!(O&&(O.innerHTML||O.textContent))){let J=g(b.firstChild,_,b,k,T,R,V);for(;J;){us=!0;const we=J;J=J.nextSibling,a(we)}}else N&8&&b.textContent!==_.children&&(us=!0,b.textContent=_.children)}return b.nextSibling},g=(b,_,k,T,R,V,U)=>{U=U||!!_.dynamicChildren;const O=_.children,A=O.length;for(let N=0;N<A;N++){const x=U?O[N]:O[N]=jt(O[N]);if(b)b=f(b,x,T,R,V,U);else{if(x.type===_r&&!x.children)continue;us=!0,n(null,x,k,null,T,R,uc(k),V)}}return b},w=(b,_,k,T,R,V)=>{const{slotScopeIds:U}=_;U&&(R=R?R.concat(U):U);const O=o(b),A=g(i(b),_,O,k,T,R,V);return A&&hc(A)&&A.data==="]"?i(_.anchor=A):(us=!0,c(_.anchor=l("]"),O,A),A)},I=(b,_,k,T,R,V)=>{if(us=!0,_.el=null,V){const A=S(b);for(;;){const N=i(b);if(N&&N!==A)a(N);else break}}const U=i(b),O=o(b);return a(b),n(null,_,O,U,k,T,uc(O),R),U},S=b=>{let _=0;for(;b;)if(b=i(b),b&&hc(b)&&(b.data==="["&&_++,b.data==="]")){if(_===0)return i(b);_--}return b};return[h,f]}const at=Q_;function Tv(t){return Iv(t)}function bv(t){return Iv(t,vN)}function Iv(t,e){const n=Ih();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:h,parentNode:f,nextSibling:p,setScopeId:g=fn,insertStaticContent:w}=t,I=(m,E,C,L=null,F=null,q=null,G=!1,W=null,D=!!E.dynamicChildren)=>{if(m===E)return;m&&!un(m,E)&&(L=M(m),He(m,F,q,!0),m=null),E.patchFlag===-2&&(D=!1,E.dynamicChildren=null);const{type:H,ref:le,shapeFlag:re}=E;switch(H){case _r:S(m,E,C,L);break;case vt:b(m,E,C,L);break;case fr:m==null&&_(E,C,L,G);break;case Qe:j(m,E,C,L,F,q,G,W,D);break;default:re&1?R(m,E,C,L,F,q,G,W,D):re&6?X(m,E,C,L,F,q,G,W,D):(re&64||re&128)&&H.process(m,E,C,L,F,q,G,W,D,Y)}le!=null&&F&&qc(le,m&&m.ref,q,E||m,!E)},S=(m,E,C,L)=>{if(m==null)s(E.el=a(E.children),C,L);else{const F=E.el=m.el;E.children!==m.children&&l(F,E.children)}},b=(m,E,C,L)=>{m==null?s(E.el=c(E.children||""),C,L):E.el=m.el},_=(m,E,C,L)=>{[m.el,m.anchor]=w(m.children,E,C,L,m.el,m.anchor)},k=({el:m,anchor:E},C,L)=>{let F;for(;m&&m!==E;)F=p(m),s(m,C,L),m=F;s(E,C,L)},T=({el:m,anchor:E})=>{let C;for(;m&&m!==E;)C=p(m),r(m),m=C;r(E)},R=(m,E,C,L,F,q,G,W,D)=>{G=G||E.type==="svg",m==null?V(E,C,L,F,q,G,W,D):A(m,E,F,q,G,W,D)},V=(m,E,C,L,F,q,G,W)=>{let D,H;const{type:le,props:re,shapeFlag:ae,transition:he,dirs:ve}=m;if(D=m.el=o(m.type,q,re&&re.is,re),ae&8?h(D,m.children):ae&16&&O(m.children,D,null,L,F,q&&le!=="foreignObject",G,W),ve&&bn(m,null,L,"created"),U(D,m,m.scopeId,G,L),re){for(const Ce in re)Ce!=="value"&&!Eo(Ce)&&i(D,Ce,null,re[Ce],q,m.children,L,F,Fe);"value"in re&&i(D,"value",null,re.value),(H=re.onVnodeBeforeMount)&&Pt(H,L,m)}ve&&bn(m,null,L,"beforeMount");const Ne=(!F||F&&!F.pendingBranch)&&he&&!he.persisted;Ne&&he.beforeEnter(D),s(D,E,C),((H=re&&re.onVnodeMounted)||Ne||ve)&&at(()=>{H&&Pt(H,L,m),Ne&&he.enter(D),ve&&bn(m,null,L,"mounted")},F)},U=(m,E,C,L,F)=>{if(C&&g(m,C),L)for(let q=0;q<L.length;q++)g(m,L[q]);if(F){let q=F.subTree;if(E===q){const G=F.vnode;U(m,G,G.scopeId,G.slotScopeIds,F.parent)}}},O=(m,E,C,L,F,q,G,W,D=0)=>{for(let H=D;H<m.length;H++){const le=m[H]=W?ms(m[H]):jt(m[H]);I(null,le,E,C,L,F,q,G,W)}},A=(m,E,C,L,F,q,G)=>{const W=E.el=m.el;let{patchFlag:D,dynamicChildren:H,dirs:le}=E;D|=m.patchFlag&16;const re=m.props||Pe,ae=E.props||Pe;let he;C&&Zs(C,!1),(he=ae.onVnodeBeforeUpdate)&&Pt(he,C,E,m),le&&bn(E,m,C,"beforeUpdate"),C&&Zs(C,!0);const ve=F&&E.type!=="foreignObject";if(H?N(m.dynamicChildren,H,W,C,L,ve,q):G||Te(m,E,W,null,C,L,ve,q,!1),D>0){if(D&16)x(W,E,re,ae,C,L,F);else if(D&2&&re.class!==ae.class&&i(W,"class",null,ae.class,F),D&4&&i(W,"style",re.style,ae.style,F),D&8){const Ne=E.dynamicProps;for(let Ce=0;Ce<Ne.length;Ce++){const Me=Ne[Ce],Ut=re[Me],qs=ae[Me];(qs!==Ut||Me==="value")&&i(W,Me,Ut,qs,F,m.children,C,L,Fe)}}D&1&&m.children!==E.children&&h(W,E.children)}else!G&&H==null&&x(W,E,re,ae,C,L,F);((he=ae.onVnodeUpdated)||le)&&at(()=>{he&&Pt(he,C,E,m),le&&bn(E,m,C,"updated")},L)},N=(m,E,C,L,F,q,G)=>{for(let W=0;W<E.length;W++){const D=m[W],H=E[W],le=D.el&&(D.type===Qe||!un(D,H)||D.shapeFlag&70)?f(D.el):C;I(D,H,le,null,L,F,q,G,!0)}},x=(m,E,C,L,F,q,G)=>{if(C!==L){if(C!==Pe)for(const W in C)!Eo(W)&&!(W in L)&&i(m,W,C[W],null,G,E.children,F,q,Fe);for(const W in L){if(Eo(W))continue;const D=L[W],H=C[W];D!==H&&W!=="value"&&i(m,W,H,D,G,E.children,F,q,Fe)}"value"in L&&i(m,"value",C.value,L.value)}},j=(m,E,C,L,F,q,G,W,D)=>{const H=E.el=m?m.el:a(""),le=E.anchor=m?m.anchor:a("");let{patchFlag:re,dynamicChildren:ae,slotScopeIds:he}=E;he&&(W=W?W.concat(he):he),m==null?(s(H,C,L),s(le,C,L),O(E.children,C,le,F,q,G,W,D)):re>0&&re&64&&ae&&m.dynamicChildren?(N(m.dynamicChildren,ae,C,F,q,G,W),(E.key!=null||F&&E===F.subTree)&&rd(m,E,!0)):Te(m,E,C,le,F,q,G,W,D)},X=(m,E,C,L,F,q,G,W,D)=>{E.slotScopeIds=W,m==null?E.shapeFlag&512?F.ctx.activate(E,C,L,G,D):J(E,C,L,F,q,G,D):we(m,E,D)},J=(m,E,C,L,F,q,G)=>{const W=m.component=kv(m,L,F);if(Ea(m)&&(W.ctx.renderer=Y),Pv(W),W.asyncDep){if(F&&F.registerDep(W,ie),!m.el){const D=W.subTree=xe(vt);b(null,D,E,C)}return}ie(W,m,E,C,F,q,G)},we=(m,E,C)=>{const L=E.component=m.component;if(IO(m,E,C))if(L.asyncDep&&!L.asyncResolved){fe(L,E,C);return}else L.next=E,yO(L.update),L.update();else E.el=m.el,L.vnode=E},ie=(m,E,C,L,F,q,G)=>{const W=()=>{if(m.isMounted){let{next:le,bu:re,u:ae,parent:he,vnode:ve}=m,Ne=le,Ce;Zs(m,!1),le?(le.el=ve.el,fe(m,le,G)):le=ve,re&&ci(re),(Ce=le.props&&le.props.onVnodeBeforeUpdate)&&Pt(Ce,he,le,ve),Zs(m,!0);const Me=Cc(m),Ut=m.subTree;m.subTree=Me,I(Ut,Me,f(Ut.el),M(Ut),m,F,q),le.el=Me.el,Ne===null&&Qf(m,Me.el),ae&&at(ae,F),(Ce=le.props&&le.props.onVnodeUpdated)&&at(()=>Pt(Ce,he,le,ve),F)}else{let le;const{el:re,props:ae}=E,{bm:he,m:ve,parent:Ne}=m,Ce=hr(E);if(Zs(m,!1),he&&ci(he),!Ce&&(le=ae&&ae.onVnodeBeforeMount)&&Pt(le,Ne,E),Zs(m,!0),re&&P){const Me=()=>{m.subTree=Cc(m),P(re,m.subTree,m,F,null)};Ce?E.type.__asyncLoader().then(()=>!m.isUnmounted&&Me()):Me()}else{const Me=m.subTree=Cc(m);I(null,Me,C,L,m,F,q),E.el=Me.el}if(ve&&at(ve,F),!Ce&&(le=ae&&ae.onVnodeMounted)){const Me=E;at(()=>Pt(le,Ne,Me),F)}(E.shapeFlag&256||Ne&&hr(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&m.a&&at(m.a,F),m.isMounted=!0,E=C=L=null}},D=m.effect=new ma(W,()=>Sl(H),m.scope),H=m.update=()=>D.run();H.id=m.uid,Zs(m,!0),H()},fe=(m,E,C)=>{E.component=m;const L=m.vnode.props;m.vnode=E,m.next=null,gN(m,E.props,L,C),_N(m,E.children,C),Ui(),Fg(),Bi()},Te=(m,E,C,L,F,q,G,W,D=!1)=>{const H=m&&m.children,le=m?m.shapeFlag:0,re=E.children,{patchFlag:ae,shapeFlag:he}=E;if(ae>0){if(ae&128){At(H,re,C,L,F,q,G,W,D);return}else if(ae&256){ze(H,re,C,L,F,q,G,W,D);return}}he&8?(le&16&&Fe(H,F,q),re!==H&&h(C,re)):le&16?he&16?At(H,re,C,L,F,q,G,W,D):Fe(H,F,q,!0):(le&8&&h(C,""),he&16&&O(re,C,L,F,q,G,W,D))},ze=(m,E,C,L,F,q,G,W,D)=>{m=m||oi,E=E||oi;const H=m.length,le=E.length,re=Math.min(H,le);let ae;for(ae=0;ae<re;ae++){const he=E[ae]=D?ms(E[ae]):jt(E[ae]);I(m[ae],he,C,null,F,q,G,W,D)}H>le?Fe(m,F,q,!0,!1,re):O(E,C,L,F,q,G,W,D,re)},At=(m,E,C,L,F,q,G,W,D)=>{let H=0;const le=E.length;let re=m.length-1,ae=le-1;for(;H<=re&&H<=ae;){const he=m[H],ve=E[H]=D?ms(E[H]):jt(E[H]);if(un(he,ve))I(he,ve,C,null,F,q,G,W,D);else break;H++}for(;H<=re&&H<=ae;){const he=m[re],ve=E[ae]=D?ms(E[ae]):jt(E[ae]);if(un(he,ve))I(he,ve,C,null,F,q,G,W,D);else break;re--,ae--}if(H>re){if(H<=ae){const he=ae+1,ve=he<le?E[he].el:L;for(;H<=ae;)I(null,E[H]=D?ms(E[H]):jt(E[H]),C,ve,F,q,G,W,D),H++}}else if(H>ae)for(;H<=re;)He(m[H],F,q,!0),H++;else{const he=H,ve=H,Ne=new Map;for(H=ve;H<=ae;H++){const dt=E[H]=D?ms(E[H]):jt(E[H]);dt.key!=null&&Ne.set(dt.key,H)}let Ce,Me=0;const Ut=ae-ve+1;let qs=!1,Ha=0;const Ks=new Array(Ut);for(H=0;H<Ut;H++)Ks[H]=0;for(H=he;H<=re;H++){const dt=m[H];if(Me>=Ut){He(dt,F,q,!0);continue}let Qt;if(dt.key!=null)Qt=Ne.get(dt.key);else for(Ce=ve;Ce<=ae;Ce++)if(Ks[Ce-ve]===0&&un(dt,E[Ce])){Qt=Ce;break}Qt===void 0?He(dt,F,q,!0):(Ks[Qt-ve]=H+1,Qt>=Ha?Ha=Qt:qs=!0,I(dt,E[Qt],C,null,F,q,G,W,D),Me++)}const qa=qs?EN(Ks):oi;for(Ce=qa.length-1,H=Ut-1;H>=0;H--){const dt=ve+H,Qt=E[dt],os=dt+1<le?E[dt+1].el:L;Ks[H]===0?I(null,Qt,C,os,F,q,G,W,D):qs&&(Ce<0||H!==qa[Ce]?ot(Qt,C,os,2):Ce--)}}},ot=(m,E,C,L,F=null)=>{const{el:q,type:G,transition:W,children:D,shapeFlag:H}=m;if(H&6){ot(m.component.subTree,E,C,L);return}if(H&128){m.suspense.move(E,C,L);return}if(H&64){G.move(m,E,C,Y);return}if(G===Qe){s(q,E,C);for(let re=0;re<D.length;re++)ot(D[re],E,C,L);s(m.anchor,E,C);return}if(G===fr){k(m,E,C);return}if(L!==2&&H&1&&W)if(L===0)W.beforeEnter(q),s(q,E,C),at(()=>W.enter(q),F);else{const{leave:re,delayLeave:ae,afterLeave:he}=W,ve=()=>s(q,E,C),Ne=()=>{re(q,()=>{ve(),he&&he()})};ae?ae(q,ve,Ne):Ne()}else s(q,E,C)},He=(m,E,C,L=!1,F=!1)=>{const{type:q,props:G,ref:W,children:D,dynamicChildren:H,shapeFlag:le,patchFlag:re,dirs:ae}=m;if(W!=null&&qc(W,null,C,m,!0),le&256){E.ctx.deactivate(m);return}const he=le&1&&ae,ve=!hr(m);let Ne;if(ve&&(Ne=G&&G.onVnodeBeforeUnmount)&&Pt(Ne,E,m),le&6)ft(m.component,C,L);else{if(le&128){m.suspense.unmount(C,L);return}he&&bn(m,null,E,"beforeUnmount"),le&64?m.type.remove(m,E,C,F,Y,L):H&&(q!==Qe||re>0&&re&64)?Fe(H,E,C,!1,!0):(q===Qe&&re&384||!F&&le&16)&&Fe(D,E,C),L&&Vt(m)}(ve&&(Ne=G&&G.onVnodeUnmounted)||he)&&at(()=>{Ne&&Pt(Ne,E,m),he&&bn(m,null,E,"unmounted")},C)},Vt=m=>{const{type:E,el:C,anchor:L,transition:F}=m;if(E===Qe){Ct(C,L);return}if(E===fr){T(m);return}const q=()=>{r(C),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(m.shapeFlag&1&&F&&!F.persisted){const{leave:G,delayLeave:W}=F,D=()=>G(C,q);W?W(m.el,q,D):D()}else q()},Ct=(m,E)=>{let C;for(;m!==E;)C=p(m),r(m),m=C;r(E)},ft=(m,E,C)=>{const{bum:L,scope:F,update:q,subTree:G,um:W}=m;L&&ci(L),F.stop(),q&&(q.active=!1,He(G,m,E,C)),W&&at(W,E),at(()=>{m.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},Fe=(m,E,C,L=!1,F=!1,q=0)=>{for(let G=q;G<m.length;G++)He(m[G],E,C,L,F)},M=m=>m.shapeFlag&6?M(m.component.subTree):m.shapeFlag&128?m.suspense.next():p(m.anchor||m.el),Z=(m,E,C)=>{m==null?E._vnode&&He(E._vnode,null,null,!0):I(E._vnode||null,m,E,null,null,null,C),Fg(),jc(),E._vnode=m},Y={p:I,um:He,m:ot,r:Vt,mt:J,mc:O,pc:Te,pbc:N,n:M,o:t};let oe,P;return e&&([oe,P]=e(Y)),{render:Z,hydrate:oe,createApp:dN(Z,oe)}}function Zs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function rd(t,e,n=!1){const s=t.children,r=e.children;if(se(s)&&se(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ms(r[i]),a.el=o.el),n||rd(o,a)),a.type===_r&&(a.el=o.el)}}function EN(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const wN=t=>t.__isTeleport,Io=t=>t&&(t.disabled||t.disabled===""),Qg=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Lh=(t,e)=>{const n=t&&t.to;return je(n)?e?e(n):null:n},TN={__isTeleport:!0,process(t,e,n,s,r,i,o,a,c,l){const{mc:h,pc:f,pbc:p,o:{insert:g,querySelector:w,createText:I,createComment:S}}=l,b=Io(e.props);let{shapeFlag:_,children:k,dynamicChildren:T}=e;if(t==null){const R=e.el=I(""),V=e.anchor=I("");g(R,n,s),g(V,n,s);const U=e.target=Lh(e.props,w),O=e.targetAnchor=I("");U&&(g(O,U),o=o||Qg(U));const A=(N,x)=>{_&16&&h(k,N,x,r,i,o,a,c)};b?A(n,V):U&&A(U,O)}else{e.el=t.el;const R=e.anchor=t.anchor,V=e.target=t.target,U=e.targetAnchor=t.targetAnchor,O=Io(t.props),A=O?n:V,N=O?R:U;if(o=o||Qg(V),T?(p(t.dynamicChildren,T,A,r,i,o,a),rd(t,e,!0)):c||f(t,e,A,N,r,i,o,a,!1),b)O||fc(e,n,R,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const x=e.target=Lh(e.props,w);x&&fc(e,x,null,l,0)}else O&&fc(e,V,U,l,1)}Av(e)},remove(t,e,n,s,{um:r,o:{remove:i}},o){const{shapeFlag:a,children:c,anchor:l,targetAnchor:h,target:f,props:p}=t;if(f&&i(h),(o||!Io(p))&&(i(l),a&16))for(let g=0;g<c.length;g++){const w=c[g];r(w,e,n,!0,!!w.dynamicChildren)}},move:fc,hydrate:bN};function fc(t,e,n,{o:{insert:s},m:r},i=2){i===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:h}=t,f=i===2;if(f&&s(o,e,n),(!f||Io(h))&&c&16)for(let p=0;p<l.length;p++)r(l[p],e,n,2);f&&s(a,e,n)}function bN(t,e,n,s,r,i,{o:{nextSibling:o,parentNode:a,querySelector:c}},l){const h=e.target=Lh(e.props,c);if(h){const f=h._lpa||h.firstChild;if(e.shapeFlag&16)if(Io(e.props))e.anchor=l(o(t),e,a(t),n,s,r,i),e.targetAnchor=f;else{e.anchor=o(t);let p=f;for(;p;)if(p=o(p),p&&p.nodeType===8&&p.data==="teleport anchor"){e.targetAnchor=p,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}l(f,e,h,n,s,r,i)}Av(e)}return e.anchor&&o(e.anchor)}const IN=TN;function Av(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Qe=Symbol.for("v-fgt"),_r=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),fr=Symbol.for("v-stc"),Ao=[];let xt=null;function Ze(t=!1){Ao.push(xt=t?null:[])}function Cv(){Ao.pop(),xt=Ao[Ao.length-1]||null}let vr=1;function xh(t){vr+=t}function Sv(t){return t.dynamicChildren=vr>0?xt||oi:null,Cv(),vr>0&&xt&&xt.push(t),t}function Ot(t,e,n,s,r,i){return Sv(te(t,e,n,s,r,i,!0))}function Ml(t,e,n,s,r){return Sv(xe(t,e,n,s,r,!0))}function Ls(t){return t?t.__v_isVNode===!0:!1}function un(t,e){return t.type===e.type&&t.key===e.key}function AN(t){}const $l="__vInternal",Ov=({key:t})=>t??null,Sc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?je(t)||qe(t)||de(t)?{i:st,r:t,k:e,f:!!n}:t:null);function te(t,e=null,n=null,s=0,r=null,i=t===Qe?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ov(e),ref:e&&Sc(e),scopeId:Nl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:st};return a?(id(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=je(n)?8:16),vr>0&&!o&&xt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&xt.push(c),c}const xe=CN;function CN(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===uv)&&(t=vt),Ls(t)){const a=Pn(t,e,!0);return n&&id(a,n),vr>0&&!i&&xt&&(a.shapeFlag&6?xt[xt.indexOf(t)]=a:xt.push(a)),a.patchFlag|=-2,a}if(LN(t)&&(t=t.__vccOpts),e){e=Nv(e);let{class:a,style:c}=e;a&&!je(a)&&(e.class=ga(a)),Le(c)&&(Hf(c)&&!se(c)&&(c=$e({},c)),e.style=pa(c))}const o=je(t)?1:Y_(t)?128:wN(t)?64:Le(t)?4:de(t)?2:0;return te(t,e,n,s,r,o,i,!0)}function Nv(t){return t?Hf(t)||$l in t?$e({},t):t:null}function Pn(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?Rv(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Ov(a),ref:e&&e.ref?n&&r?se(r)?r.concat(Sc(e)):[r,Sc(e)]:Sc(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qe?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pn(t.ssContent),ssFallback:t.ssFallback&&Pn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Hn(t=" ",e=0){return xe(_r,null,t,e)}function SN(t,e){const n=xe(fr,null,t);return n.staticCount=e,n}function Ts(t="",e=!1){return e?(Ze(),Ml(vt,null,t)):xe(vt,null,t)}function jt(t){return t==null||typeof t=="boolean"?xe(vt):se(t)?xe(Qe,null,t.slice()):typeof t=="object"?ms(t):xe(_r,null,String(t))}function ms(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pn(t)}function id(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(se(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),id(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!($l in e)?e._ctx=st:r===3&&st&&(st.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:st},n=32):(e=String(e),s&64?(n=16,e=[Hn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Rv(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=ga([e.class,s.class]));else if(r==="style")e.style=pa([e.style,s.style]);else if(fa(r)){const i=e[r],o=s[r];o&&i!==o&&!(se(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Pt(t,e,n,s=null){qt(t,e,7,[n,s])}const ON=gv();let NN=0;function kv(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||ON,i={uid:NN++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new $f(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_v(s,r),emitsOptions:W_(s,r),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:s.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=vO.bind(null,i),t.ce&&t.ce(i),i}let Xe=null;const is=()=>Xe||st;let od,Qr,Xg="__VUE_INSTANCE_SETTERS__";(Qr=Ih()[Xg])||(Qr=Ih()[Xg]=[]),Qr.push(t=>Xe=t),od=t=>{Qr.length>1?Qr.forEach(e=>e(t)):Qr[0](t)};const xs=t=>{od(t),t.scope.on()},Cs=()=>{Xe&&Xe.scope.off(),od(null)};function Dv(t){return t.vnode.shapeFlag&4}let wi=!1;function Pv(t,e=!1){wi=e;const{props:n,children:s}=t.vnode,r=Dv(t);pN(t,n,r,e),yN(t,s);const i=r?RN(t,e):void 0;return wi=!1,i}function RN(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ya(new Proxy(t.ctx,Rh));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?xv(t):null;xs(t),Ui();const i=Gn(s,t,0,[t.props,r]);if(Bi(),Cs(),xf(i)){if(i.then(Cs,Cs),e)return i.then(o=>{Mh(t,o,e)}).catch(o=>{Dr(o,t,0)});t.asyncDep=i}else Mh(t,i,e)}else Lv(t,e)}function Mh(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Le(e)&&(t.setupState=Wf(e)),Lv(t,n)}let Kc,$h;function kN(t){Kc=t,$h=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,WO))}}const DN=()=>!Kc;function Lv(t,e,n){const s=t.type;if(!t.render){if(!e&&Kc&&!s.render){const r=s.template||nd(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,l=$e($e({isCustomElement:i,delimiters:a},o),c);s.render=Kc(r,l)}}t.render=s.render||fn,$h&&$h(t)}xs(t),Ui(),aN(t),Bi(),Cs()}function PN(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ft(t,"get","$attrs"),e[n]}}))}function xv(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return PN(t)},slots:t.slots,emit:t.emit,expose:e}}function Fl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Wf(ya(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in To)return To[n](t)},has(e,n){return n in e||n in To}}))}function Fh(t,e=!0){return de(t)?t.displayName||t.name:t.name||e&&t.__name}function LN(t){return de(t)&&"__vccOpts"in t}const Lt=(t,e)=>fO(t,e,wi);function Vl(t,e,n){const s=arguments.length;return s===2?Le(e)&&!se(e)?Ls(e)?xe(t,null,[e]):xe(t,e):xe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ls(n)&&(n=[n]),xe(t,e,n))}const Mv=Symbol.for("v-scx"),$v=()=>pn(Mv);function xN(){}function MN(t,e,n,s){const r=n[s];if(r&&Fv(r,t))return r;const i=e();return i.memo=t.slice(),n[s]=i}function Fv(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(vi(n[s],e[s]))return!1;return vr>0&&xt&&xt.push(t),!0}const Vv="3.3.4",$N={createComponentInstance:kv,setupComponent:Pv,renderComponentRoot:Cc,setCurrentRenderingInstance:Ho,isVNode:Ls,normalizeVNode:jt},FN=$N,VN=null,UN=null,BN="http://www.w3.org/2000/svg",sr=typeof document<"u"?document:null,Jg=sr&&sr.createElement("template"),jN={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?sr.createElementNS(BN,t):sr.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>sr.createTextNode(t),createComment:t=>sr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>sr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Jg.innerHTML=s?`<svg>${t}</svg>`:t;const a=Jg.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function HN(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function qN(t,e,n){const s=t.style,r=je(n);if(n&&!r){if(e&&!je(e))for(const i in e)n[i]==null&&Vh(s,i,"");for(const i in n)Vh(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const Zg=/\s*!important$/;function Vh(t,e,n){if(se(n))n.forEach(s=>Vh(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=KN(t,e);Zg.test(n)?t.setProperty(en(s),n.replace(Zg,""),"important"):t[s]=n}}const em=["Webkit","Moz","ms"],Ku={};function KN(t,e){const n=Ku[e];if(n)return n;let s=Mt(e);if(s!=="filter"&&s in t)return Ku[e]=s;s=da(s);for(let r=0;r<em.length;r++){const i=em[r]+s;if(i in t)return Ku[e]=i}return e}const tm="http://www.w3.org/1999/xlink";function WN(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(tm,e.slice(6,e.length)):t.setAttributeNS(tm,e,n);else{const i=bS(e);n==null||i&&!w_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function zN(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const l=a==="OPTION"?t.getAttribute("value"):t.value,h=n??"";l!==h&&(t.value=h),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=w_(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function jn(t,e,n,s){t.addEventListener(e,n,s)}function GN(t,e,n,s){t.removeEventListener(e,n,s)}function YN(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=QN(e);if(s){const l=i[e]=ZN(s,r);jn(t,a,l,c)}else o&&(GN(t,a,o,c),i[e]=void 0)}}const nm=/(?:Once|Passive|Capture)$/;function QN(t){let e;if(nm.test(t)){e={};let s;for(;s=t.match(nm);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):en(t.slice(2)),e]}let Wu=0;const XN=Promise.resolve(),JN=()=>Wu||(XN.then(()=>Wu=0),Wu=Date.now());function ZN(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;qt(eR(s,n.value),e,5,[s])};return n.value=t,n.attached=JN(),n}function eR(t,e){if(se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const sm=/^on[a-z]/,tR=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?HN(t,s,r):e==="style"?qN(t,n,s):fa(e)?Pf(e)||YN(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nR(t,e,s,r))?zN(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),WN(t,e,s,r))};function nR(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&sm.test(e)&&de(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||sm.test(e)&&je(n)?!1:e in t}function Uv(t,e){const n=En(t);class s extends Ul{constructor(i){super(n,i,e)}}return s.def=n,s}const sR=t=>Uv(t,nE),rR=typeof HTMLElement<"u"?HTMLElement:class{};class Ul extends rR{constructor(e,n={},s){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,_a(()=>{this._connected||(jh(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}).observe(this,{attributes:!0});const e=(s,r=!1)=>{const{props:i,styles:o}=s;let a;if(i&&!se(i))for(const c in i){const l=i[c];(l===Number||l&&l.type===Number)&&(c in this._props&&(this._props[c]=Uc(this._props[c])),(a||(a=Object.create(null)))[Mt(c)]=!0)}this._numberProps=a,r&&this._resolveProps(s),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(s=>e(s,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,s=se(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of s.map(Mt))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(i){this._setProp(r,i)}})}_setAttr(e){let n=this.getAttribute(e);const s=Mt(e);this._numberProps&&this._numberProps[s]&&(n=Uc(n)),this._setProp(s,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,r=!0){n!==this._props[e]&&(this._props[e]=n,r&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(en(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(en(e),n+""):n||this.removeAttribute(en(e))))}_update(){jh(this._createVNode(),this.shadowRoot)}_createVNode(){const e=xe(this._def,$e({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,{detail:o}))};n.emit=(i,...o)=>{s(i,o),en(i)!==i&&s(en(i),o)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Ul){n.parent=r._instance,n.provides=r._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s)})}}function iR(t="$style"){{const e=is();if(!e)return Pe;const n=e.type.__cssModules;if(!n)return Pe;const s=n[t];return s||Pe}}function oR(t){const e=is();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Bh(i,r))},s=()=>{const r=t(e.proxy);Uh(e.subTree,r),n(r)};X_(s),wa(()=>{const r=new MutationObserver(s);r.observe(e.subTree.el.parentNode,{childList:!0}),Ll(()=>r.disconnect())})}function Uh(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Uh(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Bh(t.el,e);else if(t.type===Qe)t.children.forEach(n=>Uh(n,e));else if(t.type===fr){let{el:n,anchor:s}=t;for(;n&&(Bh(n,e),n!==s);)n=n.nextSibling}}function Bh(t,e){if(t.nodeType===1){const n=t.style;for(const s in e)n.setProperty(`--${s}`,e[s])}}const hs="transition",io="animation",ad=(t,{slots:e})=>Vl(Z_,jv(t),e);ad.displayName="Transition";const Bv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},aR=ad.props=$e({},Zf,Bv),er=(t,e=[])=>{se(t)?t.forEach(n=>n(...e)):t&&t(...e)},rm=t=>t?se(t)?t.some(e=>e.length>1):t.length>1:!1;function jv(t){const e={};for(const j in t)j in Bv||(e[j]=t[j]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:h=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,w=cR(r),I=w&&w[0],S=w&&w[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:k,onLeave:T,onLeaveCancelled:R,onBeforeAppear:V=b,onAppear:U=_,onAppearCancelled:O=k}=e,A=(j,X,J)=>{ps(j,X?h:a),ps(j,X?l:o),J&&J()},N=(j,X)=>{j._isLeaving=!1,ps(j,f),ps(j,g),ps(j,p),X&&X()},x=j=>(X,J)=>{const we=j?U:_,ie=()=>A(X,j,J);er(we,[X,ie]),im(()=>{ps(X,j?c:i),Un(X,j?h:a),rm(we)||om(X,s,I,ie)})};return $e(e,{onBeforeEnter(j){er(b,[j]),Un(j,i),Un(j,o)},onBeforeAppear(j){er(V,[j]),Un(j,c),Un(j,l)},onEnter:x(!1),onAppear:x(!0),onLeave(j,X){j._isLeaving=!0;const J=()=>N(j,X);Un(j,f),qv(),Un(j,p),im(()=>{j._isLeaving&&(ps(j,f),Un(j,g),rm(T)||om(j,s,S,J))}),er(T,[j,J])},onEnterCancelled(j){A(j,!1),er(k,[j])},onAppearCancelled(j){A(j,!0),er(O,[j])},onLeaveCancelled(j){N(j),er(R,[j])}})}function cR(t){if(t==null)return null;if(Le(t))return[zu(t.enter),zu(t.leave)];{const e=zu(t);return[e,e]}}function zu(t){return Uc(t)}function Un(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function ps(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function im(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let lR=0;function om(t,e,n,s){const r=t._endId=++lR,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=Hv(t,e);if(!o)return s();const l=o+"end";let h=0;const f=()=>{t.removeEventListener(l,p),i()},p=g=>{g.target===t&&++h>=c&&f()};setTimeout(()=>{h<c&&f()},a+1),t.addEventListener(l,p)}function Hv(t,e){const n=window.getComputedStyle(t),s=w=>(n[w]||"").split(", "),r=s(`${hs}Delay`),i=s(`${hs}Duration`),o=am(r,i),a=s(`${io}Delay`),c=s(`${io}Duration`),l=am(a,c);let h=null,f=0,p=0;e===hs?o>0&&(h=hs,f=o,p=i.length):e===io?l>0&&(h=io,f=l,p=c.length):(f=Math.max(o,l),h=f>0?o>l?hs:io:null,p=h?h===hs?i.length:c.length:0);const g=h===hs&&/\b(transform|all)(,|$)/.test(s(`${hs}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:g}}function am(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>cm(n)+cm(t[s])))}function cm(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function qv(){return document.body.offsetHeight}const Kv=new WeakMap,Wv=new WeakMap,zv={name:"TransitionGroup",props:$e({},aR,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=is(),s=Jf();let r,i;return Dl(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!gR(r[0].el,n.vnode.el,o))return;r.forEach(fR),r.forEach(dR);const a=r.filter(pR);qv(),a.forEach(c=>{const l=c.el,h=l.style;Un(l,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=l._moveCb=p=>{p&&p.target!==l||(!p||/transform$/.test(p.propertyName))&&(l.removeEventListener("transitionend",f),l._moveCb=null,ps(l,o))};l.addEventListener("transitionend",f)})}),()=>{const o=Ie(t),a=jv(o);let c=o.tag||Qe;r=i,i=e.default?Rl(e.default()):[];for(let l=0;l<i.length;l++){const h=i[l];h.key!=null&&yr(h,Ei(h,a,s,n))}if(r)for(let l=0;l<r.length;l++){const h=r[l];yr(h,Ei(h,a,s,n)),Kv.set(h,h.el.getBoundingClientRect())}return xe(c,null,i)}}},uR=t=>delete t.mode;zv.props;const hR=zv;function fR(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function dR(t){Wv.set(t,t.el.getBoundingClientRect())}function pR(t){const e=Kv.get(t),n=Wv.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",t}}function gR(t,e,n){const s=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:i}=Hv(s);return r.removeChild(s),i}const Ms=t=>{const e=t.props["onUpdate:modelValue"]||!1;return se(e)?n=>ci(e,n):e};function mR(t){t.target.composing=!0}function lm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ht={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=Ms(r);const i=s||r.props&&r.props.type==="number";jn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Vc(a)),t._assign(a)}),n&&jn(t,"change",()=>{t.value=t.value.trim()}),e||(jn(t,"compositionstart",mR),jn(t,"compositionend",lm),jn(t,"change",lm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=Ms(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&Vc(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},cd={deep:!0,created(t,e,n){t._assign=Ms(n),jn(t,"change",()=>{const s=t._modelValue,r=Ti(t),i=t.checked,o=t._assign;if(se(s)){const a=wl(s,r),c=a!==-1;if(i&&!c)o(s.concat(r));else if(!i&&c){const l=[...s];l.splice(a,1),o(l)}}else if(Rr(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(Yv(t,i))})},mounted:um,beforeUpdate(t,e,n){t._assign=Ms(n),um(t,e,n)}};function um(t,{value:e,oldValue:n},s){t._modelValue=e,se(e)?t.checked=wl(e,s.props.value)>-1:Rr(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Ds(e,Yv(t,!0)))}const ld={created(t,{value:e},n){t.checked=Ds(e,n.props.value),t._assign=Ms(n),jn(t,"change",()=>{t._assign(Ti(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t._assign=Ms(s),e!==n&&(t.checked=Ds(e,s.props.value))}},Gv={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Rr(e);jn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Vc(Ti(o)):Ti(o));t._assign(t.multiple?r?new Set(i):i:i[0])}),t._assign=Ms(s)},mounted(t,{value:e}){hm(t,e)},beforeUpdate(t,e,n){t._assign=Ms(n)},updated(t,{value:e}){hm(t,e)}};function hm(t,e){const n=t.multiple;if(!(n&&!se(e)&&!Rr(e))){for(let s=0,r=t.options.length;s<r;s++){const i=t.options[s],o=Ti(i);if(n)se(e)?i.selected=wl(e,o)>-1:i.selected=e.has(o);else if(Ds(Ti(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ti(t){return"_value"in t?t._value:t.value}function Yv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Qv={created(t,e,n){dc(t,e,n,null,"created")},mounted(t,e,n){dc(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){dc(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){dc(t,e,n,s,"updated")}};function Xv(t,e){switch(t){case"SELECT":return Gv;case"TEXTAREA":return Ht;default:switch(e){case"checkbox":return cd;case"radio":return ld;default:return Ht}}}function dc(t,e,n,s,r){const o=Xv(t.tagName,n.props&&n.props.type)[r];o&&o(t,e,n,s)}function yR(){Ht.getSSRProps=({value:t})=>({value:t}),ld.getSSRProps=({value:t},e)=>{if(e.props&&Ds(e.props.value,t))return{checked:!0}},cd.getSSRProps=({value:t},e)=>{if(se(t)){if(e.props&&wl(t,e.props.value)>-1)return{checked:!0}}else if(Rr(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Qv.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Xv(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const _R=["ctrl","shift","alt","meta"],vR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_R.some(n=>t[`${n}Key`]&&!e.includes(n))},ER=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=vR[e[r]];if(i&&i(n,e))return}return t(n,...s)},wR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},TR=(t,e)=>n=>{if(!("key"in n))return;const s=en(n.key);if(e.some(r=>r===s||wR[r]===s))return t(n)},Jv={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):oo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),oo(t,!0),s.enter(t)):s.leave(t,()=>{oo(t,!1)}):oo(t,e))},beforeUnmount(t,{value:e}){oo(t,e)}};function oo(t,e){t.style.display=e?t._vod:"none"}function bR(){Jv.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Zv=$e({patchProp:tR},jN);let Co,fm=!1;function eE(){return Co||(Co=Tv(Zv))}function tE(){return Co=fm?Co:bv(Zv),fm=!0,Co}const jh=(...t)=>{eE().render(...t)},nE=(...t)=>{tE().hydrate(...t)},sE=(...t)=>{const e=eE().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=rE(s);if(!r)return;const i=e._component;!de(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},IR=(...t)=>{const e=tE().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=rE(s);if(r)return n(r,!0,r instanceof SVGElement)},e};function rE(t){return je(t)?document.querySelector(t):t}let dm=!1;const AR=()=>{dm||(dm=!0,yR(),bR())},CR=()=>{},SR=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Z_,BaseTransitionPropsValidators:Zf,Comment:vt,EffectScope:$f,Fragment:Qe,KeepAlive:FO,ReactiveEffect:ma,Static:fr,Suspense:CO,Teleport:IN,Text:_r,Transition:ad,TransitionGroup:hR,VueElement:Ul,assertNumber:pO,callWithAsyncErrorHandling:qt,callWithErrorHandling:Gn,camelize:Mt,capitalize:da,cloneVNode:Pn,compatUtils:UN,compile:CR,computed:Lt,createApp:sE,createBlock:Ml,createCommentVNode:Ts,createElementBlock:Ot,createElementVNode:te,createHydrationRenderer:bv,createPropsRestProxy:iN,createRenderer:Tv,createSSRApp:IR,createSlots:HO,createStaticVNode:SN,createTextVNode:Hn,createVNode:xe,customRef:aO,defineAsyncComponent:MO,defineComponent:En,defineCustomElement:Uv,defineEmits:GO,defineExpose:YO,defineModel:JO,defineOptions:QO,defineProps:zO,defineSSRCustomElement:sR,defineSlots:XO,get devtools(){return Zr},effect:SS,effectScope:Ff,getCurrentInstance:is,getCurrentScope:Vf,getTransitionRawChildren:Rl,guardReactiveProps:Nv,h:Vl,handleError:Dr,hasInjectionContext:mv,hydrate:nE,initCustomFormatter:xN,initDirectivesForSSR:AR,inject:pn,isMemoSame:Fv,isProxy:Hf,isReactive:zn,isReadonly:mr,isRef:qe,isRuntimeOnly:DN,isShallow:Vo,isVNode:Ls,markRaw:ya,mergeDefaults:sN,mergeModels:rN,mergeProps:Rv,nextTick:_a,normalizeClass:ga,normalizeProps:wS,normalizeStyle:pa,onActivated:tv,onBeforeMount:rv,onBeforeUnmount:Pl,onBeforeUpdate:iv,onDeactivated:nv,onErrorCaptured:lv,onMounted:wa,onRenderTracked:cv,onRenderTriggered:av,onScopeDispose:I_,onServerPrefetch:ov,onUnmounted:Ll,onUpdated:Dl,openBlock:Ze,popScopeId:G_,provide:bo,proxyRefs:Wf,pushScopeId:z_,queuePostFlushCb:Gf,reactive:kr,readonly:jf,ref:dn,registerRuntimeCompiler:kN,render:jh,renderList:hv,renderSlot:qO,resolveComponent:xl,resolveDirective:jO,resolveDynamicComponent:BO,resolveFilter:VN,resolveTransitionHooks:Ei,setBlockTracking:xh,setDevtoolsHook:K_,setTransitionHooks:yr,shallowReactive:$_,shallowReadonly:tO,shallowRef:F_,ssrContextKey:Mv,ssrUtils:FN,stop:OS,toDisplayString:lr,toHandlerKey:wo,toHandlers:KO,toRaw:Ie,toRef:uO,toRefs:U_,toValue:rO,transformVNodeArgs:AN,triggerRef:sO,unref:As,useAttrs:tN,useCssModule:iR,useCssVars:oR,useModel:nN,useSSRContext:$v,useSlots:eN,useTransitionState:Jf,vModelCheckbox:cd,vModelDynamic:Qv,vModelRadio:ld,vModelSelect:Gv,vModelText:Ht,vShow:Jv,version:Vv,warn:dO,watch:Yn,watchEffect:DO,watchPostEffect:X_,watchSyncEffect:PO,withAsyncContext:oN,withCtx:Yf,withDefaults:ZO,withDirectives:An,withKeys:TR,withMemo:MN,withModifiers:ER,withScopeId:EO},Symbol.toStringTag,{value:"Module"}));var OR=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let iE;const Bl=t=>iE=t,oE=Symbol();function Hh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var So;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(So||(So={}));function NR(){const t=Ff(!0),e=t.run(()=>dn({}));let n=[],s=[];const r=ya({install(i){Bl(r),r._a=i,i.provide(oE,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!OR?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const aE=()=>{};function pm(t,e,n,s=aE){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&Vf()&&I_(r),r}function Xr(t,...e){t.slice().forEach(n=>{n(...e)})}const RR=t=>t();function qh(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Hh(r)&&Hh(s)&&t.hasOwnProperty(n)&&!qe(s)&&!zn(s)?t[n]=qh(r,s):t[n]=s}return t}const kR=Symbol();function DR(t){return!Hh(t)||!t.hasOwnProperty(kR)}const{assign:gs}=Object;function PR(t){return!!(qe(t)&&t.effect)}function LR(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=r?r():{});const h=U_(n.state.value[t]);return gs(h,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=ya(Lt(()=>{Bl(n);const g=n._s.get(t);return o[p].call(g,g)})),f),{}))}return c=cE(t,l,e,n,s,!0),c}function cE(t,e,n={},s,r,i){let o;const a=gs({actions:{}},n),c={deep:!0};let l,h,f=[],p=[],g;const w=s.state.value[t];!i&&!w&&(s.state.value[t]={}),dn({});let I;function S(O){let A;l=h=!1,typeof O=="function"?(O(s.state.value[t]),A={type:So.patchFunction,storeId:t,events:g}):(qh(s.state.value[t],O),A={type:So.patchObject,payload:O,storeId:t,events:g});const N=I=Symbol();_a().then(()=>{I===N&&(l=!0)}),h=!0,Xr(f,A,s.state.value[t])}const b=i?function(){const{state:A}=n,N=A?A():{};this.$patch(x=>{gs(x,N)})}:aE;function _(){o.stop(),f=[],p=[],s._s.delete(t)}function k(O,A){return function(){Bl(s);const N=Array.from(arguments),x=[],j=[];function X(ie){x.push(ie)}function J(ie){j.push(ie)}Xr(p,{args:N,name:O,store:R,after:X,onError:J});let we;try{we=A.apply(this&&this.$id===t?this:R,N)}catch(ie){throw Xr(j,ie),ie}return we instanceof Promise?we.then(ie=>(Xr(x,ie),ie)).catch(ie=>(Xr(j,ie),Promise.reject(ie))):(Xr(x,we),we)}}const T={_p:s,$id:t,$onAction:pm.bind(null,p),$patch:S,$reset:b,$subscribe(O,A={}){const N=pm(f,O,A.detached,()=>x()),x=o.run(()=>Yn(()=>s.state.value[t],j=>{(A.flush==="sync"?h:l)&&O({storeId:t,type:So.direct,events:g},j)},gs({},c,A)));return N},$dispose:_},R=kr(T);s._s.set(t,R);const V=s._a&&s._a.runWithContext||RR,U=s._e.run(()=>(o=Ff(),V(()=>o.run(e))));for(const O in U){const A=U[O];if(qe(A)&&!PR(A)||zn(A))i||(w&&DR(A)&&(qe(A)?A.value=w[O]:qh(A,w[O])),s.state.value[t][O]=A);else if(typeof A=="function"){const N=k(O,A);U[O]=N,a.actions[O]=A}}return gs(R,U),gs(Ie(R),U),Object.defineProperty(R,"$state",{get:()=>s.state.value[t],set:O=>{S(A=>{gs(A,O)})}}),s._p.forEach(O=>{gs(R,o.run(()=>O({store:R,app:s._a,pinia:s,options:a})))}),w&&i&&n.hydrate&&n.hydrate(R.$state,w),l=!0,h=!0,R}function xR(t,e,n){let s,r;const i=typeof e=="function";typeof t=="string"?(s=t,r=i?n:e):(r=t,s=t.id);function o(a,c){const l=mv();return a=a||(l?pn(oE,null):null),a&&Bl(a),a=iE,a._s.has(s)||(i?cE(s,e,r,a):LR(s,r,a)),a._s.get(s)}return o.$id=s,o}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ei=typeof window<"u";function MR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ke=Object.assign;function Gu(t,e){const n={};for(const s in e){const r=e[s];n[s]=gn(r)?r.map(t):t(r)}return n}const Oo=()=>{},gn=Array.isArray,$R=/\/$/,FR=t=>t.replace($R,"");function Yu(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=jR(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function VR(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function gm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function UR(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&bi(e.matched[s],n.matched[r])&&lE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function bi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function lE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!BR(t[n],e[n]))return!1;return!0}function BR(t,e){return gn(t)?mm(t,e):gn(e)?mm(e,t):t===e}function mm(t,e){return gn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function jR(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var zo;(function(t){t.pop="pop",t.push="push"})(zo||(zo={}));var No;(function(t){t.back="back",t.forward="forward",t.unknown=""})(No||(No={}));function HR(t){if(!t)if(ei){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),FR(t)}const qR=/^[^#]+#/;function KR(t,e){return t.replace(qR,"#")+e}function WR(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const jl=()=>({left:window.pageXOffset,top:window.pageYOffset});function zR(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=WR(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ym(t,e){return(history.state?history.state.position-e:-1)+t}const Kh=new Map;function GR(t,e){Kh.set(t,e)}function YR(t){const e=Kh.get(t);return Kh.delete(t),e}let QR=()=>location.protocol+"//"+location.host;function uE(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),gm(c,"")}return gm(n,t)+s+r}function XR(t,e,n,s){let r=[],i=[],o=null;const a=({state:p})=>{const g=uE(t,location),w=n.value,I=e.value;let S=0;if(p){if(n.value=g,e.value=p,o&&o===w){o=null;return}S=I?p.position-I.position:0}else s(g);r.forEach(b=>{b(n.value,w,{delta:S,type:zo.pop,direction:S?S>0?No.forward:No.back:No.unknown})})};function c(){o=n.value}function l(p){r.push(p);const g=()=>{const w=r.indexOf(p);w>-1&&r.splice(w,1)};return i.push(g),g}function h(){const{history:p}=window;p.state&&p.replaceState(ke({},p.state,{scroll:jl()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function _m(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?jl():null}}function JR(t){const{history:e,location:n}=window,s={value:uE(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,h){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:QR()+t+c;try{e[h?"replaceState":"pushState"](l,"",p),r.value=l}catch(g){console.error(g),n[h?"replace":"assign"](p)}}function o(c,l){const h=ke({},e.state,_m(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,h,!0),s.value=c}function a(c,l){const h=ke({},r.value,e.state,{forward:c,scroll:jl()});i(h.current,h,!0);const f=ke({},_m(s.value,c,null),{position:h.position+1},l);i(c,f,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function ZR(t){t=HR(t);const e=JR(t),n=XR(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=ke({location:"",base:t,go:s,createHref:KR.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function ek(t){return typeof t=="string"||t&&typeof t=="object"}function hE(t){return typeof t=="string"||typeof t=="symbol"}const fs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},fE=Symbol("");var vm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(vm||(vm={}));function Ii(t,e){return ke(new Error,{type:t,[fE]:!0},e)}function Vn(t,e){return t instanceof Error&&fE in t&&(e==null||!!(t.type&e))}const Em="[^/]+?",tk={sensitive:!1,strict:!1,start:!0,end:!0},nk=/[.+*?^${}()[\]/\\]/g;function sk(t,e){const n=ke({},tk,e),s=[];let r=n.start?"^":"";const i=[];for(const l of t){const h=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let f=0;f<l.length;f++){const p=l[f];let g=40+(n.sensitive?.25:0);if(p.type===0)f||(r+="/"),r+=p.value.replace(nk,"\\$&"),g+=40;else if(p.type===1){const{value:w,repeatable:I,optional:S,regexp:b}=p;i.push({name:w,repeatable:I,optional:S});const _=b||Em;if(_!==Em){g+=10;try{new RegExp(`(${_})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${w}" (${_}): `+T.message)}}let k=I?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(k=S&&l.length<2?`(?:/${k})`:"/"+k),S&&(k+="?"),r+=k,g+=20,S&&(g+=-8),I&&(g+=-20),_===".*"&&(g+=-50)}h.push(g)}s.push(h)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const h=l.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const g=h[p]||"",w=i[p-1];f[w.name]=g&&w.repeatable?g.split("/"):g}return f}function c(l){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const g of p)if(g.type===0)h+=g.value;else if(g.type===1){const{value:w,repeatable:I,optional:S}=g,b=w in l?l[w]:"";if(gn(b)&&!I)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const _=gn(b)?b.join("/"):b;if(!_)if(S)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);h+=_}}return h||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function rk(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function ik(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=rk(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(wm(s))return 1;if(wm(r))return-1}return r.length-s.length}function wm(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ok={type:0,value:""},ak=/[a-zA-Z0-9_]/;function ck(t){if(!t)return[[]];if(t==="/")return[[ok]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",h="";function f(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function p(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),n=1):p();break;case 4:p(),n=s;break;case 1:c==="("?n=2:ak.test(c)?p():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),r}function lk(t,e,n){const s=sk(ck(t.path),n),r=ke(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function uk(t,e){const n=[],s=new Map;e=Im({strict:!1,end:!0,sensitive:!1},e);function r(h){return s.get(h)}function i(h,f,p){const g=!p,w=hk(h);w.aliasOf=p&&p.record;const I=Im(e,h),S=[w];if("alias"in h){const k=typeof h.alias=="string"?[h.alias]:h.alias;for(const T of k)S.push(ke({},w,{components:p?p.record.components:w.components,path:T,aliasOf:p?p.record:w}))}let b,_;for(const k of S){const{path:T}=k;if(f&&T[0]!=="/"){const R=f.record.path,V=R[R.length-1]==="/"?"":"/";k.path=f.record.path+(T&&V+T)}if(b=lk(k,f,I),p?p.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),g&&h.name&&!bm(b)&&o(h.name)),w.children){const R=w.children;for(let V=0;V<R.length;V++)i(R[V],b,p&&p.children[V])}p=p||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&c(b)}return _?()=>{o(_)}:Oo}function o(h){if(hE(h)){const f=s.get(h);f&&(s.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function c(h){let f=0;for(;f<n.length&&ik(h,n[f])>=0&&(h.record.path!==n[f].record.path||!dE(h,n[f]));)f++;n.splice(f,0,h),h.record.name&&!bm(h)&&s.set(h.record.name,h)}function l(h,f){let p,g={},w,I;if("name"in h&&h.name){if(p=s.get(h.name),!p)throw Ii(1,{location:h});I=p.record.name,g=ke(Tm(f.params,p.keys.filter(_=>!_.optional).map(_=>_.name)),h.params&&Tm(h.params,p.keys.map(_=>_.name))),w=p.stringify(g)}else if("path"in h)w=h.path,p=n.find(_=>_.re.test(w)),p&&(g=p.parse(w),I=p.record.name);else{if(p=f.name?s.get(f.name):n.find(_=>_.re.test(f.path)),!p)throw Ii(1,{location:h,currentLocation:f});I=p.record.name,g=ke({},f.params,h.params),w=p.stringify(g)}const S=[];let b=p;for(;b;)S.unshift(b.record),b=b.parent;return{name:I,path:w,params:g,matched:S,meta:dk(S)}}return t.forEach(h=>i(h)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Tm(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function hk(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:fk(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function fk(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function bm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function dk(t){return t.reduce((e,n)=>ke(e,n.meta),{})}function Im(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function dE(t,e){return e.children.some(n=>n===t||dE(t,n))}const pE=/#/g,pk=/&/g,gk=/\//g,mk=/=/g,yk=/\?/g,gE=/\+/g,_k=/%5B/g,vk=/%5D/g,mE=/%5E/g,Ek=/%60/g,yE=/%7B/g,wk=/%7C/g,_E=/%7D/g,Tk=/%20/g;function ud(t){return encodeURI(""+t).replace(wk,"|").replace(_k,"[").replace(vk,"]")}function bk(t){return ud(t).replace(yE,"{").replace(_E,"}").replace(mE,"^")}function Wh(t){return ud(t).replace(gE,"%2B").replace(Tk,"+").replace(pE,"%23").replace(pk,"%26").replace(Ek,"`").replace(yE,"{").replace(_E,"}").replace(mE,"^")}function Ik(t){return Wh(t).replace(mk,"%3D")}function Ak(t){return ud(t).replace(pE,"%23").replace(yk,"%3F")}function Ck(t){return t==null?"":Ak(t).replace(gk,"%2F")}function Wc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Sk(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(gE," "),o=i.indexOf("="),a=Wc(o<0?i:i.slice(0,o)),c=o<0?null:Wc(i.slice(o+1));if(a in e){let l=e[a];gn(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function Am(t){let e="";for(let n in t){const s=t[n];if(n=Ik(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(gn(s)?s.map(i=>i&&Wh(i)):[s&&Wh(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Ok(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=gn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Nk=Symbol(""),Cm=Symbol(""),hd=Symbol(""),vE=Symbol(""),zh=Symbol("");function ao(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function ys(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=f=>{f===!1?a(Ii(4,{from:n,to:e})):f instanceof Error?a(f):ek(f)?a(Ii(2,{from:e,to:f})):(i&&s.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),o())},l=t.call(s&&s.instances[r],e,n,c);let h=Promise.resolve(l);t.length<3&&(h=h.then(c)),h.catch(f=>a(f))})}function Qu(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(Rk(a)){const l=(a.__vccOpts||a)[e];l&&r.push(ys(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const h=MR(l)?l.default:l;i.components[o]=h;const p=(h.__vccOpts||h)[e];return p&&ys(p,n,s,i,o)()}))}}return r}function Rk(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Sm(t){const e=pn(hd),n=pn(vE),s=Lt(()=>e.resolve(As(t.to))),r=Lt(()=>{const{matched:c}=s.value,{length:l}=c,h=c[l-1],f=n.matched;if(!h||!f.length)return-1;const p=f.findIndex(bi.bind(null,h));if(p>-1)return p;const g=Om(c[l-2]);return l>1&&Om(h)===g&&f[f.length-1].path!==g?f.findIndex(bi.bind(null,c[l-2])):p}),i=Lt(()=>r.value>-1&&Lk(n.params,s.value.params)),o=Lt(()=>r.value>-1&&r.value===n.matched.length-1&&lE(n.params,s.value.params));function a(c={}){return Pk(c)?e[As(t.replace)?"replace":"push"](As(t.to)).catch(Oo):Promise.resolve()}return{route:s,href:Lt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const kk=En({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Sm,setup(t,{slots:e}){const n=kr(Sm(t)),{options:s}=pn(hd),r=Lt(()=>({[Nm(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Nm(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Vl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Dk=kk;function Pk(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Lk(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!gn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Om(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Nm=(t,e,n)=>t??e??n,xk=En({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=pn(zh),r=Lt(()=>t.route||s.value),i=pn(Cm,0),o=Lt(()=>{let l=As(i);const{matched:h}=r.value;let f;for(;(f=h[l])&&!f.components;)l++;return l}),a=Lt(()=>r.value.matched[o.value]);bo(Cm,Lt(()=>o.value+1)),bo(Nk,a),bo(zh,r);const c=dn();return Yn(()=>[c.value,a.value,t.name],([l,h,f],[p,g,w])=>{h&&(h.instances[f]=l,g&&g!==h&&l&&l===p&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),l&&h&&(!g||!bi(h,g)||!p)&&(h.enterCallbacks[f]||[]).forEach(I=>I(l))},{flush:"post"}),()=>{const l=r.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return Rm(n.default,{Component:p,route:l});const g=f.props[h],w=g?g===!0?l.params:typeof g=="function"?g(l):g:null,S=Vl(p,ke({},w,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[h]=null)},ref:c}));return Rm(n.default,{Component:S,route:l})||S}}});function Rm(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const EE=xk;function Mk(t){const e=uk(t.routes,t),n=t.parseQuery||Sk,s=t.stringifyQuery||Am,r=t.history,i=ao(),o=ao(),a=ao(),c=F_(fs);let l=fs;ei&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Gu.bind(null,M=>""+M),f=Gu.bind(null,Ck),p=Gu.bind(null,Wc);function g(M,Z){let Y,oe;return hE(M)?(Y=e.getRecordMatcher(M),oe=Z):oe=M,e.addRoute(oe,Y)}function w(M){const Z=e.getRecordMatcher(M);Z&&e.removeRoute(Z)}function I(){return e.getRoutes().map(M=>M.record)}function S(M){return!!e.getRecordMatcher(M)}function b(M,Z){if(Z=ke({},Z||c.value),typeof M=="string"){const C=Yu(n,M,Z.path),L=e.resolve({path:C.path},Z),F=r.createHref(C.fullPath);return ke(C,L,{params:p(L.params),hash:Wc(C.hash),redirectedFrom:void 0,href:F})}let Y;if("path"in M)Y=ke({},M,{path:Yu(n,M.path,Z.path).path});else{const C=ke({},M.params);for(const L in C)C[L]==null&&delete C[L];Y=ke({},M,{params:f(C)}),Z.params=f(Z.params)}const oe=e.resolve(Y,Z),P=M.hash||"";oe.params=h(p(oe.params));const m=VR(s,ke({},M,{hash:bk(P),path:oe.path})),E=r.createHref(m);return ke({fullPath:m,hash:P,query:s===Am?Ok(M.query):M.query||{}},oe,{redirectedFrom:void 0,href:E})}function _(M){return typeof M=="string"?Yu(n,M,c.value.path):ke({},M)}function k(M,Z){if(l!==M)return Ii(8,{from:Z,to:M})}function T(M){return U(M)}function R(M){return T(ke(_(M),{replace:!0}))}function V(M){const Z=M.matched[M.matched.length-1];if(Z&&Z.redirect){const{redirect:Y}=Z;let oe=typeof Y=="function"?Y(M):Y;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=_(oe):{path:oe},oe.params={}),ke({query:M.query,hash:M.hash,params:"path"in oe?{}:M.params},oe)}}function U(M,Z){const Y=l=b(M),oe=c.value,P=M.state,m=M.force,E=M.replace===!0,C=V(Y);if(C)return U(ke(_(C),{state:typeof C=="object"?ke({},P,C.state):P,force:m,replace:E}),Z||Y);const L=Y;L.redirectedFrom=Z;let F;return!m&&UR(s,oe,Y)&&(F=Ii(16,{to:L,from:oe}),ot(oe,oe,!0,!1)),(F?Promise.resolve(F):N(L,oe)).catch(q=>Vn(q)?Vn(q,2)?q:At(q):Te(q,L,oe)).then(q=>{if(q){if(Vn(q,2))return U(ke({replace:E},_(q.to),{state:typeof q.to=="object"?ke({},P,q.to.state):P,force:m}),Z||L)}else q=j(L,oe,!0,E,P);return x(L,oe,q),q})}function O(M,Z){const Y=k(M,Z);return Y?Promise.reject(Y):Promise.resolve()}function A(M){const Z=Ct.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(M):M()}function N(M,Z){let Y;const[oe,P,m]=$k(M,Z);Y=Qu(oe.reverse(),"beforeRouteLeave",M,Z);for(const C of oe)C.leaveGuards.forEach(L=>{Y.push(ys(L,M,Z))});const E=O.bind(null,M,Z);return Y.push(E),Fe(Y).then(()=>{Y=[];for(const C of i.list())Y.push(ys(C,M,Z));return Y.push(E),Fe(Y)}).then(()=>{Y=Qu(P,"beforeRouteUpdate",M,Z);for(const C of P)C.updateGuards.forEach(L=>{Y.push(ys(L,M,Z))});return Y.push(E),Fe(Y)}).then(()=>{Y=[];for(const C of M.matched)if(C.beforeEnter&&!Z.matched.includes(C))if(gn(C.beforeEnter))for(const L of C.beforeEnter)Y.push(ys(L,M,Z));else Y.push(ys(C.beforeEnter,M,Z));return Y.push(E),Fe(Y)}).then(()=>(M.matched.forEach(C=>C.enterCallbacks={}),Y=Qu(m,"beforeRouteEnter",M,Z),Y.push(E),Fe(Y))).then(()=>{Y=[];for(const C of o.list())Y.push(ys(C,M,Z));return Y.push(E),Fe(Y)}).catch(C=>Vn(C,8)?C:Promise.reject(C))}function x(M,Z,Y){for(const oe of a.list())A(()=>oe(M,Z,Y))}function j(M,Z,Y,oe,P){const m=k(M,Z);if(m)return m;const E=Z===fs,C=ei?history.state:{};Y&&(oe||E?r.replace(M.fullPath,ke({scroll:E&&C&&C.scroll},P)):r.push(M.fullPath,P)),c.value=M,ot(M,Z,Y,E),At()}let X;function J(){X||(X=r.listen((M,Z,Y)=>{if(!ft.listening)return;const oe=b(M),P=V(oe);if(P){U(ke(P,{replace:!0}),oe).catch(Oo);return}l=oe;const m=c.value;ei&&GR(ym(m.fullPath,Y.delta),jl()),N(oe,m).catch(E=>Vn(E,12)?E:Vn(E,2)?(U(E.to,oe).then(C=>{Vn(C,20)&&!Y.delta&&Y.type===zo.pop&&r.go(-1,!1)}).catch(Oo),Promise.reject()):(Y.delta&&r.go(-Y.delta,!1),Te(E,oe,m))).then(E=>{E=E||j(oe,m,!1),E&&(Y.delta&&!Vn(E,8)?r.go(-Y.delta,!1):Y.type===zo.pop&&Vn(E,20)&&r.go(-1,!1)),x(oe,m,E)}).catch(Oo)}))}let we=ao(),ie=ao(),fe;function Te(M,Z,Y){At(M);const oe=ie.list();return oe.length?oe.forEach(P=>P(M,Z,Y)):console.error(M),Promise.reject(M)}function ze(){return fe&&c.value!==fs?Promise.resolve():new Promise((M,Z)=>{we.add([M,Z])})}function At(M){return fe||(fe=!M,J(),we.list().forEach(([Z,Y])=>M?Y(M):Z()),we.reset()),M}function ot(M,Z,Y,oe){const{scrollBehavior:P}=t;if(!ei||!P)return Promise.resolve();const m=!Y&&YR(ym(M.fullPath,0))||(oe||!Y)&&history.state&&history.state.scroll||null;return _a().then(()=>P(M,Z,m)).then(E=>E&&zR(E)).catch(E=>Te(E,M,Z))}const He=M=>r.go(M);let Vt;const Ct=new Set,ft={currentRoute:c,listening:!0,addRoute:g,removeRoute:w,hasRoute:S,getRoutes:I,resolve:b,options:t,push:T,replace:R,go:He,back:()=>He(-1),forward:()=>He(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:ze,install(M){const Z=this;M.component("RouterLink",Dk),M.component("RouterView",EE),M.config.globalProperties.$router=Z,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>As(c)}),ei&&!Vt&&c.value===fs&&(Vt=!0,T(r.location).catch(P=>{}));const Y={};for(const P in fs)Y[P]=Lt(()=>c.value[P]);M.provide(hd,Z),M.provide(vE,kr(Y)),M.provide(zh,c);const oe=M.unmount;Ct.add(M),M.unmount=function(){Ct.delete(M),Ct.size<1&&(l=fs,X&&X(),X=null,c.value=fs,Vt=!1,fe=!1),oe()}}};function Fe(M){return M.reduce((Z,Y)=>Z.then(()=>A(Y)),Promise.resolve())}return ft}function $k(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>bi(l,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>bi(l,c))||r.push(c))}return[n,s,r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Fk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(p=64)),s.push(n[h],n[f],n[p],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const l=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||l==null||f==null)throw new Vk;const p=i<<2|a>>4;if(s.push(p),l!==64){const g=a<<4&240|l>>2;if(s.push(g),f!==64){const w=l<<6&192|f;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uk=function(t){const e=wE(t);return TE.encodeByteArray(e,!0)},zc=function(t){return Uk(t).replace(/\./g,"")},bE=function(t){try{return TE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=()=>Bk().__FIREBASE_DEFAULTS__,Hk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bE(t[1]);return e&&JSON.parse(e)},fd=()=>{try{return jk()||Hk()||qk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IE=t=>{var e,n;return(n=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kk=t=>{const e=IE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},AE=()=>{var t;return(t=fd())===null||t===void 0?void 0:t.config},CE=t=>{var e;return(e=fd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[zc(JSON.stringify(n)),zc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function SE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qk(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OE(){try{return typeof indexedDB=="object"}catch{return!1}}function NE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Xk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="FirebaseError";class wn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Jk,Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pr.prototype.create)}}class Pr{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Zk(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new wn(r,a,s)}}function Zk(t,e){return t.replace(eD,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const eD=/\{\$([^}]+)}/g;function tD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Go(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(km(i)&&km(o)){if(!Go(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function km(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function po(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function go(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nD(t,e){const n=new sD(t,e);return n.subscribe.bind(n)}class sD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");rD(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Xu),r.error===void 0&&(r.error=Xu),r.complete===void 0&&(r.complete=Xu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xu(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1e3,oD=2,aD=4*60*60*1e3,cD=.5;function Dm(t,e=iD,n=oD){const s=e*Math.pow(n,t),r=Math.round(cD*s*(Math.random()-.5)*2);return Math.min(aD,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class mn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Wk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hD(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uD(t){return t===tr?void 0:t}function hD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const dD={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},pD=Oe.INFO,gD={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},mD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=gD[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hl{constructor(e){this.name=e,this._logLevel=pD,this._logHandler=mD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const yD=(t,e)=>e.some(n=>t instanceof n);let Pm,Lm;function _D(){return Pm||(Pm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vD(){return Lm||(Lm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,Gh=new WeakMap,kE=new WeakMap,Ju=new WeakMap,dd=new WeakMap;function ED(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ss(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RE.set(n,t)}).catch(()=>{}),dd.set(e,t),e}function wD(t){if(Gh.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Gh.set(t,e)}let Yh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TD(t){Yh=t(Yh)}function bD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Zu(this),e,...n);return kE.set(s,e.sort?e.sort():[e]),Ss(s)}:vD().includes(t)?function(...e){return t.apply(Zu(this),e),Ss(RE.get(this))}:function(...e){return Ss(t.apply(Zu(this),e))}}function ID(t){return typeof t=="function"?bD(t):(t instanceof IDBTransaction&&wD(t),yD(t,_D())?new Proxy(t,Yh):t)}function Ss(t){if(t instanceof IDBRequest)return ED(t);if(Ju.has(t))return Ju.get(t);const e=ID(t);return e!==t&&(Ju.set(t,e),dd.set(e,t)),e}const Zu=t=>dd.get(t);function AD(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Ss(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Ss(o.result),c.oldVersion,c.newVersion,Ss(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const CD=["get","getKey","getAll","getAllKeys","count"],SD=["put","add","delete","clear"],eh=new Map;function xm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eh.get(e))return eh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=SD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||CD.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return eh.set(e,i),i}TD(t=>({...t,get:(e,n,s)=>xm(e,n)||t.get(e,n,s),has:(e,n)=>!!xm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ND(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ND(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qh="@firebase/app",Mm="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Hl("@firebase/app"),RD="@firebase/app-compat",kD="@firebase/analytics-compat",DD="@firebase/analytics",PD="@firebase/app-check-compat",LD="@firebase/app-check",xD="@firebase/auth",MD="@firebase/auth-compat",$D="@firebase/database",FD="@firebase/database-compat",VD="@firebase/functions",UD="@firebase/functions-compat",BD="@firebase/installations",jD="@firebase/installations-compat",HD="@firebase/messaging",qD="@firebase/messaging-compat",KD="@firebase/performance",WD="@firebase/performance-compat",zD="@firebase/remote-config",GD="@firebase/remote-config-compat",YD="@firebase/storage",QD="@firebase/storage-compat",XD="@firebase/firestore",JD="@firebase/firestore-compat",ZD="firebase",e1="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="[DEFAULT]",t1={[Qh]:"fire-core",[RD]:"fire-core-compat",[DD]:"fire-analytics",[kD]:"fire-analytics-compat",[LD]:"fire-app-check",[PD]:"fire-app-check-compat",[xD]:"fire-auth",[MD]:"fire-auth-compat",[$D]:"fire-rtdb",[FD]:"fire-rtdb-compat",[VD]:"fire-fn",[UD]:"fire-fn-compat",[BD]:"fire-iid",[jD]:"fire-iid-compat",[HD]:"fire-fcm",[qD]:"fire-fcm-compat",[KD]:"fire-perf",[WD]:"fire-perf-compat",[zD]:"fire-rc",[GD]:"fire-rc-compat",[YD]:"fire-gcs",[QD]:"fire-gcs-compat",[XD]:"fire-fst",[JD]:"fire-fst-compat","fire-js":"fire-js",[ZD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,Jh=new Map;function n1(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ln(t){const e=t.name;if(Jh.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Jh.set(e,t);for(const n of Gc.values())n1(n,t);return!0}function Lr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Os=new Pr("app","Firebase",s1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=e1;function DE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xh,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Os.create("bad-app-name",{appName:String(r)});if(n||(n=AE()),!n)throw Os.create("no-options");const i=Gc.get(r);if(i){if(Go(n,i.options)&&Go(s,i.config))return i;throw Os.create("duplicate-app",{appName:r})}const o=new fD(r);for(const c of Jh.values())o.addComponent(c);const a=new r1(n,s,o);return Gc.set(r,a),a}function pd(t=Xh){const e=Gc.get(t);if(!e&&t===Xh&&AE())return DE();if(!e)throw Os.create("no-app",{appName:t});return e}function sn(t,e,n){var s;let r=(s=t1[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(a.join(" "));return}Ln(new mn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firebase-heartbeat-database",o1=1,Yo="firebase-heartbeat-store";let th=null;function PE(){return th||(th=AD(i1,o1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yo)}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),th}async function a1(t){try{return await(await PE()).transaction(Yo).objectStore(Yo).get(LE(t))}catch(e){if(e instanceof wn)Er.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function $m(t,e){try{const s=(await PE()).transaction(Yo,"readwrite");await s.objectStore(Yo).put(e,LE(t)),await s.done}catch(n){if(n instanceof wn)Er.warn(n.message);else{const s=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(s.message)}}}function LE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=1024,l1=30*24*60*60*1e3;class u1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=l1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fm(),{heartbeatsToSend:n,unsentEntries:s}=h1(this._heartbeatsCache.heartbeats),r=zc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Fm(){return new Date().toISOString().substring(0,10)}function h1(t,e=c1){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Vm(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Vm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class f1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OE()?NE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await a1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Vm(t){return zc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){Ln(new mn("platform-logger",e=>new OD(e),"PRIVATE")),Ln(new mn("heartbeat",e=>new u1(e),"PRIVATE")),sn(Qh,Mm,t),sn(Qh,Mm,"esm2017"),sn("fire-js","")}d1("");function gd(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function xE(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p1=xE,ME=new Pr("auth","Firebase",xE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Hl("@firebase/auth");function g1(t,...e){Yc.logLevel<=Oe.WARN&&Yc.warn(`Auth (${ji}): ${t}`,...e)}function Oc(t,...e){Yc.logLevel<=Oe.ERROR&&Yc.error(`Auth (${ji}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,...e){throw md(t,...e)}function Nn(t,...e){return md(t,...e)}function m1(t,e,n){const s=Object.assign(Object.assign({},p1()),{[e]:n});return new Pr("auth","Firebase",s).create(e,{appName:t.name})}function md(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ME.create(t,...e)}function pe(t,e,...n){if(!t)throw md(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oc(e),new Error(e)}function Jn(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y1(){return Um()==="http:"||Um()==="https:"}function Um(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y1()||SE()||"connection"in navigator)?navigator.onLine:!0}function v1(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jn(n>e,"Short delay should be less than long delay!"),this.isMobile=Gk()||Yk()}get(){return _1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e){Jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new ba(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xr(t,e,n,s,r={}){return FE(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=Ta(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),$E.fetch()(VE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function FE(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},E1),e);try{const r=new T1(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw pc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw pc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw pc(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw m1(t,h,l);yn(t,h)}}catch(r){if(r instanceof wn)throw r;yn(t,"network-request-failed",{message:String(r)})}}async function Ia(t,e,n,s,r={}){const i=await xr(t,e,n,s,r);return"mfaPendingCredential"in i&&yn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function VE(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?yd(t.config,r):`${t.config.apiScheme}://${r}`}class T1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Nn(this.auth,"network-request-failed")),w1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Nn(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(t,e){return xr(t,"POST","/v1/accounts:delete",e)}async function I1(t,e){return xr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A1(t,e=!1){const n=ht(t),s=await n.getIdToken(e),r=_d(s);pe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Ro(nh(r.auth_time)),issuedAtTime:Ro(nh(r.iat)),expirationTime:Ro(nh(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function nh(t){return Number(t)*1e3}function _d(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const r=bE(n);return r?JSON.parse(r):(Oc("Failed to decode base64 JWT payload"),null)}catch(r){return Oc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function C1(t){const e=_d(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ai(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof wn&&S1(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function S1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Ai(t,I1(n,{idToken:s}));pe(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?k1(i.providerUserInfo):[],a=R1(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new UE(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function N1(t){const e=ht(t);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R1(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function k1(t){return t.map(e=>{var{providerId:n}=e,s=gd(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(t,e){const n=await FE(t,{},async()=>{const s=Ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=VE(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return pe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await D1(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Qo;return s&&(pe(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(pe(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=gd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new UE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ai(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A1(this,e)}reload(){return N1(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ai(this,b1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,a,c,l,h;const f=(s=n.displayName)!==null&&s!==void 0?s:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:T,isAnonymous:R,providerData:V,stsTokenManager:U}=n;pe(k&&U,e,"internal-error");const O=Qo.fromJSON(this.name,U);pe(typeof k=="string",e,"internal-error"),ds(f,e.name),ds(p,e.name),pe(typeof T=="boolean",e,"internal-error"),pe(typeof R=="boolean",e,"internal-error"),ds(g,e.name),ds(w,e.name),ds(I,e.name),ds(S,e.name),ds(b,e.name),ds(_,e.name);const A=new dr({uid:k,auth:e,email:p,emailVerified:T,displayName:f,isAnonymous:R,photoURL:w,phoneNumber:g,tenantId:I,stsTokenManager:O,createdAt:b,lastLoginAt:_});return V&&Array.isArray(V)&&(A.providerData=V.map(N=>Object.assign({},N))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,s=!1){const r=new Qo;r.updateFromServerResponse(n);const i=new dr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Qc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new Map;function Kn(t){Jn(t instanceof Function,"Expected a class definition");let e=Bm.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BE.type="NONE";const jm=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t,e,n){return`firebase:${t}:${e}:${n}`}class hi{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Nc(this.userKey,r.apiKey,i),this.fullPersistenceKey=Nc("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new hi(Kn(jm),e,s);const r=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=r[0]||Kn(jm);const o=Nc(s,e.config.apiKey,e.name);let a=null;for(const l of n)try{const h=await l._get(o);if(h){const f=dr._fromJSON(e,h);l!==i&&(a=f),i=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new hi(i,e,s):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new hi(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WE(e))return"Blackberry";if(zE(e))return"Webos";if(vd(e))return"Safari";if((e.includes("chrome/")||HE(e))&&!e.includes("edge/"))return"Chrome";if(KE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function jE(t=bt()){return/firefox\//i.test(t)}function vd(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HE(t=bt()){return/crios\//i.test(t)}function qE(t=bt()){return/iemobile/i.test(t)}function KE(t=bt()){return/android/i.test(t)}function WE(t=bt()){return/blackberry/i.test(t)}function zE(t=bt()){return/webos/i.test(t)}function ql(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P1(t=bt()){var e;return ql(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L1(){return Qk()&&document.documentMode===10}function GE(t=bt()){return ql(t)||KE(t)||zE(t)||WE(t)||/windows phone/i.test(t)||qE(t)}function x1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t,e=[]){let n;switch(t){case"Browser":n=Hm(bt());break;case"Worker":n=`${Hm(bt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ji}/${s}`}async function QE(t,e){return xr(t,"GET","/v2/recaptchaConfig",Hi(t,e))}function qm(t){return t!==void 0&&t.enterprise!==void 0}class XE{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function JE(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Nn("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",M1().appendChild(s)})}function $1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const F1="https://www.google.com/recaptcha/enterprise.js?render=",V1="recaptcha-enterprise",U1="NO_RECAPTCHA";class ZE{constructor(e){this.type=V1,this.auth=qi(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{QE(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new XE(c);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function r(i,o,a){const c=window.grecaptcha;qm(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(U1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{s(this.auth).then(a=>{if(!n&&qm(window.grecaptcha))r(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}JE(F1+a).then(()=>{r(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Xc(t,e,n,s=!1){const r=new ZE(t);let i;try{i=await r.verify(n)}catch{i=await r.verify(n,!0)}const o=Object.assign({},e);return s?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Km(this),this.idTokenSubscription=new Km(this),this.beforeStateQueue=new B1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await hi.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ht(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}async initializeRecaptchaConfig(){const e=await QE(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new XE(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ZE(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pr("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await hi.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,s,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&g1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qi(t){return ht(t)}class Km{constructor(e){this.auth=e,this.observer=null,this.addObserver=nD(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e){const n=Lr(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Go(i,e??{}))return r;yn(r,"already-initialized")}return n.initialize({options:e})}function q1(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function K1(t,e,n){const s=qi(t);pe(s._canInitEmulator,s,"emulator-config-failed"),pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=ew(e),{host:o,port:a}=W1(e),c=a===null?"":`:${a}`;s.config.emulator={url:`${i}//${o}${c}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||z1()}function ew(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W1(t){const e=ew(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:Wm(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:Wm(o)}}}function Wm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function z1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}async function G1(t,e){return xr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t,e){return Ia(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(t,e){return Ia(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}async function Q1(t,e){return Ia(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Ed{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Xo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Xo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const r=await Xc(e,s,"signInWithPassword");return sh(e,r)}else return sh(e,s).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await Xc(e,s,"signInWithPassword");return sh(e,i)}else return Promise.reject(r)});case"emailLink":return Y1(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return G1(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Q1(e,{idToken:n,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fi(t,e){return Ia(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="http://localhost";class wr extends Ed{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=gd(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new wr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fi(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fi(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fi(e,n)}buildRequest(){const e={requestUri:X1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ta(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z1(t){const e=po(go(t)).link,n=e?po(go(e)).deep_link_id:null,s=po(go(t)).deep_link_id;return(s?po(go(s)).link:null)||s||n||e||t}class wd{constructor(e){var n,s,r,i,o,a;const c=po(go(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(s=c.oobCode)!==null&&s!==void 0?s:null,f=J1((r=c.mode)!==null&&r!==void 0?r:null);pe(l&&h&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Z1(e);try{return new wd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.providerId=Ki.PROVIDER_ID}static credential(e,n){return Xo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=wd.parseLink(n);return pe(s,"argument-error"),Xo._fromEmailAndCode(e,s.code,s.tenantId)}}Ki.PROVIDER_ID="password";Ki.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ki.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends tw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Aa{constructor(){super("facebook.com")}static credential(e){return wr._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Aa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wr._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return vs.credential(n,s)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Aa{constructor(){super("github.com")}static credential(e){return wr._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Aa{constructor(){super("twitter.com")}static credential(e,n){return wr._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ws.credential(n,s)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t,e){return Ia(t,"POST","/v1/accounts:signUp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await dr._fromIdTokenResponse(e,s,r),o=zm(s);return new Tr({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=zm(s);return new Tr({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function zm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends wn{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Jc(e,n,s,r)}}function nw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(t,i,e,s):i})}async function eP(t,e,n=!1){const s=await Ai(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,e,n=!1){const{auth:s}=t,r="reauthenticate";try{const i=await Ai(t,nw(s,r,e,t),n);pe(i.idToken,s,"internal-error");const o=_d(i.idToken);pe(o,s,"internal-error");const{sub:a}=o;return pe(t.uid===a,s,"user-mismatch"),Tr._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(t,e,n=!1){const s="signIn",r=await nw(t,s,e),i=await Tr._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function nP(t,e){return sw(qi(t),e)}async function sP(t,e,n){var s;const r=qi(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((s=r._getRecaptchaConfig())===null||s===void 0)&&s.emailPasswordEnabled){const l=await Xc(r,i,"signUpPassword");o=rh(r,l)}else o=rh(r,i).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const h=await Xc(r,i,"signUpPassword");return rh(r,h)}else return Promise.reject(l)});const a=await o.catch(l=>Promise.reject(l)),c=await Tr._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function rP(t,e,n){return nP(ht(t),Ki.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e){return xr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ht(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ai(s,iP(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function aP(t,e,n,s){return ht(t).onIdTokenChanged(e,n,s)}function cP(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function lP(t){return ht(t).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){const t=bt();return vd(t)||ql(t)}const hP=1e3,fP=10;class iw extends rw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=uP()&&x1(),this.fallbackToPolling=GE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);L1()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,fP):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},hP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iw.type="LOCAL";const dP=iw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends rw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ow.type="SESSION";const aw=ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Kl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await pP(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=Td("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function mP(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function yP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _P(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vP(){return cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebaseLocalStorageDb",EP=1,el="firebaseLocalStorage",uw="fbase_key";class Ca{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wl(t,e){return t.transaction([el],e?"readwrite":"readonly").objectStore(el)}function wP(){const t=indexedDB.deleteDatabase(lw);return new Ca(t).toPromise()}function ef(){const t=indexedDB.open(lw,EP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(el,{keyPath:uw})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(el)?e(s):(s.close(),await wP(),e(await ef()))})})}async function Gm(t,e,n){const s=Wl(t,!0).put({[uw]:e,value:n});return new Ca(s).toPromise()}async function TP(t,e){const n=Wl(t,!1).get(e),s=await new Ca(n).toPromise();return s===void 0?null:s.value}function Ym(t,e){const n=Wl(t,!0).delete(e);return new Ca(n).toPromise()}const bP=800,IP=3;class hw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ef(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>IP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kl._getInstance(vP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yP(),!this.activeServiceWorker)return;this.sender=new gP(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_P()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ef();return await Gm(e,Zc,"1"),await Ym(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Gm(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>TP(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ym(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Wl(r,!1).getAll();return new Ca(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hw.type="LOCAL";const AP=hw;new ba(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t,e){return e?Kn(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends Ed{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SP(t){return sw(t.auth,new bd(t),t.bypassAuthState)}function OP(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),tP(n,new bd(t),t.bypassAuthState)}async function NP(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),eP(n,new bd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SP;case"linkViaPopup":case"linkViaRedirect":return NP;case"reauthViaPopup":case"reauthViaRedirect":return OP;default:yn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new ba(2e3,1e4);class ri extends fw{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,ri.currentPopupAction&&ri.currentPopupAction.cancel(),ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const e=Td();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RP.get())};e()}}ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="pendingRedirect",Rc=new Map;class DP extends fw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const s=await PP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PP(t,e){const n=MP(e),s=xP(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function LP(t,e){Rc.set(t._key(),e)}function xP(t){return Kn(t._redirectPersistence)}function MP(t){return Nc(kP,t.config.apiKey,t.name)}async function $P(t,e,n=!1){const s=qi(t),r=CP(s,e),o=await new DP(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=10*60*1e3;class VP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!dw(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qm(e))}saveEventToCache(e){this.cachedEventUids.add(Qm(e)),this.lastProcessedEventTime=Date.now()}}function Qm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e={}){return xr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HP=/^https?/;async function qP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BP(t);for(const n of e)try{if(KP(n))return}catch{}yn(t,"unauthorized-domain")}function KP(t){const e=Zh(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!HP.test(n))return!1;if(jP.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new ba(3e4,6e4);function Xm(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zP(t){return new Promise((e,n)=>{var s,r,i;function o(){Xm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xm(),n(Nn(t,"network-request-failed"))},timeout:WP.get()})}if(!((r=(s=Rn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=Rn().gapi)===null||i===void 0)&&i.load)o();else{const a=$1("iframefcb");return Rn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},JE(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw kc=null,e})}let kc=null;function GP(t){return kc=kc||zP(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new ba(5e3,15e3),QP="__/auth/iframe",XP="emulator/auth/iframe",JP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eL(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yd(e,XP):`https://${t.config.authDomain}/${QP}`,s={apiKey:e.apiKey,appName:t.name,v:ji},r=ZP.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Ta(s).slice(1)}`}async function tL(t){const e=await GP(t),n=Rn().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:eL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JP,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=Rn().setTimeout(()=>{i(o)},YP.get());function c(){Rn().clearTimeout(a),r(s)}s.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sL=500,rL=600,iL="_blank",oL="http://localhost";class Jm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aL(t,e,n,s=sL,r=rL){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c=Object.assign(Object.assign({},nL),{width:s.toString(),height:r.toString(),top:i,left:o}),l=bt().toLowerCase();n&&(a=HE(l)?iL:n),jE(l)&&(e=e||oL,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(P1(l)&&a!=="_self")return cL(e||"",a),new Jm(null);const f=window.open(e||"",a,h);pe(f,t,"popup-blocked");try{f.focus()}catch{}return new Jm(f)}function cL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="__/auth/handler",uL="emulator/auth/handler",hL=encodeURIComponent("fac");async function Zm(t,e,n,s,r,i){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ji,eventId:r};if(e instanceof tw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(i||{}))o[h]=f}if(e instanceof Aa){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),l=c?`#${hL}=${encodeURIComponent(c)}`:"";return`${fL(t)}?${Ta(a).slice(1)}${l}`}function fL({config:t}){return t.emulator?yd(t,uL):`https://${t.authDomain}/${lL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="webStorageSupport";class dL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=$P,this._overrideRedirectResult=LP}async _openPopup(e,n,s,r){var i;Jn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Zm(e,n,s,Zh(),r);return aL(e,o,Td())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await Zm(e,n,s,Zh(),r);return mP(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Jn(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await tL(e),s=new VP(e);return n.register("authEvent",r=>(pe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ih,{type:ih},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[ih];o!==void 0&&n(!!o),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GE()||vd()||ql()}}const pL=dL;var ey="@firebase/auth",ty="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function yL(t){Ln(new mn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(t)},l=new j1(s,r,i,c);return q1(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ln(new mn("auth-internal",e=>{const n=qi(e.getProvider("auth").getImmediate());return(s=>new gL(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(ey,ty,mL(t)),sn(ey,ty,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=5*60,vL=CE("authIdTokenMaxAge")||_L;let ny=null;const EL=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>vL)return;const r=n==null?void 0:n.token;ny!==r&&(ny=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function di(t=pd()){const e=Lr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=H1(t,{popupRedirectResolver:pL,persistence:[AP,dP,aw]}),s=CE("authTokenSyncURL");if(s){const i=EL(s);cP(n,i,()=>i(n.currentUser)),aP(n,o=>i(o))}const r=IE("auth");return r&&K1(n,`http://${r}`),n}yL("Browser");const zl=xR("user",()=>{const t=dn(""),e=dn(!1);function n(r){t.value=r}function s(r){e.value=r}return{displayName:t,isSignedIn:e,setDisplayName:n,setIsSignedIn:s}});var wL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,Id=Id||{},me=wL||self;function Gl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Sa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function TL(t){return Object.prototype.hasOwnProperty.call(t,oh)&&t[oh]||(t[oh]=++bL)}var oh="closure_uid_"+(1e9*Math.random()>>>0),bL=0;function IL(t,e,n){return t.call.apply(t.bind,arguments)}function AL(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Et(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Et=IL:Et=AL,Et.apply(null,arguments)}function gc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function it(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Us(){this.s=this.s,this.o=this.o}var CL=0;Us.prototype.s=!1;Us.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),CL!=0)&&TL(this)};Us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ad(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function sy(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Gl(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var SL=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function Jo(t){return/^[\s\xa0]*$/.test(t)}function Yl(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function Cn(t){return Yl().indexOf(t)!=-1}function Cd(t){return Cd[" "](t),t}Cd[" "]=function(){};function OL(t,e){var n=Ex;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var NL=Cn("Opera"),Ci=Cn("Trident")||Cn("MSIE"),gw=Cn("Edge"),tf=gw||Ci,mw=Cn("Gecko")&&!(Yl().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge"))&&!(Cn("Trident")||Cn("MSIE"))&&!Cn("Edge"),RL=Yl().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge");function yw(){var t=me.document;return t?t.documentMode:void 0}var nf;e:{var ah="",ch=function(){var t=Yl();if(mw)return/rv:([^\);]+)(\)|;)/.exec(t);if(gw)return/Edge\/([\d\.]+)/.exec(t);if(Ci)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(RL)return/WebKit\/(\S+)/.exec(t);if(NL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ch&&(ah=ch?ch[1]:""),Ci){var lh=yw();if(lh!=null&&lh>parseFloat(ah)){nf=String(lh);break e}}nf=ah}var sf;if(me.document&&Ci){var ry=yw();sf=ry||parseInt(nf,10)||void 0}else sf=void 0;var kL=sf;function Zo(t,e){if(wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mw){e:{try{Cd(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:DL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zo.$.h.call(this)}}it(Zo,wt);var DL={2:"touch",3:"pen",4:"mouse"};Zo.prototype.h=function(){Zo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Oa="closure_listenable_"+(1e6*Math.random()|0),PL=0;function LL(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=r,this.key=++PL,this.fa=this.ia=!1}function Ql(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Sd(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function xL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function _w(t){const e={};for(const n in t)e[n]=t[n];return e}const iy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vw(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<iy.length;i++)n=iy[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Xl(t){this.src=t,this.g={},this.h=0}Xl.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=of(t,e,s,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new LL(e,this.src,i,!!s,r),e.ia=n,t.push(e)),e};function rf(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=pw(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Ql(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function of(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==s)return r}return-1}var Od="closure_lm_"+(1e6*Math.random()|0),uh={};function Ew(t,e,n,s,r){if(s&&s.once)return Tw(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Ew(t,e[i],n,s,r);return null}return n=kd(n),t&&t[Oa]?t.O(e,n,Sa(s)?!!s.capture:!!s,r):ww(t,e,n,!1,s,r)}function ww(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Sa(r)?!!r.capture:!!r,a=Rd(t);if(a||(t[Od]=a=new Xl(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=ML(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)SL||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Iw(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ML(){function t(n){return e.call(t.src,t.listener,n)}const e=$L;return t}function Tw(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Tw(t,e[i],n,s,r);return null}return n=kd(n),t&&t[Oa]?t.P(e,n,Sa(s)?!!s.capture:!!s,r):ww(t,e,n,!0,s,r)}function bw(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)bw(t,e[i],n,s,r);else s=Sa(s)?!!s.capture:!!s,n=kd(n),t&&t[Oa]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=of(i,n,s,r),-1<n&&(Ql(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Rd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=of(e,n,s,r)),(n=-1<t?e[t]:null)&&Nd(n))}function Nd(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Oa])rf(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Iw(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Rd(e))?(rf(n,t),n.h==0&&(n.src=null,e[Od]=null)):Ql(t)}}}function Iw(t){return t in uh?uh[t]:uh[t]="on"+t}function $L(t,e){if(t.fa)t=!0;else{e=new Zo(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Nd(t),t=n.call(s,e)}return t}function Rd(t){return t=t[Od],t instanceof Xl?t:null}var hh="__closure_events_fn_"+(1e9*Math.random()>>>0);function kd(t){return typeof t=="function"?t:(t[hh]||(t[hh]=function(e){return t.handleEvent(e)}),t[hh])}function rt(){Us.call(this),this.i=new Xl(this),this.S=this,this.J=null}it(rt,Us);rt.prototype[Oa]=!0;rt.prototype.removeEventListener=function(t,e,n,s){bw(this,t,e,n,s)};function ut(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new wt(e,t);else if(e instanceof wt)e.target=e.target||t;else{var r=e;e=new wt(s,t),vw(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=mc(o,s,!0,e)&&r}if(o=e.g=t,r=mc(o,s,!0,e)&&r,r=mc(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=mc(o,s,!1,e)&&r}rt.prototype.N=function(){if(rt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Ql(n[s]);delete t.g[e],t.h--}}this.J=null};rt.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};rt.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function mc(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&rf(t.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var Dd=me.JSON.stringify;class FL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function VL(){var t=Pd;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class UL{constructor(){this.h=this.g=null}add(e,n){const s=Aw.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Aw=new FL(()=>new BL,t=>t.reset());class BL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function HL(t){me.setTimeout(()=>{throw t},0)}let ea,ta=!1,Pd=new UL,Cw=()=>{const t=me.Promise.resolve(void 0);ea=()=>{t.then(qL)}};var qL=()=>{for(var t;t=VL();){try{t.h.call(t.g)}catch(n){HL(n)}var e=Aw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ta=!1};function Jl(t,e){rt.call(this),this.h=t||1,this.g=e||me,this.j=Et(this.qb,this),this.l=Date.now()}it(Jl,rt);ee=Jl.prototype;ee.ga=!1;ee.T=null;ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(Ld(this),this.start()))}};ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ld(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ee.N=function(){Jl.$.N.call(this),Ld(this),delete this.g};function xd(t,e,n){if(typeof t=="function")n&&(t=Et(t,n));else if(t&&typeof t.handleEvent=="function")t=Et(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function Sw(t){t.g=xd(()=>{t.g=null,t.i&&(t.i=!1,Sw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class KL extends Us{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sw(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(t){Us.call(this),this.h=t,this.g={}}it(na,Us);var oy=[];function Ow(t,e,n,s){Array.isArray(n)||(n&&(oy[0]=n.toString()),n=oy);for(var r=0;r<n.length;r++){var i=Ew(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Nw(t){Sd(t.g,function(e,n){this.g.hasOwnProperty(n)&&Nd(e)},t),t.g={}}na.prototype.N=function(){na.$.N.call(this),Nw(this)};na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zl(){this.g=!0}Zl.prototype.Ea=function(){this.g=!1};function WL(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var f=h.split("_");o=2<=f.length&&f[1]=="type"?o+(h+"="+l+"&"):o+(h+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function zL(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function ii(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+YL(t,n)+(s?" "+s:"")})}function GL(t,e){t.info(function(){return"TIMEOUT: "+e})}Zl.prototype.info=function(){};function YL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Dd(n)}catch{return e}}var Mr={},ay=null;function eu(){return ay=ay||new rt}Mr.Ta="serverreachability";function Rw(t){wt.call(this,Mr.Ta,t)}it(Rw,wt);function sa(t){const e=eu();ut(e,new Rw(e))}Mr.STAT_EVENT="statevent";function kw(t,e){wt.call(this,Mr.STAT_EVENT,t),this.stat=e}it(kw,wt);function Nt(t){const e=eu();ut(e,new kw(e,t))}Mr.Ua="timingevent";function Dw(t,e){wt.call(this,Mr.Ua,t),this.size=e}it(Dw,wt);function Na(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var tu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Md(){}Md.prototype.h=null;function cy(t){return t.h||(t.h=t.i())}function Lw(){}var Ra={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $d(){wt.call(this,"d")}it($d,wt);function Fd(){wt.call(this,"c")}it(Fd,wt);var af;function nu(){}it(nu,Md);nu.prototype.g=function(){return new XMLHttpRequest};nu.prototype.i=function(){return{}};af=new nu;function ka(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new na(this),this.P=QL,t=tf?125:void 0,this.V=new Jl(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xw}function xw(){this.i=null,this.g="",this.h=!1}var QL=45e3,cf={},tl={};ee=ka.prototype;ee.setTimeout=function(t){this.P=t};function lf(t,e,n){t.L=1,t.v=ru(Zn(e)),t.s=n,t.S=!0,Mw(t,null)}function Mw(t,e){t.G=Date.now(),Da(t),t.A=Zn(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),qw(n.i,"t",s),t.C=0,n=t.l.J,t.h=new xw,t.g=hT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new KL(Et(t.Pa,t,t.g),t.O)),Ow(t.U,t.g,"readystatechange",t.nb),e=t.I?_w(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),sa(),WL(t.j,t.u,t.A,t.m,t.W,t.s)}ee.nb=function(t){t=t.target;const e=this.M;e&&Sn(t)==3?e.l():this.Pa(t)};ee.Pa=function(t){try{if(t==this.g)e:{const h=Sn(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>h)&&(h!=3||tf||this.g&&(this.h.h||this.g.ja()||fy(this.g)))){this.J||h!=4||e==7||(e==8||0>=f?sa(3):sa(2)),su(this);var n=this.g.da();this.ca=n;t:if($w(this)){var s=fy(this.g);t="";var r=s.length,i=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),ko(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,zL(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jo(a)){var l=a;break t}}l=null}if(n=l)ii(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uf(this,n);else{this.i=!1,this.o=3,Nt(12),ir(this),ko(this);break e}}this.S?(Fw(this,h,o),tf&&this.i&&h==3&&(Ow(this.U,this.V,"tick",this.mb),this.V.start())):(ii(this.j,this.m,o,null),uf(this,o)),h==4&&ir(this),this.i&&!this.J&&(h==4?aT(this.l,this):(this.i=!1,Da(this)))}else yx(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Nt(12)):(this.o=0,Nt(13)),ir(this),ko(this)}}}catch{}finally{}};function $w(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Fw(t,e,n){let s=!0,r;for(;!t.J&&t.C<n.length;)if(r=XL(t,n),r==tl){e==4&&(t.o=4,Nt(14),s=!1),ii(t.j,t.m,null,"[Incomplete Response]");break}else if(r==cf){t.o=4,Nt(15),ii(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else ii(t.j,t.m,r,null),uf(t,r);$w(t)&&r!=tl&&r!=cf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Nt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qd(e),e.M=!0,Nt(11))):(ii(t.j,t.m,n,"[Invalid Chunked Response]"),ir(t),ko(t))}ee.mb=function(){if(this.g){var t=Sn(this.g),e=this.g.ja();this.C<e.length&&(su(this),Fw(this,t,e),this.i&&t!=4&&Da(this))}};function XL(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?tl:(n=Number(e.substring(n,s)),isNaN(n)?cf:(s+=1,s+n>e.length?tl:(e=e.slice(s,s+n),t.C=s+n,e)))}ee.cancel=function(){this.J=!0,ir(this)};function Da(t){t.Y=Date.now()+t.P,Vw(t,t.P)}function Vw(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Na(Et(t.lb,t),e)}function su(t){t.B&&(me.clearTimeout(t.B),t.B=null)}ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(GL(this.j,this.A),this.L!=2&&(sa(),Nt(17)),ir(this),this.o=2,ko(this)):Vw(this,this.Y-t)};function ko(t){t.l.H==0||t.J||aT(t.l,t)}function ir(t){su(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ld(t.V),Nw(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function uf(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||hf(n.i,t))){if(!t.K&&hf(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rl(n),au(n);else break e;Hd(n),Nt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Na(Et(n.ib,n),6e3));if(1>=zw(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else or(n,11)}else if((t.K||n.g==t)&&rl(n),!Jo(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const h=l[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=l[5];p!=null&&typeof p=="number"&&0<p&&(s=1.5*p,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=t.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var i=s.i;i.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Vd(i,i.h),i.h=null))}if(s.F){const I=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(s.Da=I,Ve(s.I,s.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=uT(s,s.J?s.pa:null,s.Y),o.K){Gw(s.i,o);var a=o,c=s.L;c&&a.setTimeout(c),a.B&&(su(a),Da(a)),s.g=o}else iT(s);0<n.j.length&&cu(n)}else l[0]!="stop"&&l[0]!="close"||or(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?or(n,7):jd(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}sa(4)}catch{}}function JL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Gl(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function ZL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function Uw(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Gl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ZL(t),s=JL(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var Bw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ex(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function pr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof pr){this.h=t.h,nl(this,t.j),this.s=t.s,this.g=t.g,sl(this,t.m),this.l=t.l;var e=t.i,n=new ra;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ly(this,n),this.o=t.o}else t&&(e=String(t).match(Bw))?(this.h=!1,nl(this,e[1]||"",!0),this.s=mo(e[2]||""),this.g=mo(e[3]||"",!0),sl(this,e[4]),this.l=mo(e[5]||"",!0),ly(this,e[6]||"",!0),this.o=mo(e[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}pr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yo(e,uy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(yo(e,uy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(yo(n,n.charAt(0)=="/"?sx:nx,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",yo(n,ix)),t.join("")};function Zn(t){return new pr(t)}function nl(t,e,n){t.j=n?mo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ly(t,e,n){e instanceof ra?(t.i=e,ox(t.i,t.h)):(n||(e=yo(e,rx)),t.i=new ra(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function ru(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function mo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,tx),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tx(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var uy=/[#\/\?@]/g,nx=/[#\?:]/g,sx=/[#\?]/g,rx=/[#\?@]/g,ix=/#/g;function ra(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bs(t){t.g||(t.g=new Map,t.h=0,t.i&&ex(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=ra.prototype;ee.add=function(t,e){Bs(this),this.i=null,t=Wi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jw(t,e){Bs(t),e=Wi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Hw(t,e){return Bs(t),e=Wi(t,e),t.g.has(e)}ee.forEach=function(t,e){Bs(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};ee.ta=function(){Bs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};ee.Z=function(t){Bs(this);let e=[];if(typeof t=="string")Hw(this,t)&&(e=e.concat(this.g.get(Wi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return Bs(this),this.i=null,t=Wi(this,t),Hw(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function qw(t,e,n){jw(t,e),0<n.length&&(t.i=null,t.g.set(Wi(t,e),Ad(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function Wi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ox(t,e){e&&!t.j&&(Bs(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(jw(this,s),qw(this,r,n))},t)),t.j=e}var ax=class{constructor(t,e){this.g=t,this.map=e}};function Kw(t){this.l=t||cx,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cx=10;function Ww(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zw(t){return t.h?1:t.g?t.g.size:0}function hf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Vd(t,e){t.g?t.g.add(e):t.h=e}function Gw(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Kw.prototype.cancel=function(){if(this.i=Yw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Yw(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ad(t.i)}var lx=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function ux(){this.g=new lx}function hx(t,e,n){const s=n||"";try{Uw(t,function(r,i){let o=r;Sa(r)&&(o=Dd(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function fx(t,e){const n=new Zl;if(me.Image){const s=new Image;s.onload=gc(yc,n,s,"TestLoadImage: loaded",!0,e),s.onerror=gc(yc,n,s,"TestLoadImage: error",!1,e),s.onabort=gc(yc,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=gc(yc,n,s,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function yc(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function Pa(t){this.l=t.fc||null,this.j=t.ob||!1}it(Pa,Md);Pa.prototype.g=function(){return new iu(this.l,this.j)};Pa.prototype.i=function(t){return function(){return t}}({});function iu(t,e){rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ud,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(iu,rt);var Ud=0;ee=iu.prototype;ee.open=function(t,e){if(this.readyState!=Ud)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ia(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,La(this)),this.readyState=Ud};ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ia(this)),this.g&&(this.readyState=3,ia(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qw(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Qw(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?La(this):ia(this),this.readyState==3&&Qw(this)}};ee.Za=function(t){this.g&&(this.response=this.responseText=t,La(this))};ee.Ya=function(t){this.g&&(this.response=t,La(this))};ee.ka=function(){this.g&&La(this)};function La(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ia(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ia(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dx=me.JSON.parse;function We(t){rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xw,this.L=this.M=!1}it(We,rt);var Xw="",px=/^https?$/i,gx=["POST","PUT"];ee=We.prototype;ee.Oa=function(t){this.M=t};ee.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():af.g(),this.C=this.u?cy(this.u):cy(af),this.g.onreadystatechange=Et(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){hy(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=me.FormData&&t instanceof me.FormData,!(0<=pw(gx,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eT(this),0<this.B&&((this.L=mx(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.ua,this)):this.A=xd(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){hy(this,i)}};function mx(t){return Ci&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.ua=function(){typeof Id<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function hy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Jw(t),ou(t)}function Jw(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),ou(this))};ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ou(this,!0)),We.$.N.call(this)};ee.La=function(){this.s||(this.G||this.v||this.l?Zw(this):this.kb())};ee.kb=function(){Zw(this)};function Zw(t){if(t.h&&typeof Id<"u"&&(!t.C[1]||Sn(t)!=4||t.da()!=2)){if(t.v&&Sn(t)==4)xd(t.La,0,t);else if(ut(t,"readystatechange"),Sn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=o===0){var r=String(t.I).match(Bw)[1]||null;!r&&me.self&&me.self.location&&(r=me.self.location.protocol.slice(0,-1)),s=!px.test(r?r.toLowerCase():"")}n=s}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var i=2<Sn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Jw(t)}}finally{ou(t)}}}}function ou(t,e){if(t.g){eT(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=s}catch{}}}function eT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}ee.isActive=function(){return!!this.g};function Sn(t){return t.g?t.g.readyState:0}ee.da=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}};ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dx(e)}};function fy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Xw:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function yx(t){const e={};t=(t.g&&2<=Sn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(Jo(t[s]))continue;var n=jL(t[s]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[r]||[];e[r]=i,i.push(n)}xL(e,function(s){return s.join(", ")})}ee.Ia=function(){return this.m};ee.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tT(t){let e="";return Sd(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Bd(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=tT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function co(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nT(t){this.Ga=0,this.j=[],this.l=new Zl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=co("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=co("baseRetryDelayMs",5e3,t),this.hb=co("retryDelaySeedMs",1e4,t),this.eb=co("forwardChannelMaxRetries",2,t),this.xa=co("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Kw(t&&t.concurrentRequestLimit),this.Ja=new ux,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ee=nT.prototype;ee.ra=8;ee.H=1;function jd(t){if(sT(t),t.H==3){var e=t.W++,n=Zn(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),xa(t,n),e=new ka(t,t.l,e),e.L=2,e.v=ru(Zn(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=hT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Da(e)}lT(t)}function au(t){t.g&&(qd(t),t.g.cancel(),t.g=null)}function sT(t){au(t),t.u&&(me.clearTimeout(t.u),t.u=null),rl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function cu(t){if(!Ww(t.i)&&!t.m){t.m=!0;var e=t.Na;ea||Cw(),ta||(ea(),ta=!0),Pd.add(e,t),t.C=0}}function _x(t,e){return zw(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Na(Et(t.Na,t,e),cT(t,t.C)),t.C++,!0)}ee.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ka(this,this.l,t);let i=this.s;if(this.U&&(i?(i=_w(i),vw(i,this.U)):i=this.U),this.o!==null||this.O||(r.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rT(this,r,e),n=Zn(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),xa(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(tT(i)))+"&"+e:this.o&&Bd(n,this.o,i)),Vd(this.i,r),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),r.aa=!0,lf(r,n,null)):lf(r,n,e),this.H=2}}else this.H==3&&(t?dy(this,t):this.j.length==0||Ww(this.i)||dy(this))};function dy(t,e){var n;e?n=e.m:n=t.W++;const s=Zn(t.I);Ve(s,"SID",t.K),Ve(s,"RID",n),Ve(s,"AID",t.V),xa(t,s),t.o&&t.s&&Bd(s,t.o,t.s),n=new ka(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Vd(t.i,n),lf(n,s,e)}function xa(t,e){t.na&&Sd(t.na,function(n,s){Ve(e,s,n)}),t.h&&Uw({},function(n,s){Ve(e,s,n)})}function rT(t,e,n){n=Math.min(t.j.length,n);var s=t.h?Et(t.h.Va,t.h,t):null;e:{var r=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=r[c].g;const h=r[c].map;if(l-=i,0>l)i=Math.max(0,r[c].g-100),a=!1;else try{hx(h,o,"req"+l+"_")}catch{s&&s(h)}}if(a){s=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function iT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ea||Cw(),ta||(ea(),ta=!0),Pd.add(e,t),t.A=0}}function Hd(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Na(Et(t.Ma,t),cT(t,t.A)),t.A++,!0)}ee.Ma=function(){if(this.u=null,oT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Na(Et(this.jb,this),t)}};ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nt(10),au(this),oT(this))};function qd(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function oT(t){t.g=new ka(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zn(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),xa(t,e),t.o&&t.s&&Bd(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ru(Zn(e)),n.s=null,n.S=!0,Mw(n,t)}ee.ib=function(){this.v!=null&&(this.v=null,au(this),Hd(this),Nt(19))};function rl(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function aT(t,e){var n=null;if(t.g==e){rl(t),qd(t),t.g=null;var s=2}else if(hf(t.i,e))n=e.F,Gw(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;s=eu(),ut(s,new Dw(s,n)),cu(t)}else iT(t);else if(r=e.o,r==3||r==0&&0<e.ca||!(s==1&&_x(t,e)||s==2&&Hd(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:or(t,5);break;case 4:or(t,10);break;case 3:or(t,6);break;default:or(t,2)}}}function cT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function or(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=Et(t.pb,t);n||(n=new pr("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||nl(n,"https"),ru(n)),fx(n.toString(),s)}else Nt(2);t.H=0,t.h&&t.h.za(e),lT(t),sT(t)}ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Nt(2)):(this.l.info("Failed to ping google.com"),Nt(1))};function lT(t){if(t.H=0,t.ma=[],t.h){const e=Yw(t.i);(e.length!=0||t.j.length!=0)&&(sy(t.ma,e),sy(t.ma,t.j),t.i.i.length=0,Ad(t.j),t.j.length=0),t.h.ya()}}function uT(t,e,n){var s=n instanceof pr?Zn(n):new pr(n);if(s.g!="")e&&(s.g=e+"."+s.g),sl(s,s.m);else{var r=me.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new pr(null);s&&nl(i,s),e&&(i.g=e),r&&sl(i,r),n&&(i.l=n),s=i}return n=t.F,e=t.Da,n&&e&&Ve(s,n,e),Ve(s,"VER",t.ra),xa(t,s),s}function hT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new We(new Pa({ob:!0})):new We(t.va),e.Oa(t.J),e}ee.isActive=function(){return!!this.h&&this.h.isActive(this)};function fT(){}ee=fT.prototype;ee.Ba=function(){};ee.Aa=function(){};ee.za=function(){};ee.ya=function(){};ee.isActive=function(){return!0};ee.Va=function(){};function il(){if(Ci&&!(10<=Number(kL)))throw Error("Environmental error: no available transport.")}il.prototype.g=function(t,e){return new Wt(t,e)};function Wt(t,e){rt.call(this),this.g=new nT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Jo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new zi(this)}it(Wt,rt);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Nt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=uT(t,null,t.Y),cu(t)};Wt.prototype.close=function(){jd(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Dd(t),t=n);e.j.push(new ax(e.fb++,t)),e.H==3&&cu(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,jd(this.g),delete this.g,Wt.$.N.call(this)};function dT(t){$d.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}it(dT,$d);function pT(){Fd.call(this),this.status=1}it(pT,Fd);function zi(t){this.g=t}it(zi,fT);zi.prototype.Ba=function(){ut(this.g,"a")};zi.prototype.Aa=function(t){ut(this.g,new dT(t))};zi.prototype.za=function(t){ut(this.g,new pT)};zi.prototype.ya=function(){ut(this.g,"b")};function vx(){this.blockSize=-1}function _n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(_n,vx);_n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function fh(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)s[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var i=t.g[3],o=e+(i^n&(r^i))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[2]+606105819&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[6]+2821735955&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[10]+4294925233&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[14]+2792965006&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^i&(n^r))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[11]+643717713&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[15]+3634488961&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[3]+4107603335&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[7]+1735328473&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^i)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[11]+1839030562&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[7]+4139469664&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[3]+3572445317&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[15]+530742520&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~i))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[14]+2878612391&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[10]+4293915773&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[6]+2734768916&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[2]+718787259&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+i&4294967295}_n.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,r=this.h,i=0;i<e;){if(r==0)for(;i<=n;)fh(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(s[r++]=t.charCodeAt(i++),r==this.blockSize){fh(this,s),r=0;break}}else for(;i<e;)if(s[r++]=t[i++],r==this.blockSize){fh(this,s),r=0;break}}this.h=r,this.i+=e};_n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function De(t,e){this.h=e;for(var n=[],s=!0,r=t.length-1;0<=r;r--){var i=t[r]|0;s&&i==e||(n[r]=i,s=!1)}this.g=n}var Ex={};function Kd(t){return-128<=t&&128>t?OL(t,function(e){return new De([e|0],0>e?-1:0)}):new De([t|0],0>t?-1:0)}function On(t){if(isNaN(t)||!isFinite(t))return pi;if(0>t)return lt(On(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=ff;return new De(e,0)}function gT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lt(gT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=On(Math.pow(e,8)),s=pi,r=0;r<t.length;r+=8){var i=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+i),e);8>i?(i=On(Math.pow(e,i)),s=s.R(i).add(On(o))):(s=s.R(n),s=s.add(On(o)))}return s}var ff=4294967296,pi=Kd(0),df=Kd(1),py=Kd(16777216);ee=De.prototype;ee.ea=function(){if(tn(this))return-lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:ff+s)*e,e*=ff}return t};ee.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Wn(this))return"0";if(tn(this))return"-"+lt(this).toString(t);for(var e=On(Math.pow(t,6)),n=this,s="";;){var r=al(n,e).g;n=ol(n,r.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Wn(n))return i+s;for(;6>i.length;)i="0"+i;s=i+s}};ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Wn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function tn(t){return t.h==-1}ee.X=function(t){return t=ol(this,t),tn(t)?-1:Wn(t)?0:1};function lt(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new De(n,~t.h).add(df)}ee.abs=function(){return tn(this)?lt(this):this};ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,r=0;r<=e;r++){var i=s+(this.D(r)&65535)+(t.D(r)&65535),o=(i>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);s=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new De(n,n[n.length-1]&-2147483648?-1:0)};function ol(t,e){return t.add(lt(e))}ee.R=function(t){if(Wn(this)||Wn(t))return pi;if(tn(this))return tn(t)?lt(this).R(lt(t)):lt(lt(this).R(t));if(tn(t))return lt(this.R(lt(t)));if(0>this.X(py)&&0>t.X(py))return On(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var i=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*s+2*r]+=o*c,_c(n,2*s+2*r),n[2*s+2*r+1]+=i*c,_c(n,2*s+2*r+1),n[2*s+2*r+1]+=o*a,_c(n,2*s+2*r+1),n[2*s+2*r+2]+=i*a,_c(n,2*s+2*r+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new De(n,0)};function _c(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function lo(t,e){this.g=t,this.h=e}function al(t,e){if(Wn(e))throw Error("division by zero");if(Wn(t))return new lo(pi,pi);if(tn(t))return e=al(lt(t),e),new lo(lt(e.g),lt(e.h));if(tn(e))return e=al(t,lt(e)),new lo(lt(e.g),e.h);if(30<t.g.length){if(tn(t)||tn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=df,s=e;0>=s.X(t);)n=gy(n),s=gy(s);var r=Jr(n,1),i=Jr(s,1);for(s=Jr(s,2),n=Jr(n,2);!Wn(s);){var o=i.add(s);0>=o.X(t)&&(r=r.add(n),i=o),s=Jr(s,1),n=Jr(n,1)}return e=ol(t,r.R(e)),new lo(r,e)}for(r=pi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),i=On(n),o=i.R(e);tn(o)||0<o.X(t);)n-=s,i=On(n),o=i.R(e);Wn(i)&&(i=df),r=r.add(i),t=ol(t,o)}return new lo(r,t)}ee.gb=function(t){return al(this,t).h};ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new De(n,this.h&t.h)};ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new De(n,this.h|t.h)};ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new De(n,this.h^t.h)};function gy(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new De(n,t.h)}function Jr(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,r=[],i=0;i<s;i++)r[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new De(r,t.h)}il.prototype.createWebChannel=il.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;tu.NO_ERROR=0;tu.TIMEOUT=8;tu.HTTP_ERROR=6;Pw.COMPLETE="complete";Lw.EventType=Ra;Ra.OPEN="a";Ra.CLOSE="b";Ra.ERROR="c";Ra.MESSAGE="d";rt.prototype.listen=rt.prototype.O;We.prototype.listenOnce=We.prototype.P;We.prototype.getLastError=We.prototype.Sa;We.prototype.getLastErrorCode=We.prototype.Ia;We.prototype.getStatus=We.prototype.da;We.prototype.getResponseJson=We.prototype.Wa;We.prototype.getResponseText=We.prototype.ja;We.prototype.send=We.prototype.ha;We.prototype.setWithCredentials=We.prototype.Oa;_n.prototype.digest=_n.prototype.l;_n.prototype.reset=_n.prototype.reset;_n.prototype.update=_n.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=On;De.fromString=gT;var wx=function(){return new il},Tx=function(){return eu()},dh=tu,bx=Pw,Ix=Mr,my={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ax=Pa,vc=Lw,Cx=We,Sx=_n,gi=De;const yy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gi="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Hl("@firebase/firestore");function _y(){return br.logLevel}function ce(t,...e){if(br.logLevel<=Oe.DEBUG){const n=e.map(Wd);br.debug(`Firestore (${Gi}): ${t}`,...n)}}function es(t,...e){if(br.logLevel<=Oe.ERROR){const n=e.map(Wd);br.error(`Firestore (${Gi}): ${t}`,...n)}}function Si(t,...e){if(br.logLevel<=Oe.WARN){const n=e.map(Wd);br.warn(`Firestore (${Gi}): ${t}`,...n)}}function Wd(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Gi}) INTERNAL ASSERTION FAILED: `+t;throw es(e),new Error(e)}function Be(t,e){t||ge()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ox{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class Nx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Rx{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ns,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ns)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string"),new mT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new gt(e)}}class kx{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Dx{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new kx(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Px{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lx{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=i=>{i.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?r(i):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.T=n.token,new Px(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=xx(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function Re(t,e){return t<e?-1:t>e?1:0}function Oi(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new et(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new et(0,0))}static max(){return new ye(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(),s===void 0?s=e.length-n:s>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends oa{construct(e,n,s){return new Ue(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const Mx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends oa{construct(e,n,s){return new _t(e,n,s)}static isValidIdentifier(e){return Mx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ue.fromString(e))}static fromName(e){return new ue(Ue.fromString(e).popFirst(5))}static empty(){return new ue(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ue(e.slice()))}}function $x(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ye.fromTimestamp(s===1e9?new et(n+1,0):new et(n,s));return new $s(r,ue.empty(),e)}function Fx(t){return new $s(t.readTime,t.key,-1)}class $s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $s(ye.min(),ue.empty(),-1)}static max(){return new $s(ye.max(),ue.empty(),-1)}}function Vx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Ux)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,s)=>{n(e)})}static reject(e){return new K((n,s)=>{s(e)})}static waitFor(e){return new K((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=K.resolve(!1);for(const s of e)n=n.next(r=>r?K.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new K((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(h=>{o[l]=h,++a,a===i&&s(o)},h=>r(h))}})}static doWhile(e,n){return new K((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function $a(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}zd.ct=-1;function lu(t){return t==null}function cl(t){return t===0&&1/t==-1/0}function jx(t){return typeof t=="number"&&Number.isInteger(t)&&!cl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _T(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??ct.RED,this.left=r??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new ct(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ct.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(t,e,n,s,r){return this}insert(t,e,n){return new ct(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ey(this.data.getIterator())}getIteratorFrom(e){return new Ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class Ey{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Tt(_t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oi(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new vT("Invalid base64 string: "+r):r}}(e);return new It(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const Hx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(Be(!!t),typeof t=="string"){let e=0;const n=Hx.exec(t);if(Be(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ir(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yd(t){const e=t.mapValue.fields.__previous_value__;return Gd(e)?Yd(e):e}function aa(t){const e=Fs(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,s,r,i,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class ca{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gd(t)?4:Kx(t)?9007199254740991:10:ge()}function xn(t,e){if(t===e)return!0;const n=Ar(t);if(n!==Ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return aa(t).isEqual(aa(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=Fs(s.timestampValue),o=Fs(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Ir(s.bytesValue).isEqual(Ir(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Ye(s.geoPointValue.latitude)===Ye(r.geoPointValue.latitude)&&Ye(s.geoPointValue.longitude)===Ye(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Ye(s.integerValue)===Ye(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Ye(s.doubleValue),o=Ye(r.doubleValue);return i===o?cl(i)===cl(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Oi(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(vy(i)!==vy(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!xn(i[a],o[a])))return!1;return!0}(t,e);default:return ge()}}function la(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function Ni(t,e){if(t===e)return 0;const n=Ar(t),s=Ar(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Ye(r.integerValue||r.doubleValue),a=Ye(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return wy(t.timestampValue,e.timestampValue);case 4:return wy(aa(t),aa(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Ir(r),a=Ir(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=Re(o[c],a[c]);if(l!==0)return l}return Re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=Re(Ye(r.latitude),Ye(i.latitude));return o!==0?o:Re(Ye(r.longitude),Ye(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=Ni(o[c],a[c]);if(l)return l}return Re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===wc.mapValue&&i===wc.mapValue)return 0;if(r===wc.mapValue)return 1;if(i===wc.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let h=0;h<a.length&&h<l.length;++h){const f=Re(a[h],l[h]);if(f!==0)return f;const p=Ni(o[a[h]],c[l[h]]);if(p!==0)return p}return Re(a.length,l.length)}(t.mapValue,e.mapValue);default:throw ge()}}function wy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Fs(t),s=Fs(e),r=Re(n.seconds,s.seconds);return r!==0?r:Re(n.nanos,s.nanos)}function Ri(t){return pf(t)}function pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Fs(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ir(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=pf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${pf(s.fields[a])}`;return i+"}"}(t.mapValue):ge();var e,n}function Ty(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gf(t){return!!t&&"integerValue"in t}function Qd(t){return!!t&&"arrayValue"in t}function by(t){return!!t&&"nullValue"in t}function Iy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dc(t){return!!t&&"mapValue"in t}function Do(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Do(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Do(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Kx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Do(n)}setAll(e){let n=_t.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Do(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Dc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Yi(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new nn(Do(this.value))}}function ET(t){const e=[];return Yi(t.fields,(n,s)=>{const r=new _t([n]);if(Dc(s)){const i=ET(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new mt(e,0,ye.min(),ye.min(),ye.min(),nn.empty(),0)}static newFoundDocument(e,n,s,r){return new mt(e,1,n,ye.min(),s,r,0)}static newNoDocument(e,n){return new mt(e,2,n,ye.min(),ye.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,ye.min(),ye.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.position=e,this.inclusive=n}}function Ay(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=ue.comparator(ue.fromName(o.referenceValue),n.key):s=Ni(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Cy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{}class Je extends wT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Gx(e,n,s):n==="array-contains"?new Xx(e,s):n==="in"?new Jx(e,s):n==="not-in"?new Zx(e,s):n==="array-contains-any"?new eM(e,s):new Je(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Yx(e,s):new Qx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ni(n,this.value)):n!==null&&Ar(this.value)===Ar(n)&&this.matchesComparison(Ni(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends wT{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new vn(e,n)}matches(e){return TT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function TT(t){return t.op==="and"}function bT(t){return zx(t)&&TT(t)}function zx(t){for(const e of t.filters)if(e instanceof vn)return!1;return!0}function mf(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Ri(t.value);if(bT(t))return t.filters.map(e=>mf(e)).join(",");{const e=t.filters.map(n=>mf(n)).join(",");return`${t.op}(${e})`}}function IT(t,e){return t instanceof Je?function(n,s){return s instanceof Je&&n.op===s.op&&n.field.isEqual(s.field)&&xn(n.value,s.value)}(t,e):t instanceof vn?function(n,s){return s instanceof vn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&IT(i,s.filters[o]),!0):!1}(t,e):void ge()}function AT(t){return t instanceof Je?function(e){return`${e.field.canonicalString()} ${e.op} ${Ri(e.value)}`}(t):t instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(AT).join(" ,")+"}"}(t):"Filter"}class Gx extends Je{constructor(e,n,s){super(e,n,s),this.key=ue.fromName(s.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yx extends Je{constructor(e,n){super(e,"in",n),this.keys=CT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Qx extends Je{constructor(e,n){super(e,"not-in",n),this.keys=CT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ue.fromName(s.referenceValue))}class Xx extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qd(n)&&la(n.arrayValue,this.value)}}class Jx extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&la(this.value.arrayValue,n)}}class Zx extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!la(this.value.arrayValue,n)}}class eM extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>la(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Sy(t,e=null,n=[],s=[],r=null,i=null,o=null){return new tM(t,e,n,s,r,i,o)}function Xd(t){const e=_e(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>mf(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ri(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ri(s)).join(",")),e.dt=n}return e.dt}function Jd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cy(t.startAt,e.startAt)&&Cy(t.endAt,e.endAt)}function yf(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}}function nM(t,e,n,s,r,i,o,a){return new Qi(t,e,n,s,r,i,o,a)}function ST(t){return new Qi(t)}function Oy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zd(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function uu(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function OT(t){return t.collectionGroup!==null}function yi(t){const e=_e(t);if(e.wt===null){e.wt=[];const n=uu(e),s=Zd(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new mi(n)),e.wt.push(new mi(_t.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new mi(_t.keyField(),i))}}}return e.wt}function ts(t){const e=_e(t);if(!e._t)if(e.limitType==="F")e._t=Sy(e.path,e.collectionGroup,yi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of yi(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new mi(i.field,o))}const s=e.endAt?new ll(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ll(e.startAt.position,e.startAt.inclusive):null;e._t=Sy(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function _f(t,e){e.getFirstInequalityField(),uu(t);const n=t.filters.concat([e]);return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vf(t,e,n){return new Qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hu(t,e){return Jd(ts(t),ts(e))&&t.limitType===e.limitType}function NT(t){return`${Xd(ts(t))}|lt:${t.limitType}`}function Ef(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>AT(s)).join(", ")}]`),lu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ri(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ri(s)).join(",")),`Target(${n})`}(ts(t))}; limitType=${t.limitType})`}function fu(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):ue.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of yi(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Ay(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,yi(n),s)||n.endAt&&!function(r,i,o){const a=Ay(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,yi(n),s))}(t,e)}function sM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RT(t){return(e,n)=>{let s=!1;for(const r of yi(t)){const i=rM(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function rM(t,e,n){const s=t.field.isKeyField()?ue.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?Ni(a,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new Ke(ue.comparator);function ns(){return iM}const kT=new Ke(ue.comparator);function _o(...t){let e=kT;for(const n of t)e=e.insert(n.key,n);return e}function DT(t){let e=kT;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ar(){return Po()}function PT(){return Po()}function Po(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const oM=new Ke(ue.comparator),aM=new Tt(ue.comparator);function be(...t){let e=aM;for(const n of t)e=e.add(n);return e}const cM=new Tt(Re);function lM(){return cM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cl(e)?"-0":e}}function xT(t){return{integerValue:""+t}}function uM(t,e){return jx(e)?xT(e):LT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this._=void 0}}function hM(t,e,n){return t instanceof ul?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Gd(r)&&(r=Yd(r)),r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof ua?$T(t,e):t instanceof ha?FT(t,e):function(s,r){const i=MT(s,r),o=Ny(i)+Ny(s.gt);return gf(i)&&gf(s.gt)?xT(o):LT(s.serializer,o)}(t,e)}function fM(t,e,n){return t instanceof ua?$T(t,e):t instanceof ha?FT(t,e):n}function MT(t,e){return t instanceof hl?gf(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class ul extends du{}class ua extends du{constructor(e){super(),this.elements=e}}function $T(t,e){const n=VT(e);for(const s of t.elements)n.some(r=>xn(r,s))||n.push(s);return{arrayValue:{values:n}}}class ha extends du{constructor(e){super(),this.elements=e}}function FT(t,e){let n=VT(e);for(const s of t.elements)n=n.filter(r=>!xn(r,s));return{arrayValue:{values:n}}}class hl extends du{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Ny(t){return Ye(t.integerValue||t.doubleValue)}function VT(t){return Qd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dM(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof ua&&s instanceof ua||n instanceof ha&&s instanceof ha?Oi(n.elements,s.elements,xn):n instanceof hl&&s instanceof hl?xn(n.gt,s.gt):n instanceof ul&&s instanceof ul}(t.transform,e.transform)}class pM{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pu{}function UT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jT(t.key,Qn.none()):new Fa(t.key,t.data,Qn.none());{const n=t.data,s=nn.empty();let r=new Tt(_t.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new $r(t.key,s,new hn(r.toArray()),Qn.none())}}function gM(t,e,n){t instanceof Fa?function(s,r,i){const o=s.value.clone(),a=ky(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof $r?function(s,r,i){if(!Pc(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=ky(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(BT(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Lo(t,e,n,s){return t instanceof Fa?function(r,i,o,a){if(!Pc(r.precondition,i))return o;const c=r.value.clone(),l=Dy(r.fieldTransforms,a,i);return c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof $r?function(r,i,o,a){if(!Pc(r.precondition,i))return o;const c=Dy(r.fieldTransforms,a,i),l=i.data;return l.setAll(BT(r)),l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(r,i,o){return Pc(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function mM(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=MT(s.transform,r||null);i!=null&&(n===null&&(n=nn.empty()),n.set(s.field,i))}return n||null}function Ry(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Oi(n,s,(r,i)=>dM(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fa extends pu{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $r extends pu{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function BT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function ky(t,e,n){const s=new Map;Be(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,fM(o,a,n[r]))}return s}function Dy(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,hM(i,o,e))}return s}class jT extends pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yM extends pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&gM(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Lo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Lo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=PT();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=UT(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ye.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Oi(this.mutations,e.mutations,(n,s)=>Ry(n,s))&&Oi(this.baseMutations,e.baseMutations,(n,s)=>Ry(n,s))}}class ep{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Be(e.mutations.length===s.length);let r=oM;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new ep(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,Ae;function wM(t){switch(t){default:return ge();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function HT(t){if(t===void 0)return es("GRPC error has no .code"),B.UNKNOWN;switch(t){case Ge.OK:return B.OK;case Ge.CANCELLED:return B.CANCELLED;case Ge.UNKNOWN:return B.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return B.INTERNAL;case Ge.UNAVAILABLE:return B.UNAVAILABLE;case Ge.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Ge.NOT_FOUND:return B.NOT_FOUND;case Ge.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Ge.ABORTED:return B.ABORTED;case Ge.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Ge.DATA_LOSS:return B.DATA_LOSS;default:return ge()}}(Ae=Ge||(Ge={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Tc}static getOrCreateInstance(){return Tc===null&&(Tc=new tp),Tc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Tc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new gi([4294967295,4294967295],0);function Py(t){const e=TM().encode(t),n=new Sx;return n.update(e),new Uint8Array(n.digest())}function Ly(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new gi([n,s],0),new gi([r,i],0)]}class np{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(s<0)throw new vo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=gi.fromNumber(this.It)}Et(e,n,s){let r=e.add(n.multiply(gi.fromNumber(s)));return r.compare(bM)===1&&(r=new gi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Py(e),[s,r]=Ly(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);if(!this.At(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new np(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Py(e),[s,r]=Ly(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gu(ye.min(),r,new Ke(Re),ns(),be())}}class Va{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Va(s,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,s,r){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=r}}class qT{constructor(e,n){this.targetId=e,this.Vt=n}}class KT{constructor(e,n,s=It.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class xy{constructor(){this.St=0,this.Dt=$y(),this.Ct=It.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),s=be();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ge()}}),new Va(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=$y()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class IM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ns(),this.zt=My(),this.Wt=new Ke(Re)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,r)=>{this.te(r)&&n(r)})}ne(e){var n;const s=e.targetId,r=e.Vt.count,i=this.se(s);if(i){const o=i.target;if(yf(o))if(r===0){const a=new ue(o.path);this.Yt(s,a,mt.newNoDocument(a,ye.min()))}else Be(r===1);else{const a=this.ie(s);if(a!==r){const c=this.re(e,a);if(c!==0){this.ee(s);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,l)}(n=tp.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(l,h,f){var p,g,w,I,S,b;const _={localCacheCount:h,existenceFilterCount:f.count},k=f.unchangedNames;return k&&(_.bloomFilter={applied:l===0,hashCount:(p=k==null?void 0:k.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(I=(w=(g=k==null?void 0:k.bits)===null||g===void 0?void 0:g.bitmap)===null||w===void 0?void 0:w.length)!==null&&I!==void 0?I:0,padding:(b=(S=k==null?void 0:k.bits)===null||S===void 0?void 0:S.padding)!==null&&b!==void 0?b:0}),_}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:r}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=s;let c,l;try{c=Ir(i).toUint8Array()}catch(h){if(h instanceof vT)return Si("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw h}try{l=new np(c,o,a)}catch(h){return Si(h instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",h),1}return l.It===0?1:r!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let r=0;return s.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&yf(a.target)){const c=new ue(a.target.path);this.jt.get(c)!==null||this.ae(o,c)||this.Yt(o,c,mt.newNoDocument(c,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let s=be();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.se(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const r=new gu(e,n,this.Wt,this.jt,s);return this.jt=ns(),this.zt=My(),this.Wt=new Ke(Re),r}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new xy,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Tt(Re),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new xy),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function My(){return new Ke(ue.comparator)}function $y(){return new Ke(ue.comparator)}const AM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),CM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),SM=(()=>({and:"AND",or:"OR"}))();class OM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wf(t,e){return t.useProto3Json||lu(e)?e:{value:e}}function fl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NM(t,e){return fl(t,e.toTimestamp())}function kn(t){return Be(!!t),ye.fromTimestamp(function(e){const n=Fs(e);return new et(n.seconds,n.nanos)}(t))}function sp(t,e){return function(n){return new Ue(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function zT(t){const e=Ue.fromString(t);return Be(XT(e)),e}function Tf(t,e){return sp(t.databaseId,e.path)}function ph(t,e){const n=zT(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(GT(n))}function bf(t,e){return sp(t.databaseId,e)}function RM(t){const e=zT(t);return e.length===4?Ue.emptyPath():GT(e)}function If(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GT(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fy(t,e,n){return{name:Tf(t,e),fields:n.value.mapValue.fields}}function kM(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,l){return c.useProto3Json?(Be(l===void 0||typeof l=="string"),It.fromBase64String(l||"")):(Be(l===void 0||l instanceof Uint8Array),It.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=c.code===void 0?B.UNKNOWN:HT(c.code);return new ne(l,c.message||"")}(o);n=new KT(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=ph(t,s.document.name),i=kn(s.document.updateTime),o=s.document.createTime?kn(s.document.createTime):ye.min(),a=new nn({mapValue:{fields:s.document.fields}}),c=mt.newFoundDocument(r,i,o,a),l=s.targetIds||[],h=s.removedTargetIds||[];n=new Lc(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=ph(t,s.document),i=s.readTime?kn(s.readTime):ye.min(),o=mt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Lc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=ph(t,s.document),i=s.removedTargetIds||[];n=new Lc([],i,r,null)}else{if(!("filter"in e))return ge();{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new EM(r,i),a=s.targetId;n=new qT(a,o)}}return n}function DM(t,e){let n;if(e instanceof Fa)n={update:Fy(t,e.key,e.value)};else if(e instanceof jT)n={delete:Tf(t,e.key)};else if(e instanceof $r)n={update:Fy(t,e.key,e.data),updateMask:BM(e.fieldMask)};else{if(!(e instanceof yM))return ge();n={verify:Tf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof ul)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ua)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ha)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof hl)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw ge()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:NM(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ge()}(t,e.precondition)),n}function PM(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?kn(s.updateTime):kn(r);return i.isEqual(ye.min())&&(i=kn(r)),new pM(i,s.transformResults||[])}(n,e))):[]}function LM(t,e){return{documents:[bf(t,e.path)]}}function xM(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=bf(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bf(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(c){if(c.length!==0)return QT(vn.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:ti(h.field),direction:FM(h.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=wf(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function MM(t){let e=RM(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Be(s===1);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(h){const f=YT(h);return f instanceof vn&&bT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(f){return new mi(ni(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(h)));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,lu(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new ll(p,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,p=h.values||[];return new ll(p,f)}(n.endAt)),nM(e,r,o,i,a,"F",c,l)}function $M(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YT(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ni(e.unaryFilter.field);return Je.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=ni(e.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ni(e.unaryFilter.field);return Je.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ni(e.unaryFilter.field);return Je.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(e){return Je.create(ni(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return vn.create(e.compositeFilter.filters.map(n=>YT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ge()}}(e.compositeFilter.op))}(t):ge()}function FM(t){return AM[t]}function VM(t){return CM[t]}function UM(t){return SM[t]}function ti(t){return{fieldPath:t.canonicalString()}}function ni(t){return _t.fromServerFormat(t.fieldPath)}function QT(t){return t instanceof Je?function(e){if(e.op==="=="){if(Iy(e.value))return{unaryFilter:{field:ti(e.field),op:"IS_NAN"}};if(by(e.value))return{unaryFilter:{field:ti(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Iy(e.value))return{unaryFilter:{field:ti(e.field),op:"IS_NOT_NAN"}};if(by(e.value))return{unaryFilter:{field:ti(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ti(e.field),op:VM(e.op),value:e.value}}}(t):t instanceof vn?function(e){const n=e.getFilters().map(s=>QT(s));return n.length===1?n[0]:{compositeFilter:{op:UM(e.op),filters:n}}}(t):ge()}function BM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,s,r,i=ye.min(),o=ye.min(),a=It.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.fe=e}}function HM(t){const e=MM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.rn=new KM}addToCollectionParentIndex(e,n){return this.rn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve($s.min())}updateCollectionGroup(e,n,s){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class KM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Tt(Ue.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Tt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ki(0)}static Mn(){return new ki(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Lo(s.mutation,r,hn.empty(),et.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,be()).next(()=>s))}getLocalViewOfDocuments(e,n,s=be()){const r=ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=_o();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=ar();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,be()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=ns();const o=Po(),a=Po();return n.forEach((c,l)=>{const h=s.get(l.key);r.has(l.key)&&(h===void 0||h.mutation instanceof $r)?i=i.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Lo(h.mutation,l,h.mutation.getFieldMask(),et.now())):o.set(l.key,hn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var f;return a.set(l,new zM(h,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Po();let r=new Ke((o,a)=>o-a),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let h=s.get(c)||hn.empty();h=a.applyToLocalView(l,h),s.set(c,h);const f=(r.get(a.batchId)||be()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,f=PT();h.forEach(p=>{if(!i.has(p)){const g=UT(n.get(p),s.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return K.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):K.resolve(ar());let a=-1,c=i;return o.next(l=>K.forEach(l,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,be())).next(h=>({batchId:a,changes:DT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(s=>{let r=_o();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=_o();return this.indexManager.getCollectionParents(e,r).next(o=>K.forEach(o,a=>{const c=function(l,h){return new Qi(h,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,s).next(l=>{l.forEach((h,f)=>{i=i.insert(h,f)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,c)=>{const l=c.getKey();i.get(l)===null&&(i=i.insert(l,mt.newInvalidDocument(l)))});let o=_o();return i.forEach((a,c)=>{const l=r.get(a);l!==void 0&&Lo(l.mutation,c,hn.empty(),et.now()),fu(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return K.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:kn(s.createTime)}),K.resolve()}getNamedQuery(e,n){return K.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:HM(s.bundledQuery),readTime:kn(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.overlays=new Ke(ue.comparator),this.ls=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ar();return K.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.we(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ls.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(s)),K.resolve()}getOverlaysForCollection(e,n,s){const r=ar(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return K.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ke((l,h)=>l-h);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>s){let h=i.get(l.largestBatchId);h===null&&(h=ar(),i=i.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=ar(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=r)););return K.resolve(a)}we(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(s.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new vM(n,s));let i=this.ls.get(n);i===void 0&&(i=be(),this.ls.set(n,i)),this.ls.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this.fs=new Tt(nt.ds),this.ws=new Tt(nt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new nt(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new nt(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new ue(new Ue([])),s=new nt(n,e),r=new nt(n,e+1),i=[];return this.ws.forEachInRange([s,r],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ue(new Ue([])),s=new nt(n,e),r=new nt(n,e+1);let i=be();return this.ws.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nt(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ue.comparator(e.key,n.key)||Re(e.As,n.As)}static _s(e,n){return Re(e.As,n.As)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Tt(nt.ds)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _M(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new nt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.bs(s),i=r<0?0:r;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nt(n,0),r=new nt(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([s,r],o=>{const a=this.Ps(o.As);i.push(a)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Tt(Re);return n.forEach(r=>{const i=new nt(r,0),o=new nt(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{s=s.add(a.As)})}),K.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ue.isDocumentKey(i)||(i=i.child(""));const o=new nt(new ue(i),0);let a=new Tt(Re);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!s.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},o),K.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const r=this.Ps(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Be(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return K.forEach(n.mutations,r=>{const i=new nt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new nt(n,0),r=this.Rs.firstAfterOrEqual(s);return K.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.Ds=e,this.docs=new Ke(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let s=ns();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():mt.newInvalidDocument(r))}),K.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=ns();const o=n.path,a=new ue(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Vx(Fx(h),s)<=0||(r.has(h.key)||fu(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,s,r){ge()}Cs(e,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ZM(this)}getSize(e){return K.resolve(this.size)}}class ZM extends WM{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(s)}),K.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.persistence=e,this.xs=new Xi(n=>Xd(n),Jd),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Ns=0,this.ks=new rp,this.targetCount=0,this.Ms=ki.kn()}forEachTarget(e,n){return this.xs.forEach((s,r)=>n(r)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),K.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ki(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Fn(n),K.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),K.waitFor(i).next(()=>r)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return K.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),K.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),K.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return K.resolve(s)}containsKey(e,n){return K.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n){this.$s={},this.overlays={},this.Os=new zd(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new e$(this),this.indexManager=new qM,this.remoteDocumentCache=function(s){return new JM(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new jM(n),this.qs=new YM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new XM(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const r=new n$(this.Os.next());return this.referenceDelegate.Us(),s(r).next(i=>this.referenceDelegate.Ks(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Gs(e,n){return K.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class n$ extends Bx{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.Qs=new rp,this.js=null}static zs(e){return new ip(e)}get Ws(){if(this.js)return this.js;throw ge()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),K.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),K.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ws.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Ws,s=>{const r=ue.fromPath(s);return this.Hs(e,r).next(i=>{i||n.removeEntry(r,ye.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return K.or([()=>K.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=r}static Li(e,n){let s=be(),r=be();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new op(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ki(e,n).next(i=>i||this.Gi(e,n,r,s)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(Oy(n))return K.resolve(null);let s=ts(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=vf(n,null,"F"),s=ts(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=be(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const l=this.ji(n,a);return this.zi(n,l,o,c.readTime)?this.Ki(e,vf(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,s,r){return Oy(n)||r.isEqual(ye.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(i=>{const o=this.ji(n,i);return this.zi(n,o,s,r)?this.Qi(e,n):(_y()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ef(n)),this.Wi(e,o,n,$x(r,-1)))})}ji(e,n){let s=new Tt(RT(e));return n.forEach((r,i)=>{fu(e,i)&&(s=s.add(i))}),s}zi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,n){return _y()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ef(n)),this.Ui.getDocumentsMatchingQuery(e,n,$s.min())}Wi(e,n,s,r){return this.Ui.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,n,s,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new Ke(Re),this.Yi=new Xi(i=>Xd(i),Jd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GM(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function i$(t,e,n,s){return new r$(t,e,n,s)}async function JT(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=be();for(const l of r){o.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of i){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}function o$(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const h=c.batch,f=h.keys();let p=K.resolve();return f.forEach(g=>{p=p.next(()=>l.getEntry(a,g)).next(w=>{const I=c.docVersions.get(g);Be(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),l.addEntry(w)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,h))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=be();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function ZT(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function a$(t,e){const n=_e(t),s=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((h,f)=>{const p=r.get(f);if(!p)return;a.push(n.Bs.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(It.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,s)),r=r.insert(f,g),function(w,I,S){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,g,h)&&a.push(n.Bs.updateTargetData(i,g))});let c=ns(),l=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(c$(i,o,e.documentUpdates).next(h=>{c=h.nr,l=h.sr})),!s.isEqual(ye.min())){const h=n.Bs.getLastRemoteSnapshotVersion(i).next(f=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(h)}return K.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.Ji=r,i))}function c$(t,e,n){let s=be(),r=be();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=ns();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:o,sr:r}})}function l$(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function u$(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Bs.getTargetData(s,e).next(i=>i?(r=i,K.resolve(r)):n.Bs.allocateTargetId(s).next(o=>(r=new bs(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ji.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function Af(t,e,n){const s=_e(t),r=s.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!$a(o))throw o;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(r.target)}function Vy(t,e,n){const s=_e(t);let r=ye.min(),i=be();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const h=_e(a),f=h.Yi.get(l);return f!==void 0?K.resolve(h.Ji.get(f)):h.Bs.getTargetData(c,l)}(s,o,ts(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?r:ye.min(),n?i:be())).next(a=>(h$(s,sM(e),a),{documents:a,ir:i})))}function h$(t,e,n){let s=t.Xi.get(e)||ye.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Xi.set(e,s)}class Uy{constructor(){this.activeTargetIds=lM()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f${constructor(){this.Hr=new Uy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Uy,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function gh(){return bc===null?bc=268435456+Math.round(2147483648*Math.random()):bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class m$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,r,i){const o=gh(),a=this.To(e,n);ce("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const c={};return this.Eo(c,r,i),this.Ao(e,a,c,s).then(l=>(ce("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Si("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",s),l})}vo(e,n,s,r,i,o){return this.Io(e,n,s,r,i)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}To(e,n){const s=p$[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,r){const i=gh();return new Promise((o,a)=>{const c=new Cx;c.setWithCredentials(!0),c.listenOnce(bx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dh.NO_ERROR:const h=c.getResponseJson();ce(pt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case dh.TIMEOUT:ce(pt,`RPC '${e}' ${i} timed out`),a(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const f=c.getStatus();if(ce(pt,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(I){const S=I.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(S)>=0?S:B.UNKNOWN}(g.status);a(new ne(w,g.message))}else a(new ne(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ne(B.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ce(pt,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);ce(pt,`RPC '${e}' ${i} sending request:`,r),c.send(n,"POST",l,s,15)})}Ro(e,n,s){const r=gh(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wx(),a=Tx(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Ax({})),this.Eo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=i.join("");ce(pt,`Creating RPC '${e}' stream ${r}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,g=!1;const w=new g$({ro:S=>{g?ce(pt,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(p||(ce(pt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),ce(pt,`RPC '${e}' stream ${r} sending:`,S),f.send(S))},oo:()=>f.close()}),I=(S,b,_)=>{S.listen(b,k=>{try{_(k)}catch(T){setTimeout(()=>{throw T},0)}})};return I(f,vc.EventType.OPEN,()=>{g||ce(pt,`RPC '${e}' stream ${r} transport opened.`)}),I(f,vc.EventType.CLOSE,()=>{g||(g=!0,ce(pt,`RPC '${e}' stream ${r} transport closed`),w.wo())}),I(f,vc.EventType.ERROR,S=>{g||(g=!0,Si(pt,`RPC '${e}' stream ${r} transport errored:`,S),w.wo(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),I(f,vc.EventType.MESSAGE,S=>{var b;if(!g){const _=S.data[0];Be(!!_);const k=_,T=k.error||((b=k[0])===null||b===void 0?void 0:b.error);if(T){ce(pt,`RPC '${e}' stream ${r} received error:`,T);const R=T.status;let V=function(O){const A=Ge[O];if(A!==void 0)return HT(A)}(R),U=T.message;V===void 0&&(V=B.INTERNAL,U="Unknown error status: "+R+" with message "+T.message),g=!0,w.wo(new ne(V,U)),f.close()}else ce(pt,`RPC '${e}' stream ${r} received:`,_),w._o(_)}}),I(a,Ix.STAT_EVENT,S=>{S.stat===my.PROXY?ce(pt,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===my.NOPROXY&&ce(pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){return new OM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,s=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-s);r>0&&ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n,s,r,i,o,a,c){this.ii=e,this.$o=s,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new eb(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Fo===n&&this.Zo(s,r)},s=>{e(()=>{const r=new ne(B.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(r)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{s(()=>this.tu(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y$ extends tb{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=kM(this.serializer,e),s=function(r){if(!("targetChange"in r))return ye.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?ye.min():i.readTime?kn(i.readTime):ye.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=If(this.serializer),n.addTarget=function(r,i){let o;const a=i.target;if(o=yf(a)?{documents:LM(r,a)}:{query:xM(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=WT(r,i.resumeToken);const c=wf(r,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo(ye.min())>0){o.readTime=fl(r,i.snapshotVersion.toTimestamp());const c=wf(r,i.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const s=$M(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=If(this.serializer),n.removeTarget=e,this.Wo(n)}}class _$ extends tb{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=PM(e.writeResults,e.commitTime),s=kn(e.commitTime);return this.listener.cu(s,n)}return Be(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=If(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>DM(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v$ extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ne(B.UNKNOWN,r.toString())})}vo(e,n,s,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(B.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class E${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(es(n),this.mu=!1):ce("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{Fr(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=_e(a);c.vu.add(4),await Ua(c),c.bu.set("Unknown"),c.vu.delete(4),await yu(c)}(this))})}),this.bu=new E$(s,r)}}async function yu(t){if(Fr(t))for(const e of t.Ru)await e(!0)}async function Ua(t){for(const e of t.Ru)await e(!1)}function nb(t,e){const n=_e(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),lp(n)?cp(n):Ji(n).Ko()&&ap(n,e))}function sb(t,e){const n=_e(t),s=Ji(n);n.Au.delete(e),s.Ko()&&rb(n,e),n.Au.size===0&&(s.Ko()?s.jo():Fr(n)&&n.bu.set("Unknown"))}function ap(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ji(t).su(e)}function rb(t,e){t.Vu.qt(e),Ji(t).iu(e)}function cp(t){t.Vu=new IM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ji(t).start(),t.bu.gu()}function lp(t){return Fr(t)&&!Ji(t).Uo()&&t.Au.size>0}function Fr(t){return _e(t).vu.size===0}function ib(t){t.Vu=void 0}async function T$(t){t.Au.forEach((e,n)=>{ap(t,e)})}async function b$(t,e){ib(t),lp(t)?(t.bu.Iu(e),cp(t)):t.bu.set("Unknown")}async function I$(t,e,n){if(t.bu.set("Online"),e instanceof KT&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dl(t,s)}else if(e instanceof Lc?t.Vu.Ht(e):e instanceof qT?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ye.min()))try{const s=await ZT(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Vu.ce(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.Au.get(c);l&&r.Au.set(c,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,c)=>{const l=r.Au.get(a);if(!l)return;r.Au.set(a,l.withResumeToken(It.EMPTY_BYTE_STRING,l.snapshotVersion)),rb(r,a);const h=new bs(l.target,a,c,l.sequenceNumber);ap(r,h)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){ce("RemoteStore","Failed to raise snapshot:",s),await dl(t,s)}}async function dl(t,e,n){if(!$a(e))throw e;t.vu.add(1),await Ua(t),t.bu.set("Offline"),n||(n=()=>ZT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await yu(t)})}function ob(t,e){return e().catch(n=>dl(t,n,e))}async function _u(t){const e=_e(t),n=Vs(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;A$(e);)try{const r=await l$(e.localStore,s);if(r===null){e.Eu.length===0&&n.jo();break}s=r.batchId,C$(e,r)}catch(r){await dl(e,r)}ab(e)&&cb(e)}function A$(t){return Fr(t)&&t.Eu.length<10}function C$(t,e){t.Eu.push(e);const n=Vs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function ab(t){return Fr(t)&&!Vs(t).Uo()&&t.Eu.length>0}function cb(t){Vs(t).start()}async function S$(t){Vs(t).hu()}async function O$(t){const e=Vs(t);for(const n of t.Eu)e.uu(n.mutations)}async function N$(t,e,n){const s=t.Eu.shift(),r=ep.from(s,e,n);await ob(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await _u(t)}async function R$(t,e){e&&Vs(t).ou&&await async function(n,s){if(r=s.code,wM(r)&&r!==B.ABORTED){const i=n.Eu.shift();Vs(n).Qo(),await ob(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await _u(n)}var r}(t,e),ab(t)&&cb(t)}async function jy(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const s=Fr(n);n.vu.add(3),await Ua(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await yu(n)}async function k$(t,e){const n=_e(t);e?(n.vu.delete(2),await yu(n)):e||(n.vu.add(2),await Ua(n),n.bu.set("Unknown"))}function Ji(t){return t.Su||(t.Su=function(e,n,s){const r=_e(e);return r.fu(),new y$(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:T$.bind(null,t),ao:b$.bind(null,t),nu:I$.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),lp(t)?cp(t):t.bu.set("Unknown")):(await t.Su.stop(),ib(t))})),t.Su}function Vs(t){return t.Du||(t.Du=function(e,n,s){const r=_e(e);return r.fu(),new _$(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:S$.bind(null,t),ao:R$.bind(null,t),au:O$.bind(null,t),cu:N$.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await _u(t)):(await t.Du.stop(),t.Eu.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new up(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(t,e){if(es("AsyncQueue",`${e}: ${t}`),$a(t))return new ne(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.comparator=e?(n,s)=>e(n,s)||ue.comparator(n.key,s.key):(n,s)=>ue.comparator(n.key,s.key),this.keyedMap=_o(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new _i(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new _i;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Cu=new Ke(ue.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ge():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Di{constructor(e,n,s,r,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Di(e,n,_i.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this.Nu=void 0,this.listeners=[]}}class P${constructor(){this.queries=new Xi(e=>NT(e),hu),this.onlineState="Unknown",this.ku=new Set}}async function L$(t,e){const n=_e(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new D$),r)try{i.Nu=await n.onListen(s)}catch(o){const a=hp(o,`Initialization of query '${Ef(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&fp(n)}async function x$(t,e){const n=_e(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function M$(t,e){const n=_e(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(r)&&(s=!0);o.Nu=r}}s&&fp(n)}function $$(t,e,n){const s=_e(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function fp(t){t.ku.forEach(e=>{e.next()})}class F${constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Di(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Di.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.key=e}}class ub{constructor(e){this.key=e}}class V${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=RT(e),this.ec=new _i(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Hy,r=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const p=r.get(h),g=fu(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?w!==I&&(s.track({type:3,doc:g}),S=!0):this.rc(p,g)||(s.track({type:2,doc:g}),S=!0,(c&&this.tc(g,c)>0||l&&this.tc(g,l)<0)&&(a=!0)):!p&&g?(s.track({type:0,doc:g}),S=!0):p&&!g&&(s.track({type:1,doc:p}),S=!0,(c||l)&&(a=!0)),S&&(g?(o=o.add(g),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),s.track({type:1,doc:h})}return{ec:o,ic:s,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((l,h)=>function(f,p){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return g(f)-g(p)}(l.type,h.type)||this.tc(l.doc,h.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,i.length!==0||c?{snapshot:new Di(this.query,e.ec,r,i,e.mutatedKeys,a===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Hy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new ub(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new lb(s))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Di.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class U${constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class B${constructor(e){this.key=e,this.fc=!1}}class j${constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Xi(a=>NT(a),hu),this._c=new Map,this.mc=new Set,this.gc=new Ke(ue.comparator),this.yc=new Map,this.Ic=new rp,this.Tc={},this.Ec=new Map,this.Ac=ki.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function H$(t,e){const n=Z$(t);let s,r;const i=n.wc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.lc();else{const o=await u$(n.localStore,ts(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await q$(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&nb(n.remoteStore,o)}return r}async function q$(t,e,n,s,r){t.Rc=(f,p,g)=>async function(w,I,S,b){let _=I.view.sc(S);_.zi&&(_=await Vy(w.localStore,I.query,!1).then(({documents:R})=>I.view.sc(R,_)));const k=b&&b.targetChanges.get(I.targetId),T=I.view.applyChanges(_,w.isPrimaryClient,k);return Ky(w,I.targetId,T.cc),T.snapshot}(t,f,p,g);const i=await Vy(t.localStore,e,!0),o=new V$(e,i.ir),a=o.sc(i.documents),c=Va.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);Ky(t,n,l.cc);const h=new U$(e,n,o);return t.wc.set(e,h),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}async function K$(t,e){const n=_e(t),s=n.wc.get(e),r=n._c.get(s.targetId);if(r.length>1)return n._c.set(s.targetId,r.filter(i=>!hu(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Af(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),sb(n.remoteStore,s.targetId),Cf(n,s.targetId)}).catch(Ma)):(Cf(n,s.targetId),await Af(n.localStore,s.targetId,!0))}async function W$(t,e,n){const s=eF(t);try{const r=await function(i,o){const a=_e(i),c=et.now(),l=o.reduce((p,g)=>p.add(g.key),be());let h,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ns(),w=be();return a.Zi.getEntries(p,l).next(I=>{g=I,g.forEach((S,b)=>{b.isValidDocument()||(w=w.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,g)).next(I=>{h=I;const S=[];for(const b of o){const _=mM(b,h.get(b.key).overlayedDocument);_!=null&&S.push(new $r(b.key,_,ET(_.value.mapValue),Qn.exists(!0)))}return a.mutationQueue.addMutationBatch(p,c,S,o)}).next(I=>{f=I;const S=I.applyToLocalDocumentSet(h,w);return a.documentOverlayCache.saveOverlays(p,I.batchId,S)})}).then(()=>({batchId:f.batchId,changes:DT(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let c=i.Tc[i.currentUser.toKey()];c||(c=new Ke(Re)),c=c.insert(o,a),i.Tc[i.currentUser.toKey()]=c}(s,r.batchId,n),await Ba(s,r.changes),await _u(s.remoteStore)}catch(r){const i=hp(r,"Failed to persist write");n.reject(i)}}async function hb(t,e){const n=_e(t);try{const s=await a$(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.yc.get(i);o&&(Be(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?Be(o.fc):r.removedDocuments.size>0&&(Be(o.fc),o.fc=!1))}),await Ba(n,s,e)}catch(s){await Ma(s)}}function qy(t,e,n){const s=_e(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=_e(i);a.onlineState=o;let c=!1;a.queries.forEach((l,h)=>{for(const f of h.listeners)f.Mu(o)&&(c=!0)}),c&&fp(a)}(s.eventManager,e),r.length&&s.dc.nu(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function z$(t,e,n){const s=_e(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.yc.get(e),i=r&&r.key;if(i){let o=new Ke(ue.comparator);o=o.insert(i,mt.newNoDocument(i,ye.min()));const a=be().add(i),c=new gu(ye.min(),new Map,new Ke(Re),o,a);await hb(s,c),s.gc=s.gc.remove(i),s.yc.delete(e),dp(s)}else await Af(s.localStore,e,!1).then(()=>Cf(s,e,n)).catch(Ma)}async function G$(t,e){const n=_e(t),s=e.batch.batchId;try{const r=await o$(n.localStore,e);db(n,s,null),fb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ba(n,r)}catch(r){await Ma(r)}}async function Y$(t,e,n){const s=_e(t);try{const r=await function(i,o){const a=_e(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(h=>(Be(h!==null),l=h.keys(),a.mutationQueue.removeMutationBatch(c,h))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(s.localStore,e);db(s,e,n),fb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ba(s,r)}catch(r){await Ma(r)}}function fb(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function db(t,e,n){const s=_e(t);let r=s.Tc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Tc[s.currentUser.toKey()]=r}}function Cf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||pb(t,s)})}function pb(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(sb(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),dp(t))}function Ky(t,e,n){for(const s of n)s instanceof lb?(t.Ic.addReference(s.key,e),Q$(t,s)):s instanceof ub?(ce("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||pb(t,s.key)):ge()}function Q$(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(ce("SyncEngine","New document in limbo: "+n),t.mc.add(s),dp(t))}function dp(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ue(Ue.fromString(e)),s=t.Ac.next();t.yc.set(s,new B$(n)),t.gc=t.gc.insert(n,s),nb(t.remoteStore,new bs(ts(ST(n.path)),s,"TargetPurposeLimboResolution",zd.ct))}}async function Ba(t,e,n){const s=_e(t),r=[],i=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,c)=>{o.push(s.Rc(c,e,n).then(l=>{if((l||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){r.push(l);const h=op.Li(c.targetId,l);i.push(h)}}))}),await Promise.all(o),s.dc.nu(r),await async function(a,c){const l=_e(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(c,f=>K.forEach(f.Fi,p=>l.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>K.forEach(f.Bi,p=>l.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!$a(h))throw h;ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=l.Ji.get(f),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);l.Ji=l.Ji.insert(f,w)}}}(s.localStore,i))}async function X$(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const s=await JT(n.localStore,e);n.currentUser=e,function(r,i){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new ne(B.CANCELLED,i))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ba(n,s.er)}}function J$(t,e){const n=_e(t),s=n.yc.get(e);if(s&&s.fc)return be().add(s.key);{let r=be();const i=n._c.get(e);if(!i)return r;for(const o of i){const a=n.wc.get(o);r=r.unionWith(a.view.nc)}return r}}function Z$(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z$.bind(null,e),e.dc.nu=M$.bind(null,e.eventManager),e.dc.Pc=$$.bind(null,e.eventManager),e}function eF(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y$.bind(null,e),e}class Wy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=mu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return i$(this.persistence,new s$,e.initialUser,this.serializer)}createPersistence(e){return new t$(ip.zs,this.serializer)}createSharedClientState(e){return new f$}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=X$.bind(null,this.syncEngine),await k$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new P$}createDatastore(e){const n=mu(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new m$(r));var r;return function(i,o,a,c){return new v$(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>qy(this.syncEngine,a,0),o=By.D()?new By:new d$,new w$(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,c,l){const h=new j$(s,r,i,o,a,c);return l&&(h.vc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=_e(e);ce("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Ua(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=gt.UNAUTHENTICATED,this.clientId=yT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{ce("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(ce("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function yh(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await JT(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iF(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>jy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jy(e.remoteStore,i)),t._onlineComponents=e}function rF(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function iF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await yh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!rF(n))throw n;Si("Error using user provided cache. Falling back to memory cache: "+n),await yh(t,new Wy)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await yh(t,new Wy);return t._offlineComponents}async function gb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await zy(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await zy(t,new tF))),t._onlineComponents}function oF(t){return gb(t).then(e=>e.syncEngine)}async function aF(t){const e=await gb(t),n=e.eventManager;return n.onListen=H$.bind(null,e.syncEngine),n.onUnlisten=K$.bind(null,e.syncEngine),n}function cF(t,e,n={}){const s=new Ns;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,c){const l=new nF({next:f=>{i.enqueueAndForget(()=>x$(r,h)),f.fromCache&&a.source==="server"?c.reject(new ne(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new F$(o,l,{includeMetadataChanges:!0,Ku:!0});return L$(r,h)}(await aF(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e,n){if(!n)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lF(t,e,n,s){if(e===!0&&s===!0)throw new ne(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yy(t){if(!ue.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qy(t){if(ue.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function pl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vu(t);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class Eu{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Ox;switch(n.type){case"firstParty":return new Dx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Gy.get(e);n&&(ce("ComponentProvider","Removing Datastore"),Gy.delete(e),n.terminate())}(this),Promise.resolve()}}function uF(t,e,n,s={}){var r;const i=(t=pl(t,Eu))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Si("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),s.mockUserToken){let a,c;if(typeof s.mockUserToken=="string")a=s.mockUserToken,c=gt.MOCK_USER;else{a=zk(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=s.mockUserToken.sub||s.mockUserToken.user_id;if(!l)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new gt(l)}t._authCredentials=new Nx(new mT(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Vr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vr(this.firestore,e,this._query)}}class Rs extends Vr{constructor(e,n,s){super(e,n,ST(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new ue(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function pp(t,e,...n){if(t=ht(t),yb("collection","path",e),t instanceof Eu){const s=Ue.fromString(e,...n);return Qy(s),new Rs(t,null,s)}{if(!(t instanceof rn||t instanceof Rs))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ue.fromString(e,...n));return Qy(s),new Rs(t.firestore,null,s)}}function hF(t,e,...n){if(t=ht(t),arguments.length===1&&(e=yT.A()),yb("doc","path",e),t instanceof Eu){const s=Ue.fromString(e,...n);return Yy(s),new rn(t,null,new ue(s))}{if(!(t instanceof rn||t instanceof Rs))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ue.fromString(e,...n));return Yy(s),new rn(t.firestore,t instanceof Rs?t.converter:null,new ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new eb(this,"async_queue_retry"),this.Xc=()=>{const n=mh();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=mh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ns;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!$a(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw es("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=up.createAndSchedule(this,e,n,s,i=>this.na(i));return this.zc.push(r),r}Zc(){this.Wc&&ge()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class gp extends Eu{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new fF,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vb(this),this._firestoreClient.terminate()}}function dF(t,e){const n=typeof t=="object"?t:pd(),s=typeof t=="string"?t:e||"(default)",r=Lr(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=Kk("firestore");i&&uF(r,...i)}return r}function _b(t){return t._firestoreClient||vb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vb(t){var e,n,s;const r=t._freezeSettings(),i=function(o,a,c,l){return new qx(o,a,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,mb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new sF(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=r.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pi(It.fromBase64String(e))}catch(n){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pi(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=/^__.*__$/;class gF{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fa(e,this.data,n,this.fieldTransforms)}}function wb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class _p{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.fa(e),r}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return gl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(wb(this.ca)&&pF.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mF{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||mu(e)}ya(e,n,s,r=!1){return new _p({ca:e,methodName:n,ga:s,path:_t.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tb(t){const e=t._freezeSettings(),n=mu(t._databaseId);return new mF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yF(t,e,n,s,r,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,r);Ab("Data must be an object, but it was:",o,s);const a=bb(s,o);let c,l;if(i.merge)c=new hn(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=vF(e,f,n);if(!o.contains(p))throw new ne(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);wF(h,p)||h.push(p)}c=new hn(h),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new gF(new nn(a),c,l)}function _F(t,e,n,s=!1){return vp(n,t.ya(s?4:3,e))}function vp(t,e){if(Ib(t=ht(t)))return Ab("Unsupported field value:",e,t),bb(t,e);if(t instanceof Eb)return function(n,s){if(!wb(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=vp(o,s.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return uM(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=et.fromDate(n);return{timestampValue:fl(s.serializer,r)}}if(n instanceof et){const r=new et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fl(s.serializer,r)}}if(n instanceof yp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pi)return{bytesValue:WT(s.serializer,n._byteString)};if(n instanceof rn){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:sp(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${vu(n)}`)}(t,e)}function bb(t,e){const n={};return _T(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(s,r)=>{const i=vp(r,e.ha(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Ib(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof yp||t instanceof Pi||t instanceof rn||t instanceof Eb)}function Ab(t,e,n){if(!Ib(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=vu(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function vF(t,e,n){if((e=ht(e))instanceof mp)return e._internalPath;if(typeof e=="string")return Cb(t,e);throw gl("Field path arguments must be of type string or ",t,!1,void 0,n)}const EF=new RegExp("[~\\*/\\[\\]]");function Cb(t,e,n){if(e.search(EF)>=0)throw gl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mp(...e.split("."))._internalPath}catch{throw gl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gl(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new ne(B.INVALID_ARGUMENT,a+t+c)}function wF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ep("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TF extends Sb{data(){return super.data()}}function Ep(t,e){return typeof e=="string"?Cb(t,e):e instanceof mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wp{}class Ob extends wp{}function IF(t,e,...n){let s=[];e instanceof wp&&s.push(e),s=s.concat(n),function(r){const i=r.filter(a=>a instanceof bp).length,o=r.filter(a=>a instanceof Tp).length;if(i>1||i>0&&o>0)throw new ne(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class Tp extends Ob{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Tp(e,n,s)}_apply(e){const n=this._parse(e);return Nb(e._query,n),new Vr(e.firestore,e.converter,_f(e._query,n))}_parse(e){const n=Tb(e.firestore);return function(r,i,o,a,c,l,h){let f;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new ne(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){Zy(h,l);const p=[];for(const g of h)p.push(Jy(a,r,g));f={arrayValue:{values:p}}}else f=Jy(a,r,h)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Zy(h,l),f=_F(o,i,h,l==="in"||l==="not-in");return Je.create(c,l,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bp extends wp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let i=s;const o=r.getFlattenedFilters();for(const a of o)Nb(i,a),i=_f(i,a)}(e._query,n),new Vr(e.firestore,e.converter,_f(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ip extends Ob{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ip(e,n)}_apply(e){const n=function(s,r,i){if(s.startAt!==null)throw new ne(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ne(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new mi(r,i);return function(a,c){if(Zd(a)===null){const l=uu(a);l!==null&&Rb(a,l,c.field)}}(s,o),o}(e._query,this._field,this._direction);return new Vr(e.firestore,e.converter,function(s,r){const i=s.explicitOrderBy.concat([r]);return new Qi(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function AF(t,e="asc"){const n=e,s=Ep("orderBy",t);return Ip._create(s,n)}function Jy(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OT(e)&&n.indexOf("/")!==-1)throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ue.fromString(n));if(!ue.isDocumentKey(s))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ty(t,new ue(s))}if(n instanceof rn)return Ty(t,n._key);throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vu(n)}.`)}function Zy(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nb(t,e){if(e.isInequality()){const s=uu(t),r=e.field;if(s!==null&&!s.isEqual(r))throw new ne(B.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${r.toString()}'`);const i=Zd(t);i!==null&&Rb(t,r,i)}const n=function(s,r){for(const i of s)for(const o of i.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Rb(t,e,n){if(!n.isEqual(e))throw new ne(B.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class CF{convertValue(e,n="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Yi(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new yp(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ue.fromString(e);Be(XT(s));const r=new ca(s.get(1),s.get(3)),i=new ue(s.popFirst(5));return r.isEqual(n)||es(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OF extends Sb{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ep("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class xc extends OF{data(e={}){return super.data(e)}}class NF{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ic(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new xc(this._firestore,this._userDataWriter,s.key,s,new Ic(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new xc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ic(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new xc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ic(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,l=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:RF(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class kF extends CF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function DF(t){t=pl(t,Vr);const e=pl(t.firestore,gp),n=_b(e),s=new kF(e);return bF(t._query),cF(n,t._query).then(r=>new NF(e,s,t,r))}function kb(t,e){const n=pl(t.firestore,gp),s=hF(t),r=SF(t.converter,e);return PF(n,[yF(Tb(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then(()=>s)}function PF(t,e){return function(n,s){const r=new Ns;return n.asyncQueue.enqueueAndForget(async()=>W$(await oF(n),s,r)),r.promise}(_b(t),e)}(function(t,e=!0){(function(n){Gi=n})(ji),Ln(new mn("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new gp(new Rx(n.getProvider("auth-internal")),new Lx(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(a.options.projectId,c)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),sn(yy,"3.13.0",t),sn(yy,"3.13.0","esm2017")})();const LF=En({components:{},props:[],setup(){return{}},methods:{async getPosts(){try{const t=IF(pp(Hp,"posts"),AF("timestamp","desc"));(await DF(t)).forEach(n=>{this.posts.push(n.data())})}catch{this.$toast.error("Error loading posts")}}},async mounted(){await this.getPosts()},data(){return{posts:[]}}}),Ur=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},xF=["src"],MF={class:"card-body"},$F={class:"card-title"},FF={class:"card-text"},VF=te("a",{hidden:"",href:"#",class:"btn btn-primary"},"Read More",-1);function UF(t,e,n,s,r,i){return Ze(!0),Ot(Qe,null,hv(t.posts,(o,a)=>(Ze(),Ot("div",{key:a,class:"card",style:{width:"18rem",margin:"10px"}},[te("img",{src:o.thumbnail,class:"card-img-top"},null,8,xF),te("div",MF,[te("h3",$F,lr(o.title),1),te("p",null,"By "+lr(o.author_name),1),te("p",FF,lr(o.message),1),VF])]))),128)}const BF=Ur(LF,[["render",UF]]),jF=En({name:"HomeView",components:{FeedComponent:BF},setup(){return{user:zl()}},methods:{},async mounted(){},data(){return{}}});function HF(t,e,n,s,r,i){const o=xl("FeedComponent");return Ze(),Ot("div",null,[t.user.isSignedIn?(Ze(),Ml(o,{key:0})):Ts("",!0)])}const qF=Ur(jF,[["render",HF]]),KF=En({name:"AboutView",components:{},methods:{},data(){return{}}}),WF={class:"about"},zF=te("h1",null,"This is an about page",-1),GF=[zF];function YF(t,e,n,s,r,i){return Ze(),Ot("div",WF,GF)}const QF=Ur(KF,[["render",YF]]),XF=En({name:"LoginView",components:{},setup(){return{userStore:zl()}},methods:{async login(){const t=di();await rP(t,this.email,this.password).catch(e=>{this.$toast.error(e.message)}),t.currentUser&&(window.location.href="/")},async signUp(){const t=di();await sP(t,this.email,this.password).catch(n=>{this.$toast.error(n.message)});const e=t.currentUser;try{await kb(pp(Hp,"users"),{email:this.email,name:this.username,user_uid:e==null?void 0:e.uid,blog_title:"",following:[]})}catch{this.$toast.error("Error creating post")}await oP(t.currentUser,{displayName:this.username}),t.currentUser&&(window.location.href="/")},switchState(){this.state=!this.state}},mounted(){di().onAuthStateChanged(e=>{e&&this.userStore.displayName&&(window.location.href="/")})},data(){return{email:"",password:"",username:"",state:!0,appName:"Bloggify"}}});const js=t=>(z_("data-v-4ba314f3"),t=t(),G_(),t),JF={class:"page-holder align-items-center py-4 bg-gray-100 vh-100"},ZF={class:"container"},eV={class:"row align-items-center"},tV={key:0,class:"col-lg-6 px-lg-4",style:{width:"100%"}},nV={class:"card"},sV=js(()=>te("div",{class:"card-header px-lg-5"},[te("div",{class:"card-heading text-primary"},"Login")],-1)),rV={class:"card-body p-lg-5"},iV={class:"mb-4"},oV={id:"loginForm"},aV={class:"form-floating mb-3"},cV=js(()=>te("label",{for:"floatingInput"},"Email address",-1)),lV={class:"form-floating mb-3"},uV=js(()=>te("label",{for:"floatingPassword"},"Password",-1)),hV={class:"card-footer px-lg-5 py-lg-4"},fV={class:"text-sm text-muted"},dV={key:1,class:"col-lg-6 px-lg-4",style:{width:"100%"}},pV={class:"card"},gV=js(()=>te("div",{class:"card-header px-lg-5"},[te("div",{class:"card-heading text-primary"},"Register")],-1)),mV={class:"card-body p-lg-5"},yV={class:"mb-4"},_V={class:"form-floating mb-3"},vV=js(()=>te("label",{for:"username"},"Username",-1)),EV={class:"form-floating mb-3"},wV=js(()=>te("label",{for:"floatingInput"},"Email address",-1)),TV={class:"form-floating mb-3"},bV=js(()=>te("label",{for:"floatingPassword"},"Password",-1)),IV=js(()=>te("div",{class:"form-check mb-3",hidden:""},[te("input",{class:"form-check-input",type:"checkbox",name:"agree",id:"agree"}),te("label",{class:"form-check-label",for:"agree"},[Hn("I agree with the "),te("a",{href:"#"},"Terms & Conditions"),Hn(".")])],-1)),AV={class:"form-group"},CV={class:"card-footer px-lg-5 py-lg-4"},SV={class:"text-sm text-muted"};function OV(t,e,n,s,r,i){return Ze(),Ot("div",JF,[te("div",ZF,[te("div",eV,[t.state?(Ze(),Ot("div",tV,[te("div",nV,[sV,te("div",rV,[te("h3",iV,"Hi, welcome to "+lr(t.appName)+"!",1),te("form",oV,[te("div",aV,[An(te("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.email=o),class:"form-control",id:"floatingInput",type:"email",placeholder:"name@example.com",required:""},null,512),[[Ht,t.email]]),cV]),te("div",lV,[An(te("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.password=o),class:"form-control",id:"floatingPassword",type:"password",placeholder:"Password",required:""},null,512),[[Ht,t.password]]),uV]),te("button",{class:"btn btn-primary",type:"button",onClick:e[2]||(e[2]=(...o)=>t.login&&t.login(...o))},"Submit")])]),te("div",hV,[te("div",fV,[Hn("Don't have an account? "),te("a",{onClick:e[3]||(e[3]=o=>t.switchState())},"Register"),Hn(". ")])])])])):Ts("",!0),t.state?Ts("",!0):(Ze(),Ot("div",dV,[te("div",pV,[gV,te("div",mV,[te("h3",yV,"Get started with "+lr(t.appName),1),te("form",null,[te("div",_V,[An(te("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.username=o),class:"form-control",id:"username",type:"email",placeholder:"name@example.com",required:""},null,512),[[Ht,t.username]]),vV]),te("div",EV,[An(te("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>t.email=o),class:"form-control",id:"floatingInput",type:"email",placeholder:"name@example.com",required:""},null,512),[[Ht,t.email]]),wV]),te("div",TV,[An(te("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>t.password=o),class:"form-control",id:"floatingPassword",type:"password",placeholder:"Password",required:""},null,512),[[Ht,t.password]]),bV]),IV,te("div",AV,[te("button",{class:"btn btn-primary",id:"regidter",type:"button",name:"registerSubmit",onClick:e[7]||(e[7]=(...o)=>t.signUp&&t.signUp(...o))},"Register")])])]),te("div",CV,[te("div",SV,[Hn("Already have an account? "),te("a",{onClick:e[8]||(e[8]=o=>t.switchState())},"Login"),Hn(". ")])])])]))])])])}const NV=Ur(XF,[["render",OV],["__scopeId","data-v-4ba314f3"]]),RV=En({components:{},props:[],methods:{async postPost(){const e=di().currentUser;try{await kb(pp(Hp,"posts"),{author_id:e==null?void 0:e.uid,author_name:e==null?void 0:e.displayName,collection:this.collection,likes:0,message:this.message,tags:["test","test2"],thumbnail:"",timestamp:new Date,title:this.title,views:0}),this.$toast.success("Post created"),this.title="",this.message="",this.tags="",this.collection="",this.$router.push("/")}catch{this.$toast.error("Error creating post")}}},data(){return{title:"",message:"",tags:"",collection:""}}}),kV=te("h1",null,"Create New Post",-1),DV={class:"form-floating"},PV=te("label",{for:"floatingTextarea"},"Title",-1),LV={class:"form-floating"},xV=te("label",{for:"floatingTextarea"},"Message",-1);function MV(t,e,n,s,r,i){return Ze(),Ot("div",null,[kV,te("div",DV,[An(te("textarea",{class:"form-control",type:"text",placeholder:"Title",id:"floatingTextarea","onUpdate:modelValue":e[0]||(e[0]=o=>t.title=o)},null,512),[[Ht,t.title]]),PV]),te("div",LV,[An(te("textarea",{class:"form-control",type:"text",placeholder:"Message",id:"floatingTextarea","onUpdate:modelValue":e[1]||(e[1]=o=>t.message=o)},null,512),[[Ht,t.message]]),xV]),An(te("input",{type:"text",placeholder:"Tags","onUpdate:modelValue":e[2]||(e[2]=o=>t.tags=o)},null,512),[[Ht,t.tags]]),An(te("input",{type:"text",placeholder:"Collection","onUpdate:modelValue":e[3]||(e[3]=o=>t.collection=o)},null,512),[[Ht,t.collection]]),te("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=o=>t.postPost())},"Post")])}const $V=Ur(RV,[["render",MV]]),FV=En({name:"HomeView",components:{PostCreatorComponent:$V},setup(){return{user:zl()}},methods:{},async mounted(){},data(){return{}}});function VV(t,e,n,s,r,i){const o=xl("PostCreatorComponent");return Ze(),Ot(Qe,null,[te("div",null,[te("h1",null,lr(t.user.displayName),1)]),xe(o)],64)}const UV=Ur(FV,[["render",VV]]),Mc=Mk({history:ZR("/"),routes:[{path:"/",name:"home",component:qF},{path:"/about",name:"about",component:QF},{path:"/login",name:"login",component:NV},{path:"/profile",name:"profile",component:UV}]}),BV={name:"App",components:{RouterView:EE},setup(){return{user:zl()}},methods:{async signOut(){const t=di();await lP(t),Mc.push("/"),this.user.setIsSignedIn(!1),this.user.setDisplayName("")},changePage(t){Mc.push(t)}},mounted(){},watch:{$route(t){this.currentUrl=t.path,di().onAuthStateChanged(n=>{n?(this.user.setIsSignedIn(!0),this.user.setDisplayName(n.displayName)):(this.user.setIsSignedIn(!1),this.user.setDisplayName(""),this.currentUrl!=="/login"&&this.currentUrl!=="/"&&Mc.push("/login"))})}},data(){return{currentUrl:""}}},jV={key:0},HV={class:"wrapper"},qV={class:"navbar navbar-expand-lg bg-primary d-flex justify-content-between p-2"},KV=te("div",{class:"text-white"},[te("h2",null,"Bloggify")],-1);function WV(t,e,n,s,r,i){const o=xl("RouterView");return Ze(),Ot(Qe,null,[r.currentUrl!="/login"?(Ze(),Ot("header",jV,[te("div",HV,[te("nav",qV,[KV,te("div",null,[te("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=a=>i.changePage("/"))},"Home"),te("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=a=>i.changePage("/about"))},"About"),s.user.isSignedIn?(Ze(),Ot("button",{key:0,type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=a=>i.changePage("/profile"))},"Profile")):Ts("",!0),s.user.isSignedIn?Ts("",!0):(Ze(),Ot("button",{key:1,type:"button",class:"btn btn-secondary",onClick:e[3]||(e[3]=a=>i.changePage("/login"))},"Login")),s.user.isSignedIn?(Ze(),Ot("button",{key:2,type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=a=>i.signOut())},"Sign Out")):Ts("",!0)])])])])):Ts("",!0),xe(o)],64)}const zV=Ur(BV,[["render",WV]]);var GV="firebase",YV="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(GV,YV,"app");const QV=(t,e)=>e.some(n=>t instanceof n);let e_,t_;function XV(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JV(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Db=new WeakMap,Sf=new WeakMap,Pb=new WeakMap,_h=new WeakMap,Ap=new WeakMap;function ZV(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ks(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Db.set(n,t)}).catch(()=>{}),Ap.set(e,t),e}function eU(t){if(Sf.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Sf.set(t,e)}let Of={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tU(t){Of=t(Of)}function nU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(vh(this),e,...n);return Pb.set(s,e.sort?e.sort():[e]),ks(s)}:JV().includes(t)?function(...e){return t.apply(vh(this),e),ks(Db.get(this))}:function(...e){return ks(t.apply(vh(this),e))}}function sU(t){return typeof t=="function"?nU(t):(t instanceof IDBTransaction&&eU(t),QV(t,XV())?new Proxy(t,Of):t)}function ks(t){if(t instanceof IDBRequest)return ZV(t);if(_h.has(t))return _h.get(t);const e=sU(t);return e!==t&&(_h.set(t,e),Ap.set(e,t)),e}const vh=t=>Ap.get(t);function rU(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=ks(o);return s&&o.addEventListener("upgradeneeded",c=>{s(ks(o.result),c.oldVersion,c.newVersion,ks(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const iU=["get","getKey","getAll","getAllKeys","count"],oU=["put","add","delete","clear"],Eh=new Map;function n_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eh.get(e))return Eh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=oU.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||iU.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return Eh.set(e,i),i}tU(t=>({...t,get:(e,n,s)=>n_(e,n)||t.get(e,n,s),has:(e,n)=>!!n_(e,n)||t.has(e,n)}));const Lb="@firebase/installations",Cp="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=1e4,Mb=`w:${Cp}`,$b="FIS_v2",aU="https://firebaseinstallations.googleapis.com/v1",cU=60*60*1e3,lU="installations",uU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Cr=new Pr(lU,uU,hU);function Fb(t){return t instanceof wn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb({projectId:t}){return`${aU}/projects/${t}/installations`}function Ub(t){return{token:t.token,requestStatus:2,expiresIn:dU(t.expiresIn),creationTime:Date.now()}}async function Bb(t,e){const s=(await e.json()).error;return Cr.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function jb({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fU(t,{refreshToken:e}){const n=jb(t);return n.append("Authorization",pU(e)),n}async function Hb(t){const e=await t();return e.status>=500&&e.status<600?t():e}function dU(t){return Number(t.replace("s","000"))}function pU(t){return`${$b} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Vb(t),r=jb(t),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={fid:n,authVersion:$b,appId:t.appId,sdkVersion:Mb},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await Hb(()=>fetch(s,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Ub(l.authToken)}}else throw await Bb("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/^[cdef][\w-]{21}$/,Nf="";function _U(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=vU(t);return yU.test(n)?n:Nf}catch{return Nf}}function vU(t){return mU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Map;function Wb(t,e){const n=wu(t);zb(n,e),EU(n,e)}function zb(t,e){const n=Kb.get(t);if(n)for(const s of n)s(e)}function EU(t,e){const n=wU();n&&n.postMessage({key:t,fid:e}),TU()}let cr=null;function wU(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=t=>{zb(t.data.key,t.data.fid)}),cr}function TU(){Kb.size===0&&cr&&(cr.close(),cr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="firebase-installations-database",IU=1,Sr="firebase-installations-store";let wh=null;function Sp(){return wh||(wh=rU(bU,IU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sr)}}})),wh}async function ml(t,e){const n=wu(t),r=(await Sp()).transaction(Sr,"readwrite"),i=r.objectStore(Sr),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&Wb(t,e.fid),e}async function Gb(t){const e=wu(t),s=(await Sp()).transaction(Sr,"readwrite");await s.objectStore(Sr).delete(e),await s.done}async function Tu(t,e){const n=wu(t),r=(await Sp()).transaction(Sr,"readwrite"),i=r.objectStore(Sr),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&Wb(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t){let e;const n=await Tu(t.appConfig,s=>{const r=AU(s),i=CU(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===Nf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function AU(t){const e=t||{fid:_U(),registrationStatus:0};return Yb(e)}function CU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Cr.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=SU(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:OU(t)}:{installationEntry:e}}async function SU(t,e){try{const n=await gU(t,e);return ml(t.appConfig,n)}catch(n){throw Fb(n)&&n.customData.serverCode===409?await Gb(t.appConfig):await ml(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function OU(t){let e=await s_(t.appConfig);for(;e.registrationStatus===1;)await qb(100),e=await s_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Op(t);return s||n}return e}function s_(t){return Tu(t,e=>{if(!e)throw Cr.create("installation-not-found");return Yb(e)})}function Yb(t){return NU(t)?{fid:t.fid,registrationStatus:0}:t}function NU(t){return t.registrationStatus===1&&t.registrationTime+xb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU({appConfig:t,heartbeatServiceProvider:e},n){const s=kU(t,n),r=fU(t,n),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={installation:{sdkVersion:Mb,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await Hb(()=>fetch(s,a));if(c.ok){const l=await c.json();return Ub(l)}else throw await Bb("Generate Auth Token",c)}function kU(t,{fid:e}){return`${Vb(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Np(t,e=!1){let n;const s=await Tu(t.appConfig,i=>{if(!Qb(i))throw Cr.create("not-registered");const o=i.authToken;if(!e&&LU(o))return i;if(o.requestStatus===1)return n=DU(t,e),i;{if(!navigator.onLine)throw Cr.create("app-offline");const a=MU(i);return n=PU(t,a),a}});return n?await n:s.authToken}async function DU(t,e){let n=await r_(t.appConfig);for(;n.authToken.requestStatus===1;)await qb(100),n=await r_(t.appConfig);const s=n.authToken;return s.requestStatus===0?Np(t,e):s}function r_(t){return Tu(t,e=>{if(!Qb(e))throw Cr.create("not-registered");const n=e.authToken;return $U(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function PU(t,e){try{const n=await RU(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await ml(t.appConfig,s),n}catch(n){if(Fb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Gb(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ml(t.appConfig,s)}throw n}}function Qb(t){return t!==void 0&&t.registrationStatus===2}function LU(t){return t.requestStatus===2&&!xU(t)}function xU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cU}function MU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function $U(t){return t.requestStatus===1&&t.requestTime+xb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(t){const e=t,{installationEntry:n,registrationPromise:s}=await Op(e);return s?s.catch(console.error):Np(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VU(t,e=!1){const n=t;return await UU(n),(await Np(n,e)).token}async function UU(t){const{registrationPromise:e}=await Op(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){if(!t||!t.options)throw Th("App Configuration");if(!t.name)throw Th("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Th(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Th(t){return Cr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="installations",jU="installations-internal",HU=t=>{const e=t.getProvider("app").getImmediate(),n=BU(e),s=Lr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},qU=t=>{const e=t.getProvider("app").getImmediate(),n=Lr(e,Xb).getImmediate();return{getId:()=>FU(n),getToken:r=>VU(n,r)}};function KU(){Ln(new mn(Xb,HU,"PUBLIC")),Ln(new mn(jU,qU,"PRIVATE"))}KU();sn(Lb,Cp);sn(Lb,Cp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="analytics",WU="firebase_id",zU="origin",GU=60*1e3,YU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t=new Hl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kt=new Pr("analytics","Analytics",QU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){if(!t.startsWith(Rp)){const e=Kt.create("invalid-gtag-resource",{gtagURL:t});return $t.warn(e.message),""}return t}function Jb(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function JU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ZU(t,e){const n=JU("firebase-js-sdk-policy",{createScriptURL:XU}),s=document.createElement("script"),r=`${Rp}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function e2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function t2(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const c=(await Jb(n)).find(l=>l.measurementId===r);c&&await e[c.appId]}}catch(a){$t.error(a)}t("config",r,i)}async function n2(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await Jb(n);for(const c of o){const l=a.find(f=>f.measurementId===c),h=l&&e[l.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){$t.error(i)}}function s2(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,c]=o;await n2(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await t2(t,e,n,s,a,c)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,c,l]=o;t("get",a,c,l)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){$t.error(a)}}return r}function r2(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=s2(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function i2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Rp)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=30,a2=1e3;class c2{constructor(e={},n=a2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Zb=new c2;function l2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function u2(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:l2(s)},i=YU.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw Kt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function h2(t,e=Zb,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Kt.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Kt.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new p2;return setTimeout(async()=>{a.abort()},n!==void 0?n:GU),e0({appId:s,apiKey:r,measurementId:i},o,a,e)}async function e0(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=Zb){var i;const{appId:o,measurementId:a}=t;try{await f2(s,e)}catch(c){if(a)return $t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await u2(t);return r.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!d2(l)){if(r.deleteThrottleMetadata(o),a)return $t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const h=Number((i=l==null?void 0:l.customData)===null||i===void 0?void 0:i.httpStatus)===503?Dm(n,r.intervalMillis,o2):Dm(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return r.setThrottleMetadata(o,f),$t.debug(`Calling attemptFetch again in ${h} millis`),e0(t,f,s,r)}}function f2(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Kt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function d2(t){if(!(t instanceof wn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class p2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function g2(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(){if(OE())try{await NE()}catch(t){return $t.warn(Kt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return $t.warn(Kt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function y2(t,e,n,s,r,i,o){var a;const c=h2(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&$t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>$t.error(g)),e.push(c);const l=m2().then(g=>{if(g)return s.getId()}),[h,f]=await Promise.all([c,l]);i2(i)||ZU(i,h.measurementId),r("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[zU]="firebase",p.update=!0,f!=null&&(p[WU]=f),r("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.app=e}_delete(){return delete xo[this.app.options.appId],Promise.resolve()}}let xo={},i_=[];const o_={};let bh="dataLayer",v2="gtag",a_,t0,c_=!1;function E2(){const t=[];if(SE()&&t.push("This is a browser extension environment."),Xk()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Kt.create("invalid-analytics-context",{errorInfo:e});$t.warn(n.message)}}function w2(t,e,n){E2();const s=t.options.appId;if(!s)throw Kt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kt.create("no-api-key");if(xo[s]!=null)throw Kt.create("already-exists",{id:s});if(!c_){e2(bh);const{wrappedGtag:i,gtagCore:o}=r2(xo,i_,o_,bh,v2);t0=i,a_=o,c_=!0}return xo[s]=y2(t,i_,o_,e,a_,bh,n),new _2(t)}function T2(t=pd()){t=ht(t);const e=Lr(t,yl);return e.isInitialized()?e.getImmediate():b2(t)}function b2(t,e={}){const n=Lr(t,yl);if(n.isInitialized()){const r=n.getImmediate();if(Go(e,n.getOptions()))return r;throw Kt.create("already-initialized")}return n.initialize({options:e})}function I2(t,e,n,s){t=ht(t),g2(t0,xo[t.app.options.appId],e,n,s).catch(r=>$t.error(r))}const l_="@firebase/analytics",u_="0.10.0";function A2(){Ln(new mn(yl,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return w2(s,r,n)},"PUBLIC")),Ln(new mn("analytics-internal",t,"PRIVATE")),sn(l_,u_),sn(l_,u_,"esm2017");function t(e){try{const n=e.getProvider(yl).getImmediate();return{logEvent:(s,r,i)=>I2(n,s,r,i)}}catch(n){throw Kt.create("interop-component-reg-failed",{reason:n})}}}A2();var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){if(this instanceof s){var r=[null];r.push.apply(r,arguments);var i=Function.bind.apply(e,r);return new i}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var r0={exports:{}};const S2=s0(SR);(function(t,e){(function(s,r){t.exports=r(S2)})(n0,n=>(()=>{var s={661:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.default=(l,h)=>{const f=l.__vccOpts||l;for(const[p,g]of h)f[p]=g;return f}},976:a=>{a.exports=n}},r={};function i(a){var c=r[a];if(c!==void 0)return c.exports;var l=r[a]={exports:{}};return s[a](l,l.exports,i),l.exports}i.d=(a,c)=>{for(var l in c)i.o(c,l)&&!i.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:c[l]})},i.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{ToastComponent:()=>R,ToastPlugin:()=>U,ToastPositions:()=>w,default:()=>O,useToast:()=>V});var a=i(976);const c=(0,a.createElementVNode)("div",{class:"v-toast__icon"},null,-1),l=["innerHTML"];function h(A,N,x,j,X,J){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{"enter-active-class":A.transition.enter,"leave-active-class":A.transition.leave},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{ref:"root",role:"alert",class:(0,a.normalizeClass)(["v-toast__item",[`v-toast__item--${A.type}`,`v-toast__item--${A.position}`]]),onMouseover:N[0]||(N[0]=we=>A.toggleTimer(!0)),onMouseleave:N[1]||(N[1]=we=>A.toggleTimer(!1)),onClick:N[2]||(N[2]=function(){return A.whenClicked&&A.whenClicked(...arguments)})},[c,(0,a.createElementVNode)("p",{class:"v-toast__text",innerHTML:A.message},null,8,l)],34),[[a.vShow,A.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function f(A){var N;typeof A.remove<"u"?A.remove():(N=A.parentNode)==null||N.removeChild(A)}function p(A,N,x){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const X=(0,a.h)(A,N,j),J=document.createElement("div");return J.classList.add("v-toast--pending"),x.appendChild(J),(0,a.render)(X,J),X.component}class g{constructor(N,x){this.startedAt=Date.now(),this.callback=N,this.delay=x,this.timer=setTimeout(N,x)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const w=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function I(A){return{all:A=A||new Map,on:function(N,x){var j=A.get(N);j?j.push(x):A.set(N,[x])},off:function(N,x){var j=A.get(N);j&&(x?j.splice(j.indexOf(x)>>>0,1):A.set(N,[]))},emit:function(N,x){var j=A.get(N);j&&j.slice().map(function(X){X(x)}),(j=A.get("*"))&&j.slice().map(function(X){X(N,x)})}}}const b=I(),_=(0,a.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:w.BOTTOM_RIGHT,validator(A){return Object.values(w).includes(A)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),b.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const A=document.body;A.appendChild(this.parentTop),A.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const A=this.$refs.root;(0,a.render)(null,A),f(A)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const A=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),f(A),this.isActive=!0,this.duration&&(this.timer=new g(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(A){!this.pauseOnHover||!this.timer||(A?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case w.TOP:case w.TOP_RIGHT:case w.TOP_LEFT:return this.parentTop;case w.BOTTOM:case w.BOTTOM_RIGHT:case w.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case w.TOP:case w.TOP_RIGHT:case w.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case w.BOTTOM:case w.BOTTOM_RIGHT:case w.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){b.off("toast-clear",this.dismiss)}});var k=i(661);const R=(0,k.default)(_,[["render",h]]),V=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(N){let x=null;typeof N=="string"&&(x=N);const X=Object.assign({},{message:x},A,N);return{dismiss:p(R,X,document.body).ctx.dismiss}},clear(){b.emit("toast-clear")},success(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"success"},x))},error(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"error"},x))},info(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"info"},x))},warning(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"warning"},x))},default(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"default"},x))}}},U={install:function(A){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=V(N);A.config.globalProperties.$toast=x,A.provide("$toast",x)}},O=U})(),o})())})(r0);var O2=r0.exports;const N2=C2(O2);var R2={exports:{}},Rt="top",zt="bottom",Gt="right",kt="left",bu="auto",Zi=[Rt,zt,Gt,kt],Or="start",Li="end",i0="clippingParents",kp="viewport",si="popper",o0="reference",Rf=Zi.reduce(function(t,e){return t.concat([e+"-"+Or,e+"-"+Li])},[]),Dp=[].concat(Zi,[bu]).reduce(function(t,e){return t.concat([e,e+"-"+Or,e+"-"+Li])},[]),a0="beforeRead",c0="read",l0="afterRead",u0="beforeMain",h0="main",f0="afterMain",d0="beforeWrite",p0="write",g0="afterWrite",m0=[a0,c0,l0,u0,h0,f0,d0,p0,g0];function Mn(t){return t?(t.nodeName||"").toLowerCase():null}function Yt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Nr(t){var e=Yt(t).Element;return t instanceof e||t instanceof Element}function on(t){var e=Yt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Pp(t){if(typeof ShadowRoot>"u")return!1;var e=Yt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function k2(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},i=e.elements[n];!on(i)||!Mn(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(o){var a=r[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function D2(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],i=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=o.reduce(function(c,l){return c[l]="",c},{});!on(r)||!Mn(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(c){r.removeAttribute(c)}))})}}const Lp={name:"applyStyles",enabled:!0,phase:"write",fn:k2,effect:D2,requires:["computeStyles"]};function Dn(t){return t.split("-")[0]}var gr=Math.max,_l=Math.min,xi=Math.round;function kf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function y0(){return!/^((?!chrome|android).)*safari/i.test(kf())}function Mi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),r=1,i=1;e&&on(t)&&(r=t.offsetWidth>0&&xi(s.width)/t.offsetWidth||1,i=t.offsetHeight>0&&xi(s.height)/t.offsetHeight||1);var o=Nr(t)?Yt(t):window,a=o.visualViewport,c=!y0()&&n,l=(s.left+(c&&a?a.offsetLeft:0))/r,h=(s.top+(c&&a?a.offsetTop:0))/i,f=s.width/r,p=s.height/i;return{width:f,height:p,top:h,right:l+f,bottom:h+p,left:l,x:l,y:h}}function xp(t){var e=Mi(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function _0(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Pp(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function ss(t){return Yt(t).getComputedStyle(t)}function P2(t){return["table","td","th"].indexOf(Mn(t))>=0}function Hs(t){return((Nr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Iu(t){return Mn(t)==="html"?t:t.assignedSlot||t.parentNode||(Pp(t)?t.host:null)||Hs(t)}function h_(t){return!on(t)||ss(t).position==="fixed"?null:t.offsetParent}function L2(t){var e=/firefox/i.test(kf()),n=/Trident/i.test(kf());if(n&&on(t)){var s=ss(t);if(s.position==="fixed")return null}var r=Iu(t);for(Pp(r)&&(r=r.host);on(r)&&["html","body"].indexOf(Mn(r))<0;){var i=ss(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function ja(t){for(var e=Yt(t),n=h_(t);n&&P2(n)&&ss(n).position==="static";)n=h_(n);return n&&(Mn(n)==="html"||Mn(n)==="body"&&ss(n).position==="static")?e:n||L2(t)||e}function Mp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Mo(t,e,n){return gr(t,_l(e,n))}function x2(t,e,n){var s=Mo(t,e,n);return s>n?n:s}function v0(){return{top:0,right:0,bottom:0,left:0}}function E0(t){return Object.assign({},v0(),t)}function w0(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var M2=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,E0(typeof e!="number"?e:w0(e,Zi))};function $2(t){var e,n=t.state,s=t.name,r=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Dn(n.placement),c=Mp(a),l=[kt,Gt].indexOf(a)>=0,h=l?"height":"width";if(!(!i||!o)){var f=M2(r.padding,n),p=xp(i),g=c==="y"?Rt:kt,w=c==="y"?zt:Gt,I=n.rects.reference[h]+n.rects.reference[c]-o[c]-n.rects.popper[h],S=o[c]-n.rects.reference[c],b=ja(i),_=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,k=I/2-S/2,T=f[g],R=_-p[h]-f[w],V=_/2-p[h]/2+k,U=Mo(T,V,R),O=c;n.modifiersData[s]=(e={},e[O]=U,e.centerOffset=U-V,e)}}function F2(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||_0(e.elements.popper,r)&&(e.elements.arrow=r))}const T0={name:"arrow",enabled:!0,phase:"main",fn:$2,effect:F2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $i(t){return t.split("-")[1]}var V2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function U2(t,e){var n=t.x,s=t.y,r=e.devicePixelRatio||1;return{x:xi(n*r)/r||0,y:xi(s*r)/r||0}}function f_(t){var e,n=t.popper,s=t.popperRect,r=t.placement,i=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,h=t.roundOffsets,f=t.isFixed,p=o.x,g=p===void 0?0:p,w=o.y,I=w===void 0?0:w,S=typeof h=="function"?h({x:g,y:I}):{x:g,y:I};g=S.x,I=S.y;var b=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),k=kt,T=Rt,R=window;if(l){var V=ja(n),U="clientHeight",O="clientWidth";if(V===Yt(n)&&(V=Hs(n),ss(V).position!=="static"&&a==="absolute"&&(U="scrollHeight",O="scrollWidth")),V=V,r===Rt||(r===kt||r===Gt)&&i===Li){T=zt;var A=f&&V===R&&R.visualViewport?R.visualViewport.height:V[U];I-=A-s.height,I*=c?1:-1}if(r===kt||(r===Rt||r===zt)&&i===Li){k=Gt;var N=f&&V===R&&R.visualViewport?R.visualViewport.width:V[O];g-=N-s.width,g*=c?1:-1}}var x=Object.assign({position:a},l&&V2),j=h===!0?U2({x:g,y:I},Yt(n)):{x:g,y:I};if(g=j.x,I=j.y,c){var X;return Object.assign({},x,(X={},X[T]=_?"0":"",X[k]=b?"0":"",X.transform=(R.devicePixelRatio||1)<=1?"translate("+g+"px, "+I+"px)":"translate3d("+g+"px, "+I+"px, 0)",X))}return Object.assign({},x,(e={},e[T]=_?I+"px":"",e[k]=b?g+"px":"",e.transform="",e))}function B2(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Dn(e.placement),variation:$i(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,f_(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,f_(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $p={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:B2,data:{}};var Ac={passive:!0};function j2(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,i=r===void 0?!0:r,o=s.resize,a=o===void 0?!0:o,c=Yt(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach(function(h){h.addEventListener("scroll",n.update,Ac)}),a&&c.addEventListener("resize",n.update,Ac),function(){i&&l.forEach(function(h){h.removeEventListener("scroll",n.update,Ac)}),a&&c.removeEventListener("resize",n.update,Ac)}}const Fp={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:j2,data:{}};var H2={left:"right",right:"left",bottom:"top",top:"bottom"};function $c(t){return t.replace(/left|right|bottom|top/g,function(e){return H2[e]})}var q2={start:"end",end:"start"};function d_(t){return t.replace(/start|end/g,function(e){return q2[e]})}function Vp(t){var e=Yt(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Up(t){return Mi(Hs(t)).left+Vp(t).scrollLeft}function K2(t,e){var n=Yt(t),s=Hs(t),r=n.visualViewport,i=s.clientWidth,o=s.clientHeight,a=0,c=0;if(r){i=r.width,o=r.height;var l=y0();(l||!l&&e==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:a+Up(t),y:c}}function W2(t){var e,n=Hs(t),s=Vp(t),r=(e=t.ownerDocument)==null?void 0:e.body,i=gr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=gr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+Up(t),c=-s.scrollTop;return ss(r||n).direction==="rtl"&&(a+=gr(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}function Bp(t){var e=ss(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function b0(t){return["html","body","#document"].indexOf(Mn(t))>=0?t.ownerDocument.body:on(t)&&Bp(t)?t:b0(Iu(t))}function $o(t,e){var n;e===void 0&&(e=[]);var s=b0(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=Yt(s),o=r?[i].concat(i.visualViewport||[],Bp(s)?s:[]):s,a=e.concat(o);return r?a:a.concat($o(Iu(o)))}function Df(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function z2(t,e){var n=Mi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function p_(t,e,n){return e===kp?Df(K2(t,n)):Nr(e)?z2(e,n):Df(W2(Hs(t)))}function G2(t){var e=$o(Iu(t)),n=["absolute","fixed"].indexOf(ss(t).position)>=0,s=n&&on(t)?ja(t):t;return Nr(s)?e.filter(function(r){return Nr(r)&&_0(r,s)&&Mn(r)!=="body"}):[]}function Y2(t,e,n,s){var r=e==="clippingParents"?G2(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(c,l){var h=p_(t,l,s);return c.top=gr(h.top,c.top),c.right=_l(h.right,c.right),c.bottom=_l(h.bottom,c.bottom),c.left=gr(h.left,c.left),c},p_(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function I0(t){var e=t.reference,n=t.element,s=t.placement,r=s?Dn(s):null,i=s?$i(s):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(r){case Rt:c={x:o,y:e.y-n.height};break;case zt:c={x:o,y:e.y+e.height};break;case Gt:c={x:e.x+e.width,y:a};break;case kt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=r?Mp(r):null;if(l!=null){var h=l==="y"?"height":"width";switch(i){case Or:c[l]=c[l]-(e[h]/2-n[h]/2);break;case Li:c[l]=c[l]+(e[h]/2-n[h]/2);break}}return c}function Fi(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,c=a===void 0?i0:a,l=n.rootBoundary,h=l===void 0?kp:l,f=n.elementContext,p=f===void 0?si:f,g=n.altBoundary,w=g===void 0?!1:g,I=n.padding,S=I===void 0?0:I,b=E0(typeof S!="number"?S:w0(S,Zi)),_=p===si?o0:si,k=t.rects.popper,T=t.elements[w?_:p],R=Y2(Nr(T)?T:T.contextElement||Hs(t.elements.popper),c,h,o),V=Mi(t.elements.reference),U=I0({reference:V,element:k,strategy:"absolute",placement:r}),O=Df(Object.assign({},k,U)),A=p===si?O:V,N={top:R.top-A.top+b.top,bottom:A.bottom-R.bottom+b.bottom,left:R.left-A.left+b.left,right:A.right-R.right+b.right},x=t.modifiersData.offset;if(p===si&&x){var j=x[r];Object.keys(N).forEach(function(X){var J=[Gt,zt].indexOf(X)>=0?1:-1,we=[Rt,zt].indexOf(X)>=0?"y":"x";N[X]+=j[we]*J})}return N}function Q2(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Dp:c,h=$i(s),f=h?a?Rf:Rf.filter(function(w){return $i(w)===h}):Zi,p=f.filter(function(w){return l.indexOf(w)>=0});p.length===0&&(p=f);var g=p.reduce(function(w,I){return w[I]=Fi(t,{placement:I,boundary:r,rootBoundary:i,padding:o})[Dn(I)],w},{});return Object.keys(g).sort(function(w,I){return g[w]-g[I]})}function X2(t){if(Dn(t)===bu)return[];var e=$c(t);return[d_(t),e,d_(e)]}function J2(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,c=n.fallbackPlacements,l=n.padding,h=n.boundary,f=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,w=g===void 0?!0:g,I=n.allowedAutoPlacements,S=e.options.placement,b=Dn(S),_=b===S,k=c||(_||!w?[$c(S)]:X2(S)),T=[S].concat(k).reduce(function(Ct,ft){return Ct.concat(Dn(ft)===bu?Q2(e,{placement:ft,boundary:h,rootBoundary:f,padding:l,flipVariations:w,allowedAutoPlacements:I}):ft)},[]),R=e.rects.reference,V=e.rects.popper,U=new Map,O=!0,A=T[0],N=0;N<T.length;N++){var x=T[N],j=Dn(x),X=$i(x)===Or,J=[Rt,zt].indexOf(j)>=0,we=J?"width":"height",ie=Fi(e,{placement:x,boundary:h,rootBoundary:f,altBoundary:p,padding:l}),fe=J?X?Gt:kt:X?zt:Rt;R[we]>V[we]&&(fe=$c(fe));var Te=$c(fe),ze=[];if(i&&ze.push(ie[j]<=0),a&&ze.push(ie[fe]<=0,ie[Te]<=0),ze.every(function(Ct){return Ct})){A=x,O=!1;break}U.set(x,ze)}if(O)for(var At=w?3:1,ot=function(ft){var Fe=T.find(function(M){var Z=U.get(M);if(Z)return Z.slice(0,ft).every(function(Y){return Y})});if(Fe)return A=Fe,"break"},He=At;He>0;He--){var Vt=ot(He);if(Vt==="break")break}e.placement!==A&&(e.modifiersData[s]._skip=!0,e.placement=A,e.reset=!0)}}const A0={name:"flip",enabled:!0,phase:"main",fn:J2,requiresIfExists:["offset"],data:{_skip:!1}};function g_(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function m_(t){return[Rt,Gt,zt,kt].some(function(e){return t[e]>=0})}function Z2(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,o=Fi(e,{elementContext:"reference"}),a=Fi(e,{altBoundary:!0}),c=g_(o,s),l=g_(a,r,i),h=m_(c),f=m_(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:h,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const C0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Z2};function eB(t,e,n){var s=Dn(t),r=[kt,Rt].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*r,[kt,Gt].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function tB(t){var e=t.state,n=t.options,s=t.name,r=n.offset,i=r===void 0?[0,0]:r,o=Dp.reduce(function(h,f){return h[f]=eB(f,e.rects,i),h},{}),a=o[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[s]=o}const S0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tB};function nB(t){var e=t.state,n=t.name;e.modifiersData[n]=I0({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const jp={name:"popperOffsets",enabled:!0,phase:"read",fn:nB,data:{}};function sB(t){return t==="x"?"y":"x"}function rB(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,c=n.boundary,l=n.rootBoundary,h=n.altBoundary,f=n.padding,p=n.tether,g=p===void 0?!0:p,w=n.tetherOffset,I=w===void 0?0:w,S=Fi(e,{boundary:c,rootBoundary:l,padding:f,altBoundary:h}),b=Dn(e.placement),_=$i(e.placement),k=!_,T=Mp(b),R=sB(T),V=e.modifiersData.popperOffsets,U=e.rects.reference,O=e.rects.popper,A=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,N=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(V){if(i){var X,J=T==="y"?Rt:kt,we=T==="y"?zt:Gt,ie=T==="y"?"height":"width",fe=V[T],Te=fe+S[J],ze=fe-S[we],At=g?-O[ie]/2:0,ot=_===Or?U[ie]:O[ie],He=_===Or?-O[ie]:-U[ie],Vt=e.elements.arrow,Ct=g&&Vt?xp(Vt):{width:0,height:0},ft=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:v0(),Fe=ft[J],M=ft[we],Z=Mo(0,U[ie],Ct[ie]),Y=k?U[ie]/2-At-Z-Fe-N.mainAxis:ot-Z-Fe-N.mainAxis,oe=k?-U[ie]/2+At+Z+M+N.mainAxis:He+Z+M+N.mainAxis,P=e.elements.arrow&&ja(e.elements.arrow),m=P?T==="y"?P.clientTop||0:P.clientLeft||0:0,E=(X=x==null?void 0:x[T])!=null?X:0,C=fe+Y-E-m,L=fe+oe-E,F=Mo(g?_l(Te,C):Te,fe,g?gr(ze,L):ze);V[T]=F,j[T]=F-fe}if(a){var q,G=T==="x"?Rt:kt,W=T==="x"?zt:Gt,D=V[R],H=R==="y"?"height":"width",le=D+S[G],re=D-S[W],ae=[Rt,kt].indexOf(b)!==-1,he=(q=x==null?void 0:x[R])!=null?q:0,ve=ae?le:D-U[H]-O[H]-he+N.altAxis,Ne=ae?D+U[H]+O[H]-he-N.altAxis:re,Ce=g&&ae?x2(ve,D,Ne):Mo(g?ve:le,D,g?Ne:re);V[R]=Ce,j[R]=Ce-D}e.modifiersData[s]=j}}const O0={name:"preventOverflow",enabled:!0,phase:"main",fn:rB,requiresIfExists:["offset"]};function iB(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function oB(t){return t===Yt(t)||!on(t)?Vp(t):iB(t)}function aB(t){var e=t.getBoundingClientRect(),n=xi(e.width)/t.offsetWidth||1,s=xi(e.height)/t.offsetHeight||1;return n!==1||s!==1}function cB(t,e,n){n===void 0&&(n=!1);var s=on(e),r=on(e)&&aB(e),i=Hs(e),o=Mi(t,r,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((Mn(e)!=="body"||Bp(i))&&(a=oB(e)),on(e)?(c=Mi(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=Up(i))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function lB(t){var e=new Map,n=new Set,s=[];t.forEach(function(i){e.set(i.name,i)});function r(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&r(c)}}),s.push(i)}return t.forEach(function(i){n.has(i.name)||r(i)}),s}function uB(t){var e=lB(t);return m0.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function hB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function fB(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var y_={placement:"bottom",modifiers:[],strategy:"absolute"};function __(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Au(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,i=r===void 0?y_:r;return function(a,c,l){l===void 0&&(l=i);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},y_,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],p=!1,g={state:h,setOptions:function(b){var _=typeof b=="function"?b(h.options):b;I(),h.options=Object.assign({},i,h.options,_),h.scrollParents={reference:Nr(a)?$o(a):a.contextElement?$o(a.contextElement):[],popper:$o(c)};var k=uB(fB([].concat(s,h.options.modifiers)));return h.orderedModifiers=k.filter(function(T){return T.enabled}),w(),g.update()},forceUpdate:function(){if(!p){var b=h.elements,_=b.reference,k=b.popper;if(__(_,k)){h.rects={reference:cB(_,ja(k),h.options.strategy==="fixed"),popper:xp(k)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(N){return h.modifiersData[N.name]=Object.assign({},N.data)});for(var T=0;T<h.orderedModifiers.length;T++){if(h.reset===!0){h.reset=!1,T=-1;continue}var R=h.orderedModifiers[T],V=R.fn,U=R.options,O=U===void 0?{}:U,A=R.name;typeof V=="function"&&(h=V({state:h,options:O,name:A,instance:g})||h)}}}},update:hB(function(){return new Promise(function(S){g.forceUpdate(),S(h)})}),destroy:function(){I(),p=!0}};if(!__(a,c))return g;g.setOptions(l).then(function(S){!p&&l.onFirstUpdate&&l.onFirstUpdate(S)});function w(){h.orderedModifiers.forEach(function(S){var b=S.name,_=S.options,k=_===void 0?{}:_,T=S.effect;if(typeof T=="function"){var R=T({state:h,name:b,instance:g,options:k}),V=function(){};f.push(R||V)}})}function I(){f.forEach(function(S){return S()}),f=[]}return g}}var dB=Au(),pB=[Fp,jp,$p,Lp],gB=Au({defaultModifiers:pB}),mB=[Fp,jp,$p,Lp,S0,A0,O0,T0,C0],yB=Au({defaultModifiers:mB});const _B=Object.freeze(Object.defineProperty({__proto__:null,afterMain:f0,afterRead:l0,afterWrite:g0,applyStyles:Lp,arrow:T0,auto:bu,basePlacements:Zi,beforeMain:u0,beforeRead:a0,beforeWrite:d0,bottom:zt,clippingParents:i0,computeStyles:$p,createPopper:yB,createPopperBase:dB,createPopperLite:gB,detectOverflow:Fi,end:Li,eventListeners:Fp,flip:A0,hide:C0,left:kt,main:h0,modifierPhases:m0,offset:S0,placements:Dp,popper:si,popperGenerator:Au,popperOffsets:jp,preventOverflow:O0,read:c0,reference:o0,right:Gt,start:Or,top:Rt,variationPlacements:Rf,viewport:kp,write:p0},Symbol.toStringTag,{value:"Module"})),vB=s0(_B);/*!
  * Bootstrap v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,s){t.exports=s(vB)})(n0,function(n){function s(y){const u=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(y){for(const d in y)if(d!=="default"){const v=Object.getOwnPropertyDescriptor(y,d);Object.defineProperty(u,d,v.get?v:{enumerable:!0,get:()=>y[d]})}}return u.default=y,Object.freeze(u)}const r=s(n),i=new Map,o={set(y,u,d){i.has(y)||i.set(y,new Map);const v=i.get(y);if(!v.has(u)&&v.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`);return}v.set(u,d)},get(y,u){return i.has(y)&&i.get(y).get(u)||null},remove(y,u){if(!i.has(y))return;const d=i.get(y);d.delete(u),d.size===0&&i.delete(y)}},a=1e6,c=1e3,l="transitionend",h=y=>(y&&window.CSS&&window.CSS.escape&&(y=y.replace(/#([^\s"#']+)/g,(u,d)=>`#${CSS.escape(d)}`)),y),f=y=>y==null?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase(),p=y=>{do y+=Math.floor(Math.random()*a);while(document.getElementById(y));return y},g=y=>{if(!y)return 0;let{transitionDuration:u,transitionDelay:d}=window.getComputedStyle(y);const v=Number.parseFloat(u),$=Number.parseFloat(d);return!v&&!$?0:(u=u.split(",")[0],d=d.split(",")[0],(Number.parseFloat(u)+Number.parseFloat(d))*c)},w=y=>{y.dispatchEvent(new Event(l))},I=y=>!y||typeof y!="object"?!1:(typeof y.jquery<"u"&&(y=y[0]),typeof y.nodeType<"u"),S=y=>I(y)?y.jquery?y[0]:y:typeof y=="string"&&y.length>0?document.querySelector(h(y)):null,b=y=>{if(!I(y)||y.getClientRects().length===0)return!1;const u=getComputedStyle(y).getPropertyValue("visibility")==="visible",d=y.closest("details:not([open])");if(!d)return u;if(d!==y){const v=y.closest("summary");if(v&&v.parentNode!==d||v===null)return!1}return u},_=y=>!y||y.nodeType!==Node.ELEMENT_NODE||y.classList.contains("disabled")?!0:typeof y.disabled<"u"?y.disabled:y.hasAttribute("disabled")&&y.getAttribute("disabled")!=="false",k=y=>{if(!document.documentElement.attachShadow)return null;if(typeof y.getRootNode=="function"){const u=y.getRootNode();return u instanceof ShadowRoot?u:null}return y instanceof ShadowRoot?y:y.parentNode?k(y.parentNode):null},T=()=>{},R=y=>{y.offsetHeight},V=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,U=[],O=y=>{document.readyState==="loading"?(U.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of U)u()}),U.push(y)):y()},A=()=>document.documentElement.dir==="rtl",N=y=>{O(()=>{const u=V();if(u){const d=y.NAME,v=u.fn[d];u.fn[d]=y.jQueryInterface,u.fn[d].Constructor=y,u.fn[d].noConflict=()=>(u.fn[d]=v,y.jQueryInterface)}})},x=(y,u=[],d=y)=>typeof y=="function"?y(...u):d,j=(y,u,d=!0)=>{if(!d){x(y);return}const v=5,$=g(u)+v;let Q=!1;const z=({target:Ee})=>{Ee===u&&(Q=!0,u.removeEventListener(l,z),x(y))};u.addEventListener(l,z),setTimeout(()=>{Q||w(u)},$)},X=(y,u,d,v)=>{const $=y.length;let Q=y.indexOf(u);return Q===-1?!d&&v?y[$-1]:y[0]:(Q+=d?1:-1,v&&(Q=(Q+$)%$),y[Math.max(0,Math.min(Q,$-1))])},J=/[^.]*(?=\..*)\.|.*/,we=/\..*/,ie=/::\d+$/,fe={};let Te=1;const ze={mouseenter:"mouseover",mouseleave:"mouseout"},At=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ot(y,u){return u&&`${u}::${Te++}`||y.uidEvent||Te++}function He(y){const u=ot(y);return y.uidEvent=u,fe[u]=fe[u]||{},fe[u]}function Vt(y,u){return function d(v){return m(v,{delegateTarget:y}),d.oneOff&&P.off(y,v.type,u),u.apply(y,[v])}}function Ct(y,u,d){return function v($){const Q=y.querySelectorAll(u);for(let{target:z}=$;z&&z!==this;z=z.parentNode)for(const Ee of Q)if(Ee===z)return m($,{delegateTarget:z}),v.oneOff&&P.off(y,$.type,u,d),d.apply(z,[$])}}function ft(y,u,d=null){return Object.values(y).find(v=>v.callable===u&&v.delegationSelector===d)}function Fe(y,u,d){const v=typeof u=="string",$=v?d:u||d;let Q=oe(y);return At.has(Q)||(Q=y),[v,$,Q]}function M(y,u,d,v,$){if(typeof u!="string"||!y)return;let[Q,z,Ee]=Fe(u,d,v);u in ze&&(z=(aS=>function(Yr){if(!Yr.relatedTarget||Yr.relatedTarget!==Yr.delegateTarget&&!Yr.delegateTarget.contains(Yr.relatedTarget))return aS.call(this,Yr)})(z));const Dt=He(y),Jt=Dt[Ee]||(Dt[Ee]={}),tt=ft(Jt,z,Q?d:null);if(tt){tt.oneOff=tt.oneOff&&$;return}const Tn=ot(z,u.replace(J,"")),cn=Q?Ct(y,d,z):Vt(y,z);cn.delegationSelector=Q?d:null,cn.callable=z,cn.oneOff=$,cn.uidEvent=Tn,Jt[Tn]=cn,y.addEventListener(Ee,cn,Q)}function Z(y,u,d,v,$){const Q=ft(u[d],v,$);Q&&(y.removeEventListener(d,Q,!!$),delete u[d][Q.uidEvent])}function Y(y,u,d,v){const $=u[d]||{};for(const[Q,z]of Object.entries($))Q.includes(v)&&Z(y,u,d,z.callable,z.delegationSelector)}function oe(y){return y=y.replace(we,""),ze[y]||y}const P={on(y,u,d,v){M(y,u,d,v,!1)},one(y,u,d,v){M(y,u,d,v,!0)},off(y,u,d,v){if(typeof u!="string"||!y)return;const[$,Q,z]=Fe(u,d,v),Ee=z!==u,Dt=He(y),Jt=Dt[z]||{},tt=u.startsWith(".");if(typeof Q<"u"){if(!Object.keys(Jt).length)return;Z(y,Dt,z,Q,$?d:null);return}if(tt)for(const Tn of Object.keys(Dt))Y(y,Dt,Tn,u.slice(1));for(const[Tn,cn]of Object.entries(Jt)){const nc=Tn.replace(ie,"");(!Ee||u.includes(nc))&&Z(y,Dt,z,cn.callable,cn.delegationSelector)}},trigger(y,u,d){if(typeof u!="string"||!y)return null;const v=V(),$=oe(u),Q=u!==$;let z=null,Ee=!0,Dt=!0,Jt=!1;Q&&v&&(z=v.Event(u,d),v(y).trigger(z),Ee=!z.isPropagationStopped(),Dt=!z.isImmediatePropagationStopped(),Jt=z.isDefaultPrevented());const tt=m(new Event(u,{bubbles:Ee,cancelable:!0}),d);return Jt&&tt.preventDefault(),Dt&&y.dispatchEvent(tt),tt.defaultPrevented&&z&&z.preventDefault(),tt}};function m(y,u={}){for(const[d,v]of Object.entries(u))try{y[d]=v}catch{Object.defineProperty(y,d,{configurable:!0,get(){return v}})}return y}function E(y){if(y==="true")return!0;if(y==="false")return!1;if(y===Number(y).toString())return Number(y);if(y===""||y==="null")return null;if(typeof y!="string")return y;try{return JSON.parse(decodeURIComponent(y))}catch{return y}}function C(y){return y.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const L={setDataAttribute(y,u,d){y.setAttribute(`data-bs-${C(u)}`,d)},removeDataAttribute(y,u){y.removeAttribute(`data-bs-${C(u)}`)},getDataAttributes(y){if(!y)return{};const u={},d=Object.keys(y.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of d){let $=v.replace(/^bs/,"");$=$.charAt(0).toLowerCase()+$.slice(1,$.length),u[$]=E(y.dataset[v])}return u},getDataAttribute(y,u){return E(y.getAttribute(`data-bs-${C(u)}`))}};class F{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,d){const v=I(d)?L.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...I(d)?L.getDataAttributes(d):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,d=this.constructor.DefaultType){for(const[v,$]of Object.entries(d)){const Q=u[v],z=I(Q)?"element":f(Q);if(!new RegExp($).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${z}" but expected type "${$}".`)}}}const q="5.3.0";class G extends F{constructor(u,d){super(),u=S(u),u&&(this._element=u,this._config=this._getConfig(d),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,d,v=!0){j(u,d,v)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return o.get(S(u),this.DATA_KEY)}static getOrCreateInstance(u,d={}){return this.getInstance(u)||new this(u,typeof d=="object"?d:null)}static get VERSION(){return q}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const W=y=>{let u=y.getAttribute("data-bs-target");if(!u||u==="#"){let d=y.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),u=d&&d!=="#"?d.trim():null}return h(u)},D={find(y,u=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(u,y))},findOne(y,u=document.documentElement){return Element.prototype.querySelector.call(u,y)},children(y,u){return[].concat(...y.children).filter(d=>d.matches(u))},parents(y,u){const d=[];let v=y.parentNode.closest(u);for(;v;)d.push(v),v=v.parentNode.closest(u);return d},prev(y,u){let d=y.previousElementSibling;for(;d;){if(d.matches(u))return[d];d=d.previousElementSibling}return[]},next(y,u){let d=y.nextElementSibling;for(;d;){if(d.matches(u))return[d];d=d.nextElementSibling}return[]},focusableChildren(y){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(u,y).filter(d=>!_(d)&&b(d))},getSelectorFromElement(y){const u=W(y);return u&&D.findOne(u)?u:null},getElementFromSelector(y){const u=W(y);return u?D.findOne(u):null},getMultipleElementsFromSelector(y){const u=W(y);return u?D.find(u):[]}},H=(y,u="hide")=>{const d=`click.dismiss${y.EVENT_KEY}`,v=y.NAME;P.on(document,d,`[data-bs-dismiss="${v}"]`,function($){if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),_(this))return;const Q=D.getElementFromSelector(this)||this.closest(`.${v}`);y.getOrCreateInstance(Q)[u]()})},le="alert",ae=".bs.alert",he=`close${ae}`,ve=`closed${ae}`,Ne="fade",Ce="show";class Me extends G{static get NAME(){return le}close(){if(P.trigger(this._element,he).defaultPrevented)return;this._element.classList.remove(Ce);const d=this._element.classList.contains(Ne);this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),P.trigger(this._element,ve),this.dispose()}static jQueryInterface(u){return this.each(function(){const d=Me.getOrCreateInstance(this);if(typeof u=="string"){if(d[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);d[u](this)}})}}H(Me,"close"),N(Me);const Ut="button",Ha=".bs.button",Ks=".data-api",qa="active",dt='[data-bs-toggle="button"]',Qt=`click${Ha}${Ks}`;class os extends G{static get NAME(){return Ut}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(qa))}static jQueryInterface(u){return this.each(function(){const d=os.getOrCreateInstance(this);u==="toggle"&&d[u]()})}}P.on(document,Qt,dt,y=>{y.preventDefault();const u=y.target.closest(dt);os.getOrCreateInstance(u).toggle()}),N(os);const R0="swipe",Br=".bs.swipe",k0=`touchstart${Br}`,D0=`touchmove${Br}`,P0=`touchend${Br}`,L0=`pointerdown${Br}`,x0=`pointerup${Br}`,M0="touch",$0="pen",F0="pointer-event",V0=40,U0={endCallback:null,leftCallback:null,rightCallback:null},B0={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ka extends F{constructor(u,d){super(),this._element=u,!(!u||!Ka.isSupported())&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return U0}static get DefaultType(){return B0}static get NAME(){return R0}dispose(){P.off(this._element,Br)}_start(u){if(!this._supportPointerEvents){this._deltaX=u.touches[0].clientX;return}this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX)}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),x(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=V0)return;const d=u/this._deltaX;this._deltaX=0,d&&x(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,L0,u=>this._start(u)),P.on(this._element,x0,u=>this._end(u)),this._element.classList.add(F0)):(P.on(this._element,k0,u=>this._start(u)),P.on(this._element,D0,u=>this._move(u)),P.on(this._element,P0,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType===$0||u.pointerType===M0)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const j0="carousel",as=".bs.carousel",qp=".data-api",H0="ArrowLeft",q0="ArrowRight",K0=500,eo="next",jr="prev",Hr="left",Wa="right",W0=`slide${as}`,Su=`slid${as}`,z0=`keydown${as}`,G0=`mouseenter${as}`,Y0=`mouseleave${as}`,Q0=`dragstart${as}`,X0=`load${as}${qp}`,J0=`click${as}${qp}`,Kp="carousel",za="active",Z0="slide",eI="carousel-item-end",tI="carousel-item-start",nI="carousel-item-next",sI="carousel-item-prev",Wp=".active",zp=".carousel-item",rI=Wp+zp,iI=".carousel-item img",oI=".carousel-indicators",aI="[data-bs-slide], [data-bs-slide-to]",cI='[data-bs-ride="carousel"]',lI={[H0]:Wa,[q0]:Hr},uI={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},hI={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class qr extends G{constructor(u,d){super(u,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=D.findOne(oI,this._element),this._addEventListeners(),this._config.ride===Kp&&this.cycle()}static get Default(){return uI}static get DefaultType(){return hI}static get NAME(){return j0}next(){this._slide(eo)}nextWhenVisible(){!document.hidden&&b(this._element)&&this.next()}prev(){this._slide(jr)}pause(){this._isSliding&&w(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){P.one(this._element,Su,()=>this.cycle());return}this.cycle()}}to(u){const d=this._getItems();if(u>d.length-1||u<0)return;if(this._isSliding){P.one(this._element,Su,()=>this.to(u));return}const v=this._getItemIndex(this._getActive());if(v===u)return;const $=u>v?eo:jr;this._slide($,d[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&P.on(this._element,z0,u=>this._keydown(u)),this._config.pause==="hover"&&(P.on(this._element,G0,()=>this.pause()),P.on(this._element,Y0,()=>this._maybeEnableCycle())),this._config.touch&&Ka.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of D.find(iI,this._element))P.on(v,Q0,$=>$.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Hr)),rightCallback:()=>this._slide(this._directionToOrder(Wa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),K0+this._config.interval))}};this._swipeHelper=new Ka(this._element,d)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const d=lI[u.key];d&&(u.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const d=D.findOne(Wp,this._indicatorsElement);d.classList.remove(za),d.removeAttribute("aria-current");const v=D.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);v&&(v.classList.add(za),v.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const d=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(u,d=null){if(this._isSliding)return;const v=this._getActive(),$=u===eo,Q=d||X(this._getItems(),v,$,this._config.wrap);if(Q===v)return;const z=this._getItemIndex(Q),Ee=nc=>P.trigger(this._element,nc,{relatedTarget:Q,direction:this._orderToDirection(u),from:this._getItemIndex(v),to:z});if(Ee(W0).defaultPrevented||!v||!Q)return;const Jt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=Q;const tt=$?tI:eI,Tn=$?nI:sI;Q.classList.add(Tn),R(Q),v.classList.add(tt),Q.classList.add(tt);const cn=()=>{Q.classList.remove(tt,Tn),Q.classList.add(za),v.classList.remove(za,Tn,tt),this._isSliding=!1,Ee(Su)};this._queueCallback(cn,v,this._isAnimated()),Jt&&this.cycle()}_isAnimated(){return this._element.classList.contains(Z0)}_getActive(){return D.findOne(rI,this._element)}_getItems(){return D.find(zp,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return A()?u===Hr?jr:eo:u===Hr?eo:jr}_orderToDirection(u){return A()?u===jr?Hr:Wa:u===jr?Wa:Hr}static jQueryInterface(u){return this.each(function(){const d=qr.getOrCreateInstance(this,u);if(typeof u=="number"){d.to(u);return}if(typeof u=="string"){if(d[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);d[u]()}})}}P.on(document,J0,aI,function(y){const u=D.getElementFromSelector(this);if(!u||!u.classList.contains(Kp))return;y.preventDefault();const d=qr.getOrCreateInstance(u),v=this.getAttribute("data-bs-slide-to");if(v){d.to(v),d._maybeEnableCycle();return}if(L.getDataAttribute(this,"slide")==="next"){d.next(),d._maybeEnableCycle();return}d.prev(),d._maybeEnableCycle()}),P.on(window,X0,()=>{const y=D.find(cI);for(const u of y)qr.getOrCreateInstance(u)}),N(qr);const fI="collapse",to=".bs.collapse",dI=".data-api",pI=`show${to}`,gI=`shown${to}`,mI=`hide${to}`,yI=`hidden${to}`,_I=`click${to}${dI}`,Ou="show",Kr="collapse",Ga="collapsing",vI="collapsed",EI=`:scope .${Kr} .${Kr}`,wI="collapse-horizontal",TI="width",bI="height",II=".collapse.show, .collapse.collapsing",Nu='[data-bs-toggle="collapse"]',AI={parent:null,toggle:!0},CI={parent:"(null|element)",toggle:"boolean"};class Wr extends G{constructor(u,d){super(u,d),this._isTransitioning=!1,this._triggerArray=[];const v=D.find(Nu);for(const $ of v){const Q=D.getSelectorFromElement($),z=D.find(Q).filter(Ee=>Ee===this._element);Q!==null&&z.length&&this._triggerArray.push($)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return AI}static get DefaultType(){return CI}static get NAME(){return fI}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(II).filter(Ee=>Ee!==this._element).map(Ee=>Wr.getOrCreateInstance(Ee,{toggle:!1}))),u.length&&u[0]._isTransitioning||P.trigger(this._element,pI).defaultPrevented)return;for(const Ee of u)Ee.hide();const v=this._getDimension();this._element.classList.remove(Kr),this._element.classList.add(Ga),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const $=()=>{this._isTransitioning=!1,this._element.classList.remove(Ga),this._element.classList.add(Kr,Ou),this._element.style[v]="",P.trigger(this._element,gI)},z=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback($,this._element,!0),this._element.style[v]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||P.trigger(this._element,mI).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,R(this._element),this._element.classList.add(Ga),this._element.classList.remove(Kr,Ou);for(const $ of this._triggerArray){const Q=D.getElementFromSelector($);Q&&!this._isShown(Q)&&this._addAriaAndCollapsedClass([$],!1)}this._isTransitioning=!0;const v=()=>{this._isTransitioning=!1,this._element.classList.remove(Ga),this._element.classList.add(Kr),P.trigger(this._element,yI)};this._element.style[d]="",this._queueCallback(v,this._element,!0)}_isShown(u=this._element){return u.classList.contains(Ou)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=S(u.parent),u}_getDimension(){return this._element.classList.contains(wI)?TI:bI}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(Nu);for(const d of u){const v=D.getElementFromSelector(d);v&&this._addAriaAndCollapsedClass([d],this._isShown(v))}}_getFirstLevelChildren(u){const d=D.find(EI,this._config.parent);return D.find(u,this._config.parent).filter(v=>!d.includes(v))}_addAriaAndCollapsedClass(u,d){if(u.length)for(const v of u)v.classList.toggle(vI,!d),v.setAttribute("aria-expanded",d)}static jQueryInterface(u){const d={};return typeof u=="string"&&/show|hide/.test(u)&&(d.toggle=!1),this.each(function(){const v=Wr.getOrCreateInstance(this,d);if(typeof u=="string"){if(typeof v[u]>"u")throw new TypeError(`No method named "${u}"`);v[u]()}})}}P.on(document,_I,Nu,function(y){(y.target.tagName==="A"||y.delegateTarget&&y.delegateTarget.tagName==="A")&&y.preventDefault();for(const u of D.getMultipleElementsFromSelector(this))Wr.getOrCreateInstance(u,{toggle:!1}).toggle()}),N(Wr);const Gp="dropdown",Ws=".bs.dropdown",Ru=".data-api",SI="Escape",Yp="Tab",OI="ArrowUp",Qp="ArrowDown",NI=2,RI=`hide${Ws}`,kI=`hidden${Ws}`,DI=`show${Ws}`,PI=`shown${Ws}`,Xp=`click${Ws}${Ru}`,Jp=`keydown${Ws}${Ru}`,LI=`keyup${Ws}${Ru}`,zr="show",xI="dropup",MI="dropend",$I="dropstart",FI="dropup-center",VI="dropdown-center",zs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',UI=`${zs}.${zr}`,Ya=".dropdown-menu",BI=".navbar",jI=".navbar-nav",HI=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",qI=A()?"top-end":"top-start",KI=A()?"top-start":"top-end",WI=A()?"bottom-end":"bottom-start",zI=A()?"bottom-start":"bottom-end",GI=A()?"left-start":"right-start",YI=A()?"right-start":"left-start",QI="top",XI="bottom",JI={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ZI={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class an extends G{constructor(u,d){super(u,d),this._popper=null,this._parent=this._element.parentNode,this._menu=D.next(this._element,Ya)[0]||D.prev(this._element,Ya)[0]||D.findOne(Ya,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return JI}static get DefaultType(){return ZI}static get NAME(){return Gp}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!P.trigger(this._element,DI,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(jI))for(const v of[].concat(...document.body.children))P.on(v,"mouseover",T);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zr),this._element.classList.add(zr),P.trigger(this._element,PI,u)}}hide(){if(_(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!P.trigger(this._element,RI,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))P.off(v,"mouseover",T);this._popper&&this._popper.destroy(),this._menu.classList.remove(zr),this._element.classList.remove(zr),this._element.setAttribute("aria-expanded","false"),L.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,kI,u)}}_getConfig(u){if(u=super._getConfig(u),typeof u.reference=="object"&&!I(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${Gp.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof r>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;this._config.reference==="parent"?u=this._parent:I(this._config.reference)?u=S(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const d=this._getPopperConfig();this._popper=r.createPopper(u,this._menu,d)}_isShown(){return this._menu.classList.contains(zr)}_getPlacement(){const u=this._parent;if(u.classList.contains(MI))return GI;if(u.classList.contains($I))return YI;if(u.classList.contains(FI))return QI;if(u.classList.contains(VI))return XI;const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains(xI)?d?KI:qI:d?zI:WI}_detectNavbar(){return this._element.closest(BI)!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(d=>Number.parseInt(d,10)):typeof u=="function"?d=>u(d,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(L.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...x(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:d}){const v=D.find(HI,this._menu).filter($=>b($));v.length&&X(v,d,u===Qp,!v.includes(d)).focus()}static jQueryInterface(u){return this.each(function(){const d=an.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof d[u]>"u")throw new TypeError(`No method named "${u}"`);d[u]()}})}static clearMenus(u){if(u.button===NI||u.type==="keyup"&&u.key!==Yp)return;const d=D.find(UI);for(const v of d){const $=an.getInstance(v);if(!$||$._config.autoClose===!1)continue;const Q=u.composedPath(),z=Q.includes($._menu);if(Q.includes($._element)||$._config.autoClose==="inside"&&!z||$._config.autoClose==="outside"&&z||$._menu.contains(u.target)&&(u.type==="keyup"&&u.key===Yp||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const Ee={relatedTarget:$._element};u.type==="click"&&(Ee.clickEvent=u),$._completeHide(Ee)}}static dataApiKeydownHandler(u){const d=/input|textarea/i.test(u.target.tagName),v=u.key===SI,$=[OI,Qp].includes(u.key);if(!$&&!v||d&&!v)return;u.preventDefault();const Q=this.matches(zs)?this:D.prev(this,zs)[0]||D.next(this,zs)[0]||D.findOne(zs,u.delegateTarget.parentNode),z=an.getOrCreateInstance(Q);if($){u.stopPropagation(),z.show(),z._selectMenuItem(u);return}z._isShown()&&(u.stopPropagation(),z.hide(),Q.focus())}}P.on(document,Jp,zs,an.dataApiKeydownHandler),P.on(document,Jp,Ya,an.dataApiKeydownHandler),P.on(document,Xp,an.clearMenus),P.on(document,LI,an.clearMenus),P.on(document,Xp,zs,function(y){y.preventDefault(),an.getOrCreateInstance(this).toggle()}),N(an);const Zp="backdrop",eA="fade",eg="show",tg=`mousedown.bs.${Zp}`,tA={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},nA={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ng extends F{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return tA}static get DefaultType(){return nA}static get NAME(){return Zp}show(u){if(!this._config.isVisible){x(u);return}this._append();const d=this._getElement();this._config.isAnimated&&R(d),d.classList.add(eg),this._emulateAnimation(()=>{x(u)})}hide(u){if(!this._config.isVisible){x(u);return}this._getElement().classList.remove(eg),this._emulateAnimation(()=>{this.dispose(),x(u)})}dispose(){this._isAppended&&(P.off(this._element,tg),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add(eA),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=S(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),P.on(u,tg,()=>{x(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){j(u,this._getElement(),this._config.isAnimated)}}const sA="focustrap",Qa=".bs.focustrap",rA=`focusin${Qa}`,iA=`keydown.tab${Qa}`,oA="Tab",aA="forward",sg="backward",cA={autofocus:!0,trapElement:null},lA={autofocus:"boolean",trapElement:"element"};class rg extends F{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return cA}static get DefaultType(){return lA}static get NAME(){return sA}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,Qa),P.on(document,rA,u=>this._handleFocusin(u)),P.on(document,iA,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,Qa))}_handleFocusin(u){const{trapElement:d}=this._config;if(u.target===document||u.target===d||d.contains(u.target))return;const v=D.focusableChildren(d);v.length===0?d.focus():this._lastTabNavDirection===sg?v[v.length-1].focus():v[0].focus()}_handleKeydown(u){u.key===oA&&(this._lastTabNavDirection=u.shiftKey?sg:aA)}}const ig=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",og=".sticky-top",Xa="padding-right",ag="margin-right";class ku{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Xa,d=>d+u),this._setElementAttributes(ig,Xa,d=>d+u),this._setElementAttributes(og,ag,d=>d-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Xa),this._resetElementAttributes(ig,Xa),this._resetElementAttributes(og,ag)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,d,v){const $=this.getWidth(),Q=z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+$)return;this._saveInitialAttribute(z,d);const Ee=window.getComputedStyle(z).getPropertyValue(d);z.style.setProperty(d,`${v(Number.parseFloat(Ee))}px`)};this._applyManipulationCallback(u,Q)}_saveInitialAttribute(u,d){const v=u.style.getPropertyValue(d);v&&L.setDataAttribute(u,d,v)}_resetElementAttributes(u,d){const v=$=>{const Q=L.getDataAttribute($,d);if(Q===null){$.style.removeProperty(d);return}L.removeDataAttribute($,d),$.style.setProperty(d,Q)};this._applyManipulationCallback(u,v)}_applyManipulationCallback(u,d){if(I(u)){d(u);return}for(const v of D.find(u,this._element))d(v)}}const uA="modal",Xt=".bs.modal",hA=".data-api",fA="Escape",dA=`hide${Xt}`,pA=`hidePrevented${Xt}`,cg=`hidden${Xt}`,lg=`show${Xt}`,gA=`shown${Xt}`,mA=`resize${Xt}`,yA=`click.dismiss${Xt}`,_A=`mousedown.dismiss${Xt}`,vA=`keydown.dismiss${Xt}`,EA=`click${Xt}${hA}`,ug="modal-open",wA="fade",hg="show",Du="modal-static",TA=".modal.show",bA=".modal-dialog",IA=".modal-body",AA='[data-bs-toggle="modal"]',CA={backdrop:!0,focus:!0,keyboard:!0},SA={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Gs extends G{constructor(u,d){super(u,d),this._dialog=D.findOne(bA,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ku,this._addEventListeners()}static get Default(){return CA}static get DefaultType(){return SA}static get NAME(){return uA}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||P.trigger(this._element,lg,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ug),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||P.trigger(this._element,dA).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(hg),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){P.off(window,Xt),P.off(this._dialog,Xt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ng({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rg({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=D.findOne(IA,this._dialog);d&&(d.scrollTop=0),R(this._element),this._element.classList.add(hg);const v=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,gA,{relatedTarget:u})};this._queueCallback(v,this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,vA,u=>{if(u.key===fA){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),P.on(window,mA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,_A,u=>{P.one(this._element,yA,d=>{if(!(this._element!==u.target||this._element!==d.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ug),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,cg)})}_isAnimated(){return this._element.classList.contains(wA)}_triggerBackdropTransition(){if(P.trigger(this._element,pA).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(Du)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Du),this._queueCallback(()=>{this._element.classList.remove(Du),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),v=d>0;if(v&&!u){const $=A()?"paddingLeft":"paddingRight";this._element.style[$]=`${d}px`}if(!v&&u){const $=A()?"paddingRight":"paddingLeft";this._element.style[$]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,d){return this.each(function(){const v=Gs.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof v[u]>"u")throw new TypeError(`No method named "${u}"`);v[u](d)}})}}P.on(document,EA,AA,function(y){const u=D.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&y.preventDefault(),P.one(u,lg,$=>{$.defaultPrevented||P.one(u,cg,()=>{b(this)&&this.focus()})});const d=D.findOne(TA);d&&Gs.getInstance(d).hide(),Gs.getOrCreateInstance(u).toggle(this)}),H(Gs),N(Gs);const OA="offcanvas",$n=".bs.offcanvas",fg=".data-api",NA=`load${$n}${fg}`,RA="Escape",dg="show",pg="showing",gg="hiding",kA="offcanvas-backdrop",mg=".offcanvas.show",DA=`show${$n}`,PA=`shown${$n}`,LA=`hide${$n}`,yg=`hidePrevented${$n}`,_g=`hidden${$n}`,xA=`resize${$n}`,MA=`click${$n}${fg}`,$A=`keydown.dismiss${$n}`,FA='[data-bs-toggle="offcanvas"]',VA={backdrop:!0,keyboard:!0,scroll:!1},UA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Fn extends G{constructor(u,d){super(u,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return VA}static get DefaultType(){return UA}static get NAME(){return OA}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){if(this._isShown||P.trigger(this._element,DA,{relatedTarget:u}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ku().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pg);const v=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(dg),this._element.classList.remove(pg),P.trigger(this._element,PA,{relatedTarget:u})};this._queueCallback(v,this._element,!0)}hide(){if(!this._isShown||P.trigger(this._element,LA).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(gg),this._backdrop.hide();const d=()=>{this._element.classList.remove(dg,gg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ku().reset(),P.trigger(this._element,_g)};this._queueCallback(d,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=()=>{if(this._config.backdrop==="static"){P.trigger(this._element,yg);return}this.hide()},d=!!this._config.backdrop;return new ng({className:kA,isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?u:null})}_initializeFocusTrap(){return new rg({trapElement:this._element})}_addEventListeners(){P.on(this._element,$A,u=>{if(u.key===RA){if(this._config.keyboard){this.hide();return}P.trigger(this._element,yg)}})}static jQueryInterface(u){return this.each(function(){const d=Fn.getOrCreateInstance(this,u);if(typeof u=="string"){if(d[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);d[u](this)}})}}P.on(document,MA,FA,function(y){const u=D.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),_(this))return;P.one(u,_g,()=>{b(this)&&this.focus()});const d=D.findOne(mg);d&&d!==u&&Fn.getInstance(d).hide(),Fn.getOrCreateInstance(u).toggle(this)}),P.on(window,NA,()=>{for(const y of D.find(mg))Fn.getOrCreateInstance(y).show()}),P.on(window,xA,()=>{for(const y of D.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(y).position!=="fixed"&&Fn.getOrCreateInstance(y).hide()}),H(Fn),N(Fn);const vg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},BA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),jA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,HA=(y,u)=>{const d=y.nodeName.toLowerCase();return u.includes(d)?BA.has(d)?!!jA.test(y.nodeValue):!0:u.filter(v=>v instanceof RegExp).some(v=>v.test(d))};function qA(y,u,d){if(!y.length)return y;if(d&&typeof d=="function")return d(y);const $=new window.DOMParser().parseFromString(y,"text/html"),Q=[].concat(...$.body.querySelectorAll("*"));for(const z of Q){const Ee=z.nodeName.toLowerCase();if(!Object.keys(u).includes(Ee)){z.remove();continue}const Dt=[].concat(...z.attributes),Jt=[].concat(u["*"]||[],u[Ee]||[]);for(const tt of Dt)HA(tt,Jt)||z.removeAttribute(tt.nodeName)}return $.body.innerHTML}const KA="TemplateFactory",WA={allowList:vg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},zA={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},GA={entry:"(string|element|function|null)",selector:"(string|element)"};class YA extends F{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return WA}static get DefaultType(){return zA}static get NAME(){return KA}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[$,Q]of Object.entries(this._config.content))this._setContent(u,Q,$);const d=u.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&d.classList.add(...v.split(" ")),d}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[d,v]of Object.entries(u))super._typeCheckConfig({selector:d,entry:v},GA)}_setContent(u,d,v){const $=D.findOne(v,u);if($){if(d=this._resolvePossibleFunction(d),!d){$.remove();return}if(I(d)){this._putElementInTemplate(S(d),$);return}if(this._config.html){$.innerHTML=this._maybeSanitize(d);return}$.textContent=d}}_maybeSanitize(u){return this._config.sanitize?qA(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return x(u,[this])}_putElementInTemplate(u,d){if(this._config.html){d.innerHTML="",d.append(u);return}d.textContent=u.textContent}}const QA="tooltip",XA=new Set(["sanitize","allowList","sanitizeFn"]),Pu="fade",JA="modal",Ja="show",ZA=".tooltip-inner",Eg=`.${JA}`,wg="hide.bs.modal",no="hover",Lu="focus",eC="click",tC="manual",nC="hide",sC="hidden",rC="show",iC="shown",oC="inserted",aC="click",cC="focusin",lC="focusout",uC="mouseenter",hC="mouseleave",fC={AUTO:"auto",TOP:"top",RIGHT:A()?"left":"right",BOTTOM:"bottom",LEFT:A()?"right":"left"},dC={allowList:vg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},pC={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ys extends G{constructor(u,d){if(typeof r>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return dC}static get DefaultType(){return pC}static get NAME(){return QA}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(Eg),wg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const u=P.trigger(this._element,this.constructor.eventName(rC)),v=(k(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!v)return;this._disposePopper();const $=this._getTipElement();this._element.setAttribute("aria-describedby",$.getAttribute("id"));const{container:Q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Q.append($),P.trigger(this._element,this.constructor.eventName(oC))),this._popper=this._createPopper($),$.classList.add(Ja),"ontouchstart"in document.documentElement)for(const Ee of[].concat(...document.body.children))P.on(Ee,"mouseover",T);const z=()=>{P.trigger(this._element,this.constructor.eventName(iC)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(z,this.tip,this._isAnimated())}hide(){if(!this._isShown()||P.trigger(this._element,this.constructor.eventName(nC)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ja),"ontouchstart"in document.documentElement)for(const $ of[].concat(...document.body.children))P.off($,"mouseover",T);this._activeTrigger[eC]=!1,this._activeTrigger[Lu]=!1,this._activeTrigger[no]=!1,this._isHovered=null;const v=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName(sC)))};this._queueCallback(v,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const d=this._getTemplateFactory(u).toHtml();if(!d)return null;d.classList.remove(Pu,Ja),d.classList.add(`bs-${this.constructor.NAME}-auto`);const v=p(this.constructor.NAME).toString();return d.setAttribute("id",v),this._isAnimated()&&d.classList.add(Pu),d}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new YA({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ZA]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Pu)}_isShown(){return this.tip&&this.tip.classList.contains(Ja)}_createPopper(u){const d=x(this._config.placement,[this,u,this._element]),v=fC[d.toUpperCase()];return r.createPopper(this._element,u,this._getPopperConfig(v))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(d=>Number.parseInt(d,10)):typeof u=="function"?d=>u(d,this._element):u}_resolvePossibleFunction(u){return x(u,[this._element])}_getPopperConfig(u){const d={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...d,...x(this._config.popperConfig,[d])}}_setListeners(){const u=this._config.trigger.split(" ");for(const d of u)if(d==="click")P.on(this._element,this.constructor.eventName(aC),this._config.selector,v=>{this._initializeOnDelegatedTarget(v).toggle()});else if(d!==tC){const v=d===no?this.constructor.eventName(uC):this.constructor.eventName(cC),$=d===no?this.constructor.eventName(hC):this.constructor.eventName(lC);P.on(this._element,v,this._config.selector,Q=>{const z=this._initializeOnDelegatedTarget(Q);z._activeTrigger[Q.type==="focusin"?Lu:no]=!0,z._enter()}),P.on(this._element,$,this._config.selector,Q=>{const z=this._initializeOnDelegatedTarget(Q);z._activeTrigger[Q.type==="focusout"?Lu:no]=z._element.contains(Q.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(Eg),wg,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,d){clearTimeout(this._timeout),this._timeout=setTimeout(u,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const d=L.getDataAttributes(this._element);for(const v of Object.keys(d))XA.has(v)&&delete d[v];return u={...d,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:S(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[d,v]of Object.entries(this._config))this.constructor.Default[d]!==v&&(u[d]=v);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const d=Ys.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof d[u]>"u")throw new TypeError(`No method named "${u}"`);d[u]()}})}}N(Ys);const gC="popover",mC=".popover-header",yC=".popover-body",_C={...Ys.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},vC={...Ys.DefaultType,content:"(null|string|element|function)"};class Za extends Ys{static get Default(){return _C}static get DefaultType(){return vC}static get NAME(){return gC}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[mC]:this._getTitle(),[yC]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const d=Za.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof d[u]>"u")throw new TypeError(`No method named "${u}"`);d[u]()}})}}N(Za);const EC="scrollspy",xu=".bs.scrollspy",wC=".data-api",TC=`activate${xu}`,Tg=`click${xu}`,bC=`load${xu}${wC}`,IC="dropdown-item",Gr="active",AC='[data-bs-spy="scroll"]',Mu="[href]",CC=".nav, .list-group",bg=".nav-link",SC=`${bg}, .nav-item > ${bg}, .list-group-item`,OC=".dropdown",NC=".dropdown-toggle",RC={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},kC={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class so extends G{constructor(u,d){super(u,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return RC}static get DefaultType(){return kC}static get NAME(){return EC}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=S(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(d=>Number.parseFloat(d))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,Tg),P.on(this._config.target,Tg,Mu,u=>{const d=this._observableSections.get(u.target.hash);if(d){u.preventDefault();const v=this._rootElement||window,$=d.offsetTop-this._element.offsetTop;if(v.scrollTo){v.scrollTo({top:$,behavior:"smooth"});return}v.scrollTop=$}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(d=>this._observerCallback(d),u)}_observerCallback(u){const d=z=>this._targetLinks.get(`#${z.target.id}`),v=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(d(z))},$=(this._rootElement||document.documentElement).scrollTop,Q=$>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$;for(const z of u){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(z));continue}const Ee=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Q&&Ee){if(v(z),!$)return;continue}!Q&&!Ee&&v(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=D.find(Mu,this._config.target);for(const d of u){if(!d.hash||_(d))continue;const v=D.findOne(decodeURI(d.hash),this._element);b(v)&&(this._targetLinks.set(decodeURI(d.hash),d),this._observableSections.set(d.hash,v))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Gr),this._activateParents(u),P.trigger(this._element,TC,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains(IC)){D.findOne(NC,u.closest(OC)).classList.add(Gr);return}for(const d of D.parents(u,CC))for(const v of D.prev(d,SC))v.classList.add(Gr)}_clearActiveClass(u){u.classList.remove(Gr);const d=D.find(`${Mu}.${Gr}`,u);for(const v of d)v.classList.remove(Gr)}static jQueryInterface(u){return this.each(function(){const d=so.getOrCreateInstance(this,u);if(typeof u=="string"){if(d[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);d[u]()}})}}P.on(window,bC,()=>{for(const y of D.find(AC))so.getOrCreateInstance(y)}),N(so);const DC="tab",Qs=".bs.tab",PC=`hide${Qs}`,LC=`hidden${Qs}`,xC=`show${Qs}`,MC=`shown${Qs}`,$C=`click${Qs}`,FC=`keydown${Qs}`,VC=`load${Qs}`,UC="ArrowLeft",Ig="ArrowRight",BC="ArrowUp",Ag="ArrowDown",Xs="active",Cg="fade",$u="show",jC="dropdown",HC=".dropdown-toggle",qC=".dropdown-menu",Fu=":not(.dropdown-toggle)",KC='.list-group, .nav, [role="tablist"]',WC=".nav-item, .list-group-item",zC=`.nav-link${Fu}, .list-group-item${Fu}, [role="tab"]${Fu}`,Sg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Vu=`${zC}, ${Sg}`,GC=`.${Xs}[data-bs-toggle="tab"], .${Xs}[data-bs-toggle="pill"], .${Xs}[data-bs-toggle="list"]`;class Js extends G{constructor(u){super(u),this._parent=this._element.closest(KC),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,FC,d=>this._keydown(d)))}static get NAME(){return DC}show(){const u=this._element;if(this._elemIsActive(u))return;const d=this._getActiveElem(),v=d?P.trigger(d,PC,{relatedTarget:u}):null;P.trigger(u,xC,{relatedTarget:d}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(d,u),this._activate(u,d))}_activate(u,d){if(!u)return;u.classList.add(Xs),this._activate(D.getElementFromSelector(u));const v=()=>{if(u.getAttribute("role")!=="tab"){u.classList.add($u);return}u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),P.trigger(u,MC,{relatedTarget:d})};this._queueCallback(v,u,u.classList.contains(Cg))}_deactivate(u,d){if(!u)return;u.classList.remove(Xs),u.blur(),this._deactivate(D.getElementFromSelector(u));const v=()=>{if(u.getAttribute("role")!=="tab"){u.classList.remove($u);return}u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),P.trigger(u,LC,{relatedTarget:d})};this._queueCallback(v,u,u.classList.contains(Cg))}_keydown(u){if(![UC,Ig,BC,Ag].includes(u.key))return;u.stopPropagation(),u.preventDefault();const d=[Ig,Ag].includes(u.key),v=X(this._getChildren().filter($=>!_($)),u.target,d,!0);v&&(v.focus({preventScroll:!0}),Js.getOrCreateInstance(v).show())}_getChildren(){return D.find(Vu,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,d){this._setAttributeIfNotExists(u,"role","tablist");for(const v of d)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const d=this._elemIsActive(u),v=this._getOuterElement(u);u.setAttribute("aria-selected",d),v!==u&&this._setAttributeIfNotExists(v,"role","presentation"),d||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const d=D.getElementFromSelector(u);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,d){const v=this._getOuterElement(u);if(!v.classList.contains(jC))return;const $=(Q,z)=>{const Ee=D.findOne(Q,v);Ee&&Ee.classList.toggle(z,d)};$(HC,Xs),$(qC,$u),v.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(u,d,v){u.hasAttribute(d)||u.setAttribute(d,v)}_elemIsActive(u){return u.classList.contains(Xs)}_getInnerElement(u){return u.matches(Vu)?u:D.findOne(Vu,u)}_getOuterElement(u){return u.closest(WC)||u}static jQueryInterface(u){return this.each(function(){const d=Js.getOrCreateInstance(this);if(typeof u=="string"){if(d[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);d[u]()}})}}P.on(document,$C,Sg,function(y){["A","AREA"].includes(this.tagName)&&y.preventDefault(),!_(this)&&Js.getOrCreateInstance(this).show()}),P.on(window,VC,()=>{for(const y of D.find(GC))Js.getOrCreateInstance(y)}),N(Js);const YC="toast",cs=".bs.toast",QC=`mouseover${cs}`,XC=`mouseout${cs}`,JC=`focusin${cs}`,ZC=`focusout${cs}`,eS=`hide${cs}`,tS=`hidden${cs}`,nS=`show${cs}`,sS=`shown${cs}`,rS="fade",Og="hide",ec="show",tc="showing",iS={animation:"boolean",autohide:"boolean",delay:"number"},oS={animation:!0,autohide:!0,delay:5e3};class ro extends G{constructor(u,d){super(u,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return oS}static get DefaultType(){return iS}static get NAME(){return YC}show(){if(P.trigger(this._element,nS).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(rS);const d=()=>{this._element.classList.remove(tc),P.trigger(this._element,sS),this._maybeScheduleHide()};this._element.classList.remove(Og),R(this._element),this._element.classList.add(ec,tc),this._queueCallback(d,this._element,this._config.animation)}hide(){if(!this.isShown()||P.trigger(this._element,eS).defaultPrevented)return;const d=()=>{this._element.classList.add(Og),this._element.classList.remove(tc,ec),P.trigger(this._element,tS)};this._element.classList.add(tc),this._queueCallback(d,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ec),super.dispose()}isShown(){return this._element.classList.contains(ec)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,d){switch(u.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=d;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=d;break}}if(d){this._clearTimeout();return}const v=u.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,QC,u=>this._onInteraction(u,!0)),P.on(this._element,XC,u=>this._onInteraction(u,!1)),P.on(this._element,JC,u=>this._onInteraction(u,!0)),P.on(this._element,ZC,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const d=ro.getOrCreateInstance(this,u);if(typeof u=="string"){if(typeof d[u]>"u")throw new TypeError(`No method named "${u}"`);d[u](this)}})}}return H(ro),N(ro),{Alert:Me,Button:os,Carousel:qr,Collapse:Wr,Dropdown:an,Modal:Gs,Offcanvas:Fn,Popover:Za,ScrollSpy:so,Tab:Js,Toast:ro,Tooltip:Ys}})})(R2);const EB={apiKey:"AIzaSyCMJd4kuh1hQjStYHMDC22M-1EVEh0rqQo",authDomain:"trader-game-8ac71.firebaseapp.com",projectId:"trader-game-8ac71",storageBucket:"trader-game-8ac71.appspot.com",messagingSenderId:"1094488286826",appId:"1:1094488286826:web:96333e243540c9d859cc13",measurementId:"G-H21R1PQK21"},N0=DE(EB);T2(N0);const Hp=dF(N0),Cu=sE(zV);Cu.use(NR());Cu.use(Mc);Cu.use(N2,{position:"top-right",duration:5e3,pauseOnHover:!0});Cu.mount("#app");
