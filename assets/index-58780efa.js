(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function yl(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Pe={},ii=[],fn=()=>{},WC=()=>!1,zC=/^on[^a-z]/,ua=t=>zC.test(t),Nf=t=>t.startsWith("onUpdate:"),$e=Object.assign,kf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},GC=Object.prototype.hasOwnProperty,Se=(t,e)=>GC.call(t,e),ne=Array.isArray,oi=t=>$i(t)==="[object Map]",kr=t=>$i(t)==="[object Set]",_g=t=>$i(t)==="[object Date]",YC=t=>$i(t)==="[object RegExp]",de=t=>typeof t=="function",je=t=>typeof t=="string",Mo=t=>typeof t=="symbol",Le=t=>t!==null&&typeof t=="object",Rf=t=>Le(t)&&de(t.then)&&de(t.catch),i_=Object.prototype.toString,$i=t=>i_.call(t),QC=t=>$i(t).slice(8,-1),o_=t=>$i(t)==="[object Object]",Df=t=>je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yo=yl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_l=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},XC=/-(\w)/g,Mt=_l(t=>t.replace(XC,(e,n)=>n?n.toUpperCase():"")),JC=/\B([A-Z])/g,tn=_l(t=>t.replace(JC,"-$1").toLowerCase()),ha=_l(t=>t.charAt(0).toUpperCase()+t.slice(1)),_o=_l(t=>t?`on${ha(t)}`:""),yi=(t,e)=>!Object.is(t,e),ai=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Mc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},$c=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Fc=t=>{const e=je(t)?Number(t):NaN;return isNaN(e)?t:e};let vg;const wh=()=>vg||(vg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ZC="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",eS=yl(ZC);function fa(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=je(s)?rS(s):fa(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(je(t))return t;if(Le(t))return t}}const tS=/;(?![^(]*\))/g,nS=/:([^]+)/,sS=/\/\*[^]*?\*\//g;function rS(t){const e={};return t.replace(sS,"").split(tS).forEach(n=>{if(n){const s=n.split(nS);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function da(t){let e="";if(je(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const s=da(t[n]);s&&(e+=s+" ")}else if(Le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function iS(t){if(!t)return null;let{class:e,style:n}=t;return e&&!je(e)&&(t.class=da(e)),n&&(t.style=fa(n)),t}const oS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",aS=yl(oS);function a_(t){return!!t||t===""}function cS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ps(t[s],e[s]);return n}function Ps(t,e){if(t===e)return!0;let n=_g(t),s=_g(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Mo(t),s=Mo(e),n||s)return t===e;if(n=ne(t),s=ne(e),n||s)return n&&s?cS(t,e):!1;if(n=Le(t),s=Le(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Ps(t[o],e[o]))return!1}}return String(t)===String(e)}function vl(t,e){return t.findIndex(n=>Ps(n,e))}const lr=t=>je(t)?t:t==null?"":ne(t)||Le(t)&&(t.toString===i_||!de(t.toString))?JSON.stringify(t,c_,2):String(t),c_=(t,e)=>e&&e.__v_isRef?c_(t,e.value):oi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:kr(e)?{[`Set(${e.size})`]:[...e.values()]}:Le(e)&&!ne(e)&&!o_(e)?String(e):e;let Bt;class Pf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Bt,!e&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Bt;try{return Bt=this,e()}finally{Bt=n}}}on(){Bt=this}off(){Bt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Lf(t){return new Pf(t)}function l_(t,e=Bt){e&&e.active&&e.effects.push(t)}function xf(){return Bt}function u_(t){Bt&&Bt.cleanups.push(t)}const Mf=t=>{const e=new Set(t);return e.w=0,e.n=0,e},h_=t=>(t.w&Ls)>0,f_=t=>(t.n&Ls)>0,lS=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ls},uS=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];h_(r)&&!f_(r)?r.delete(t):e[n++]=r,r.w&=~Ls,r.n&=~Ls}e.length=n}},Vc=new WeakMap;let ao=0,Ls=1;const Th=30;let ln;const ur=Symbol(""),bh=Symbol("");class pa{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,l_(this,s)}run(){if(!this.active)return this.fn();let e=ln,n=As;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ln,ln=this,As=!0,Ls=1<<++ao,ao<=Th?lS(this):Eg(this),this.fn()}finally{ao<=Th&&uS(this),Ls=1<<--ao,ln=this.parent,As=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ln===this?this.deferStop=!0:this.active&&(Eg(this),this.onStop&&this.onStop(),this.active=!1)}}function Eg(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function hS(t,e){t.effect&&(t=t.effect.fn);const n=new pa(t);e&&($e(n,e),e.scope&&l_(n,e.scope)),(!e||!e.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function fS(t){t.effect.stop()}let As=!0;const d_=[];function Fi(){d_.push(As),As=!1}function Vi(){const t=d_.pop();As=t===void 0?!0:t}function Ft(t,e,n){if(As&&ln){let s=Vc.get(t);s||Vc.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Mf()),p_(r)}}function p_(t,e){let n=!1;ao<=Th?f_(t)||(t.n|=Ls,n=!h_(t)):n=!t.has(ln),n&&(t.add(ln),ln.deps.push(t))}function Jn(t,e,n,s,r,i){const o=Vc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ne(t)){const c=Number(s);o.forEach((u,h)=>{(h==="length"||h>=c)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ne(t)?Df(n)&&a.push(o.get("length")):(a.push(o.get(ur)),oi(t)&&a.push(o.get(bh)));break;case"delete":ne(t)||(a.push(o.get(ur)),oi(t)&&a.push(o.get(bh)));break;case"set":oi(t)&&a.push(o.get(ur));break}if(a.length===1)a[0]&&Ih(a[0]);else{const c=[];for(const u of a)u&&c.push(...u);Ih(Mf(c))}}function Ih(t,e){const n=ne(t)?t:[...t];for(const s of n)s.computed&&wg(s);for(const s of n)s.computed||wg(s)}function wg(t,e){(t!==ln||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function dS(t,e){var n;return(n=Vc.get(t))==null?void 0:n.get(e)}const pS=yl("__proto__,__v_isRef,__isVue"),g_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mo)),gS=El(),mS=El(!1,!0),yS=El(!0),_S=El(!0,!0),Tg=vS();function vS(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Ie(this);for(let i=0,o=this.length;i<o;i++)Ft(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(Ie)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Fi();const s=Ie(this)[e].apply(this,n);return Vi(),s}}),t}function ES(t){const e=Ie(this);return Ft(e,"has",t),e.hasOwnProperty(t)}function El(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?T_:w_:e?E_:v_).get(s))return s;const o=ne(s);if(!t){if(o&&Se(Tg,r))return Reflect.get(Tg,r,i);if(r==="hasOwnProperty")return ES}const a=Reflect.get(s,r,i);return(Mo(r)?g_.has(r):pS(r))||(t||Ft(s,"get",r),e)?a:Ke(a)?o&&Df(r)?a:a.value:Le(a)?t?Ff(a):Rr(a):a}}const wS=m_(),TS=m_(!0);function m_(t=!1){return function(n,s,r,i){let o=n[s];if(mr(o)&&Ke(o)&&!Ke(r))return!1;if(!t&&(!$o(r)&&!mr(r)&&(o=Ie(o),r=Ie(r)),!ne(n)&&Ke(o)&&!Ke(r)))return o.value=r,!0;const a=ne(n)&&Df(s)?Number(s)<n.length:Se(n,s),c=Reflect.set(n,s,r,i);return n===Ie(i)&&(a?yi(r,o)&&Jn(n,"set",s,r):Jn(n,"add",s,r)),c}}function bS(t,e){const n=Se(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Jn(t,"delete",e,void 0),s}function IS(t,e){const n=Reflect.has(t,e);return(!Mo(e)||!g_.has(e))&&Ft(t,"has",e),n}function AS(t){return Ft(t,"iterate",ne(t)?"length":ur),Reflect.ownKeys(t)}const y_={get:gS,set:wS,deleteProperty:bS,has:IS,ownKeys:AS},__={get:yS,set(t,e){return!0},deleteProperty(t,e){return!0}},CS=$e({},y_,{get:mS,set:TS}),SS=$e({},__,{get:_S}),$f=t=>t,wl=t=>Reflect.getPrototypeOf(t);function tc(t,e,n=!1,s=!1){t=t.__v_raw;const r=Ie(t),i=Ie(e);n||(e!==i&&Ft(r,"get",e),Ft(r,"get",i));const{has:o}=wl(r),a=s?$f:n?Uf:Fo;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function nc(t,e=!1){const n=this.__v_raw,s=Ie(n),r=Ie(t);return e||(t!==r&&Ft(s,"has",t),Ft(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function sc(t,e=!1){return t=t.__v_raw,!e&&Ft(Ie(t),"iterate",ur),Reflect.get(t,"size",t)}function bg(t){t=Ie(t);const e=Ie(this);return wl(e).has.call(e,t)||(e.add(t),Jn(e,"add",t,t)),this}function Ig(t,e){e=Ie(e);const n=Ie(this),{has:s,get:r}=wl(n);let i=s.call(n,t);i||(t=Ie(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?yi(e,o)&&Jn(n,"set",t,e):Jn(n,"add",t,e),this}function Ag(t){const e=Ie(this),{has:n,get:s}=wl(e);let r=n.call(e,t);r||(t=Ie(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Jn(e,"delete",t,void 0),i}function Cg(){const t=Ie(this),e=t.size!==0,n=t.clear();return e&&Jn(t,"clear",void 0,void 0),n}function rc(t,e){return function(s,r){const i=this,o=i.__v_raw,a=Ie(o),c=e?$f:t?Uf:Fo;return!t&&Ft(a,"iterate",ur),o.forEach((u,h)=>s.call(r,c(u),c(h),i))}}function ic(t,e,n){return function(...s){const r=this.__v_raw,i=Ie(r),o=oi(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=r[t](...s),h=n?$f:e?Uf:Fo;return!e&&Ft(i,"iterate",c?bh:ur),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function us(t){return function(...e){return t==="delete"?!1:this}}function OS(){const t={get(i){return tc(this,i)},get size(){return sc(this)},has:nc,add:bg,set:Ig,delete:Ag,clear:Cg,forEach:rc(!1,!1)},e={get(i){return tc(this,i,!1,!0)},get size(){return sc(this)},has:nc,add:bg,set:Ig,delete:Ag,clear:Cg,forEach:rc(!1,!0)},n={get(i){return tc(this,i,!0)},get size(){return sc(this,!0)},has(i){return nc.call(this,i,!0)},add:us("add"),set:us("set"),delete:us("delete"),clear:us("clear"),forEach:rc(!0,!1)},s={get(i){return tc(this,i,!0,!0)},get size(){return sc(this,!0)},has(i){return nc.call(this,i,!0)},add:us("add"),set:us("set"),delete:us("delete"),clear:us("clear"),forEach:rc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ic(i,!1,!1),n[i]=ic(i,!0,!1),e[i]=ic(i,!1,!0),s[i]=ic(i,!0,!0)}),[t,n,e,s]}const[NS,kS,RS,DS]=OS();function Tl(t,e){const n=e?t?DS:RS:t?kS:NS;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Se(n,r)&&r in s?n:s,r,i)}const PS={get:Tl(!1,!1)},LS={get:Tl(!1,!0)},xS={get:Tl(!0,!1)},MS={get:Tl(!0,!0)},v_=new WeakMap,E_=new WeakMap,w_=new WeakMap,T_=new WeakMap;function $S(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FS(t){return t.__v_skip||!Object.isExtensible(t)?0:$S(QC(t))}function Rr(t){return mr(t)?t:bl(t,!1,y_,PS,v_)}function b_(t){return bl(t,!1,CS,LS,E_)}function Ff(t){return bl(t,!0,__,xS,w_)}function VS(t){return bl(t,!0,SS,MS,T_)}function bl(t,e,n,s,r){if(!Le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=FS(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Gn(t){return mr(t)?Gn(t.__v_raw):!!(t&&t.__v_isReactive)}function mr(t){return!!(t&&t.__v_isReadonly)}function $o(t){return!!(t&&t.__v_isShallow)}function Vf(t){return Gn(t)||mr(t)}function Ie(t){const e=t&&t.__v_raw;return e?Ie(e):t}function ga(t){return Mc(t,"__v_skip",!0),t}const Fo=t=>Le(t)?Rr(t):t,Uf=t=>Le(t)?Ff(t):t;function Bf(t){As&&ln&&(t=Ie(t),p_(t.dep||(t.dep=Mf())))}function Il(t,e){t=Ie(t);const n=t.dep;n&&Ih(n)}function Ke(t){return!!(t&&t.__v_isRef===!0)}function dn(t){return A_(t,!1)}function I_(t){return A_(t,!0)}function A_(t,e){return Ke(t)?t:new US(t,e)}class US{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ie(e),this._value=n?e:Fo(e)}get value(){return Bf(this),this._value}set value(e){const n=this.__v_isShallow||$o(e)||mr(e);e=n?e:Ie(e),yi(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Fo(e),Il(this))}}function BS(t){Il(t)}function Cs(t){return Ke(t)?t.value:t}function jS(t){return de(t)?t():Cs(t)}const HS={get:(t,e,n)=>Cs(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ke(r)&&!Ke(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function jf(t){return Gn(t)?t:new Proxy(t,HS)}class KS{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=e(()=>Bf(this),()=>Il(this));this._get=n,this._set=s}get value(){return this._get()}set value(e){this._set(e)}}function qS(t){return new KS(t)}function C_(t){const e=ne(t)?new Array(t.length):{};for(const n in t)e[n]=S_(t,n);return e}class WS{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return dS(Ie(this._object),this._key)}}class zS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function GS(t,e,n){return Ke(t)?t:de(t)?new zS(t):Le(t)&&arguments.length>1?S_(t,e,n):dn(t)}function S_(t,e,n){const s=t[e];return Ke(s)?s:new WS(t,e,n)}class YS{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new pa(e,()=>{this._dirty||(this._dirty=!0,Il(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=Ie(this);return Bf(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function QS(t,e,n=!1){let s,r;const i=de(t);return i?(s=t,r=fn):(s=t.get,r=t.set),new YS(s,r,i||!r,n)}function XS(t,...e){}function JS(t,e){}function Yn(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){Dr(i,e,n)}return r}function Kt(t,e,n,s){if(de(t)){const i=Yn(t,e,n,s);return i&&Rf(i)&&i.catch(o=>{Dr(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(Kt(t[i],e,n,s));return r}function Dr(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const u=i.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Yn(c,null,10,[t,o,a]);return}}ZS(t,n,r,s)}function ZS(t,e,n,s=!0){console.error(t)}let Vo=!1,Ah=!1;const yt=[];let In=0;const ci=[];let Hn=null,nr=0;const O_=Promise.resolve();let Hf=null;function ma(t){const e=Hf||O_;return t?e.then(this?t.bind(this):t):e}function eO(t){let e=In+1,n=yt.length;for(;e<n;){const s=e+n>>>1;Uo(yt[s])<t?e=s+1:n=s}return e}function Al(t){(!yt.length||!yt.includes(t,Vo&&t.allowRecurse?In+1:In))&&(t.id==null?yt.push(t):yt.splice(eO(t.id),0,t),N_())}function N_(){!Vo&&!Ah&&(Ah=!0,Hf=O_.then(k_))}function tO(t){const e=yt.indexOf(t);e>In&&yt.splice(e,1)}function Kf(t){ne(t)?ci.push(...t):(!Hn||!Hn.includes(t,t.allowRecurse?nr+1:nr))&&ci.push(t),N_()}function Sg(t,e=Vo?In+1:0){for(;e<yt.length;e++){const n=yt[e];n&&n.pre&&(yt.splice(e,1),e--,n())}}function Uc(t){if(ci.length){const e=[...new Set(ci)];if(ci.length=0,Hn){Hn.push(...e);return}for(Hn=e,Hn.sort((n,s)=>Uo(n)-Uo(s)),nr=0;nr<Hn.length;nr++)Hn[nr]();Hn=null,nr=0}}const Uo=t=>t.id==null?1/0:t.id,nO=(t,e)=>{const n=Uo(t)-Uo(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function k_(t){Ah=!1,Vo=!0,yt.sort(nO);const e=fn;try{for(In=0;In<yt.length;In++){const n=yt[In];n&&n.active!==!1&&Yn(n,null,14)}}finally{In=0,yt.length=0,Uc(),Vo=!1,Hf=null,(yt.length||ci.length)&&k_()}}let Jr,oc=[];function R_(t,e){var n,s;Jr=t,Jr?(Jr.enabled=!0,oc.forEach(({event:r,args:i})=>Jr.emit(r,...i)),oc=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{R_(i,e)}),setTimeout(()=>{Jr||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,oc=[])},3e3)):oc=[]}function sO(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Pe;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:p}=s[h]||Pe;p&&(r=n.map(g=>je(g)?g.trim():g)),f&&(r=n.map($c))}let a,c=s[a=_o(e)]||s[a=_o(Mt(e))];!c&&i&&(c=s[a=_o(tn(e))]),c&&Kt(c,t,6,r);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Kt(u,t,6,r)}}function D_(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!de(t)){const c=u=>{const h=D_(u,e,!0);h&&(a=!0,$e(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Le(t)&&s.set(t,null),null):(ne(i)?i.forEach(c=>o[c]=null):$e(o,i),Le(t)&&s.set(t,o),o)}function Cl(t,e){return!t||!ua(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,tn(e))||Se(t,e))}let st=null,Sl=null;function Bo(t){const e=st;return st=t,Sl=t&&t.type.__scopeId||null,e}function P_(t){Sl=t}function L_(){Sl=null}const rO=t=>qf;function qf(t,e=st,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Dh(-1);const i=Bo(e);let o;try{o=t(...r)}finally{Bo(i),s._d&&Dh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ic(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:u,render:h,renderCache:f,data:p,setupState:g,ctx:w,inheritAttrs:I}=t;let S,b;const _=Bo(t);try{if(n.shapeFlag&4){const T=r||s;S=jt(h.call(T,T,f,i,g,p,w)),b=c}else{const T=e;S=jt(T.length>1?T(i,{attrs:c,slots:a,emit:u}):T(i,null)),b=e.props?c:oO(c)}}catch(T){To.length=0,Dr(T,t,1),S=xe(vt)}let R=S;if(b&&I!==!1){const T=Object.keys(b),{shapeFlag:k}=R;T.length&&k&7&&(o&&T.some(Nf)&&(b=aO(b,o)),R=Ln(R,b))}return n.dirs&&(R=Ln(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),S=R,Bo(_),S}function iO(t){let e;for(let n=0;n<t.length;n++){const s=t[n];if(xs(s)){if(s.type!==vt||s.children==="v-if"){if(e)return;e=s}}else return}return e}const oO=t=>{let e;for(const n in t)(n==="class"||n==="style"||ua(n))&&((e||(e={}))[n]=t[n]);return e},aO=(t,e)=>{const n={};for(const s in t)(!Nf(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function cO(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Og(s,o,u):!!o;if(c&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==s[p]&&!Cl(u,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Og(s,o,u):!0:!!o;return!1}function Og(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Cl(n,i))return!0}return!1}function Wf({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const x_=t=>t.__isSuspense,lO={name:"Suspense",__isSuspense:!0,process(t,e,n,s,r,i,o,a,c,u){t==null?hO(e,n,s,r,i,o,a,c,u):fO(t,e,n,s,r,o,a,c,u)},hydrate:dO,create:zf,normalize:pO},uO=lO;function jo(t,e){const n=t.props&&t.props[e];de(n)&&n()}function hO(t,e,n,s,r,i,o,a,c){const{p:u,o:{createElement:h}}=c,f=h("div"),p=t.suspense=zf(t,r,s,e,f,n,i,o,a,c);u(null,p.pendingBranch=t.ssContent,f,null,s,p,i,o),p.deps>0?(jo(t,"onPending"),jo(t,"onFallback"),u(null,t.ssFallback,e,n,s,null,i,o),li(p,t.ssFallback)):p.resolve(!1,!0)}function fO(t,e,n,s,r,i,o,a,{p:c,um:u,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:w,pendingBranch:I,isInFallback:S,isHydrating:b}=f;if(I)f.pendingBranch=p,un(p,I)?(c(I,p,f.hiddenContainer,null,r,f,i,o,a),f.deps<=0?f.resolve():S&&(c(w,g,n,s,r,null,i,o,a),li(f,g))):(f.pendingId++,b?(f.isHydrating=!1,f.activeBranch=I):u(I,r,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),S?(c(null,p,f.hiddenContainer,null,r,f,i,o,a),f.deps<=0?f.resolve():(c(w,g,n,s,r,null,i,o,a),li(f,g))):w&&un(p,w)?(c(w,p,n,s,r,f,i,o,a),f.resolve(!0)):(c(null,p,f.hiddenContainer,null,r,f,i,o,a),f.deps<=0&&f.resolve()));else if(w&&un(p,w))c(w,p,n,s,r,f,i,o,a),li(f,p);else if(jo(e,"onPending"),f.pendingBranch=p,f.pendingId++,c(null,p,f.hiddenContainer,null,r,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:_,pendingId:R}=f;_>0?setTimeout(()=>{f.pendingId===R&&f.fallback(g)},_):_===0&&f.fallback(g)}}function zf(t,e,n,s,r,i,o,a,c,u,h=!1){const{p:f,m:p,um:g,n:w,o:{parentNode:I,remove:S}}=u;let b;const _=gO(t);_&&e!=null&&e.pendingBranch&&(b=e.pendingId,e.deps++);const R=t.props?Fc(t.props.timeout):void 0,T={vnode:t,parent:e,parentComponent:n,isSVG:o,container:s,hiddenContainer:r,anchor:i,deps:0,pendingId:0,timeout:typeof R=="number"?R:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(k=!1,V=!1){const{vnode:U,activeBranch:O,pendingBranch:A,pendingId:N,effects:x,parentComponent:B,container:X}=T;if(T.isHydrating)T.isHydrating=!1;else if(!k){const re=O&&A.transition&&A.transition.mode==="out-in";re&&(O.transition.afterLeave=()=>{N===T.pendingId&&p(A,X,fe,0)});let{anchor:fe}=T;O&&(fe=w(O),g(O,B,T,!0)),re||p(A,X,fe,0)}li(T,A),T.pendingBranch=null,T.isInFallback=!1;let J=T.parent,we=!1;for(;J;){if(J.pendingBranch){J.effects.push(...x),we=!0;break}J=J.parent}we||Kf(x),T.effects=[],_&&e&&e.pendingBranch&&b===e.pendingId&&(e.deps--,e.deps===0&&!V&&e.resolve()),jo(U,"onResolve")},fallback(k){if(!T.pendingBranch)return;const{vnode:V,activeBranch:U,parentComponent:O,container:A,isSVG:N}=T;jo(V,"onFallback");const x=w(U),B=()=>{T.isInFallback&&(f(null,k,A,x,O,null,N,a,c),li(T,k))},X=k.transition&&k.transition.mode==="out-in";X&&(U.transition.afterLeave=B),T.isInFallback=!0,g(U,O,null,!0),X||B()},move(k,V,U){T.activeBranch&&p(T.activeBranch,k,V,U),T.container=k},next(){return T.activeBranch&&w(T.activeBranch)},registerDep(k,V){const U=!!T.pendingBranch;U&&T.deps++;const O=k.vnode.el;k.asyncDep.catch(A=>{Dr(A,k,0)}).then(A=>{if(k.isUnmounted||T.isUnmounted||T.pendingId!==k.suspenseId)return;k.asyncResolved=!0;const{vnode:N}=k;Ph(k,A,!1),O&&(N.el=O);const x=!O&&k.subTree.el;V(k,N,I(O||k.subTree.el),O?null:w(k.subTree),T,o,c),x&&S(x),Wf(k,N.el),U&&--T.deps===0&&T.resolve()})},unmount(k,V){T.isUnmounted=!0,T.activeBranch&&g(T.activeBranch,n,k,V),T.pendingBranch&&g(T.pendingBranch,n,k,V)}};return T}function dO(t,e,n,s,r,i,o,a,c){const u=e.suspense=zf(e,s,n,t.parentNode,document.createElement("div"),null,r,i,o,a,!0),h=c(t,u.pendingBranch=e.ssContent,n,u,i,o);return u.deps===0&&u.resolve(!1,!0),h}function pO(t){const{shapeFlag:e,children:n}=t,s=e&32;t.ssContent=Ng(s?n.default:n),t.ssFallback=s?Ng(n.fallback):xe(vt)}function Ng(t){let e;if(de(t)){const n=vr&&t._c;n&&(t._d=!1,ze()),t=t(),n&&(t._d=!0,e=xt,fv())}return ne(t)&&(t=iO(t)),t=jt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function M_(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):Kf(t)}function li(t,e){t.activeBranch=e;const{vnode:n,parentComponent:s}=t,r=n.el=e.el;s&&s.subTree===n&&(s.vnode.el=r,Wf(s,r))}function gO(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function mO(t,e){return ya(t,null,e)}function $_(t,e){return ya(t,null,{flush:"post"})}function yO(t,e){return ya(t,null,{flush:"sync"})}const ac={};function Qn(t,e,n){return ya(t,e,n)}function ya(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Pe){var a;const c=xf()===((a=Je)==null?void 0:a.scope)?Je:null;let u,h=!1,f=!1;if(Ke(t)?(u=()=>t.value,h=$o(t)):Gn(t)?(u=()=>t,s=!0):ne(t)?(f=!0,h=t.some(T=>Gn(T)||$o(T)),u=()=>t.map(T=>{if(Ke(T))return T.value;if(Gn(T))return rr(T);if(de(T))return Yn(T,c,2)})):de(t)?e?u=()=>Yn(t,c,2):u=()=>{if(!(c&&c.isUnmounted))return p&&p(),Kt(t,c,3,[g])}:u=fn,e&&s){const T=u;u=()=>rr(T())}let p,g=T=>{p=_.onStop=()=>{Yn(T,c,4)}},w;if(vi)if(g=fn,e?n&&Kt(e,c,3,[u(),f?[]:void 0,g]):u(),r==="sync"){const T=bv();w=T.__watcherHandles||(T.__watcherHandles=[])}else return fn;let I=f?new Array(t.length).fill(ac):ac;const S=()=>{if(_.active)if(e){const T=_.run();(s||h||(f?T.some((k,V)=>yi(k,I[V])):yi(T,I)))&&(p&&p(),Kt(e,c,3,[T,I===ac?void 0:f&&I[0]===ac?[]:I,g]),I=T)}else _.run()};S.allowRecurse=!!e;let b;r==="sync"?b=S:r==="post"?b=()=>at(S,c&&c.suspense):(S.pre=!0,c&&(S.id=c.uid),b=()=>Al(S));const _=new pa(u,b);e?n?S():I=_.run():r==="post"?at(_.run.bind(_),c&&c.suspense):_.run();const R=()=>{_.stop(),c&&c.scope&&kf(c.scope.effects,_)};return w&&w.push(R),R}function _O(t,e,n){const s=this.proxy,r=je(t)?t.includes(".")?F_(s,t):()=>s[t]:t.bind(s,s);let i;de(e)?i=e:(i=e.handler,n=e);const o=Je;Ms(this);const a=ya(r,i.bind(s),n);return o?Ms(o):Ss(),a}function F_(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function rr(t,e){if(!Le(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ke(t))rr(t.value,e);else if(ne(t))for(let n=0;n<t.length;n++)rr(t[n],e);else if(kr(t)||oi(t))t.forEach(n=>{rr(n,e)});else if(o_(t))for(const n in t)rr(t[n],e);return t}function An(t,e){const n=st;if(n===null)return t;const s=Ml(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,u=Pe]=e[i];o&&(de(o)&&(o={mounted:o,updated:o}),o.deep&&rr(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:u}))}return t}function bn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(Fi(),Kt(c,n,8,[t.el,a,t,e]),Vi())}}function Gf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return va(()=>{t.isMounted=!0}),Rl(()=>{t.isUnmounting=!0}),t}const en=[Function,Array],Yf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:en,onEnter:en,onAfterEnter:en,onEnterCancelled:en,onBeforeLeave:en,onLeave:en,onAfterLeave:en,onLeaveCancelled:en,onBeforeAppear:en,onAppear:en,onAfterAppear:en,onAppearCancelled:en},vO={name:"BaseTransition",props:Yf,setup(t,{slots:e}){const n=os(),s=Gf();let r;return()=>{const i=e.default&&Ol(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const I of i)if(I.type!==vt){o=I;break}}const a=Ie(t),{mode:c}=a;if(s.isLeaving)return $u(o);const u=kg(o);if(!u)return $u(o);const h=_i(u,a,s,n);yr(u,h);const f=n.subTree,p=f&&kg(f);let g=!1;const{getTransitionKey:w}=u.type;if(w){const I=w();r===void 0?r=I:I!==r&&(r=I,g=!0)}if(p&&p.type!==vt&&(!un(u,p)||g)){const I=_i(p,a,s,n);if(yr(p,I),c==="out-in")return s.isLeaving=!0,I.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},$u(o);c==="in-out"&&u.type!==vt&&(I.delayLeave=(S,b,_)=>{const R=U_(s,p);R[String(p.key)]=p,S._leaveCb=()=>{b(),S._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=_})}return o}}},V_=vO;function U_(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function _i(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:w,onBeforeAppear:I,onAppear:S,onAfterAppear:b,onAppearCancelled:_}=e,R=String(t.key),T=U_(n,t),k=(O,A)=>{O&&Kt(O,s,9,A)},V=(O,A)=>{const N=A[1];k(O,A),ne(O)?O.every(x=>x.length<=1)&&N():O.length<=1&&N()},U={mode:i,persisted:o,beforeEnter(O){let A=a;if(!n.isMounted)if(r)A=I||a;else return;O._leaveCb&&O._leaveCb(!0);const N=T[R];N&&un(t,N)&&N.el._leaveCb&&N.el._leaveCb(),k(A,[O])},enter(O){let A=c,N=u,x=h;if(!n.isMounted)if(r)A=S||c,N=b||u,x=_||h;else return;let B=!1;const X=O._enterCb=J=>{B||(B=!0,J?k(x,[O]):k(N,[O]),U.delayedLeave&&U.delayedLeave(),O._enterCb=void 0)};A?V(A,[O,X]):X()},leave(O,A){const N=String(t.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return A();k(f,[O]);let x=!1;const B=O._leaveCb=X=>{x||(x=!0,A(),X?k(w,[O]):k(g,[O]),O._leaveCb=void 0,T[N]===t&&delete T[N])};T[N]=t,p?V(p,[O,B]):B()},clone(O){return _i(O,e,n,s)}};return U}function $u(t){if(_a(t))return t=Ln(t),t.children=null,t}function kg(t){return _a(t)?t.children?t.children[0]:void 0:t}function yr(t,e){t.shapeFlag&6&&t.component?yr(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ol(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Xe?(o.patchFlag&128&&r++,s=s.concat(Ol(o.children,e,a))):(e||o.type!==vt)&&s.push(a!=null?Ln(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function En(t,e){return de(t)?(()=>$e({name:t.name},e,{setup:t}))():t}const hr=t=>!!t.type.__asyncLoader;function EO(t){de(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:s,delay:r=200,timeout:i,suspensible:o=!0,onError:a}=t;let c=null,u,h=0;const f=()=>(h++,c=null,p()),p=()=>{let g;return c||(g=c=e().catch(w=>{if(w=w instanceof Error?w:new Error(String(w)),a)return new Promise((I,S)=>{a(w,()=>I(f()),()=>S(w),h+1)});throw w}).then(w=>g!==c&&c?c:(w&&(w.__esModule||w[Symbol.toStringTag]==="Module")&&(w=w.default),u=w,w)))};return En({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return u},setup(){const g=Je;if(u)return()=>Fu(u,g);const w=_=>{c=null,Dr(_,g,13,!s)};if(o&&g.suspense||vi)return p().then(_=>()=>Fu(_,g)).catch(_=>(w(_),()=>s?xe(s,{error:_}):null));const I=dn(!1),S=dn(),b=dn(!!r);return r&&setTimeout(()=>{b.value=!1},r),i!=null&&setTimeout(()=>{if(!I.value&&!S.value){const _=new Error(`Async component timed out after ${i}ms.`);w(_),S.value=_}},i),p().then(()=>{I.value=!0,g.parent&&_a(g.parent.vnode)&&Al(g.parent.update)}).catch(_=>{w(_),S.value=_}),()=>{if(I.value&&u)return Fu(u,g);if(S.value&&s)return xe(s,{error:S.value});if(n&&!b.value)return xe(n)}}})}function Fu(t,e){const{ref:n,props:s,children:r,ce:i}=e.vnode,o=xe(t,s,r);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const _a=t=>t.type.__isKeepAlive,wO={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=os(),s=n.ctx;if(!s.renderer)return()=>{const _=e.default&&e.default();return _&&_.length===1?_[0]:_};const r=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:u,um:h,o:{createElement:f}}}=s,p=f("div");s.activate=(_,R,T,k,V)=>{const U=_.component;u(_,R,T,0,a),c(U.vnode,_,R,T,U,a,k,_.slotScopeIds,V),at(()=>{U.isDeactivated=!1,U.a&&ai(U.a);const O=_.props&&_.props.onVnodeMounted;O&&Pt(O,U.parent,_)},a)},s.deactivate=_=>{const R=_.component;u(_,p,null,1,a),at(()=>{R.da&&ai(R.da);const T=_.props&&_.props.onVnodeUnmounted;T&&Pt(T,R.parent,_),R.isDeactivated=!0},a)};function g(_){Vu(_),h(_,n,a,!0)}function w(_){r.forEach((R,T)=>{const k=xh(R.type);k&&(!_||!_(k))&&I(T)})}function I(_){const R=r.get(_);!o||!un(R,o)?g(R):o&&Vu(o),r.delete(_),i.delete(_)}Qn(()=>[t.include,t.exclude],([_,R])=>{_&&w(T=>co(_,T)),R&&w(T=>!co(R,T))},{flush:"post",deep:!0});let S=null;const b=()=>{S!=null&&r.set(S,Uu(n.subTree))};return va(b),kl(b),Rl(()=>{r.forEach(_=>{const{subTree:R,suspense:T}=n,k=Uu(R);if(_.type===k.type&&_.key===k.key){Vu(k);const V=k.component.da;V&&at(V,T);return}g(_)})}),()=>{if(S=null,!e.default)return null;const _=e.default(),R=_[0];if(_.length>1)return o=null,_;if(!xs(R)||!(R.shapeFlag&4)&&!(R.shapeFlag&128))return o=null,R;let T=Uu(R);const k=T.type,V=xh(hr(T)?T.type.__asyncResolved||{}:k),{include:U,exclude:O,max:A}=t;if(U&&(!V||!co(U,V))||O&&V&&co(O,V))return o=T,R;const N=T.key==null?k:T.key,x=r.get(N);return T.el&&(T=Ln(T),R.shapeFlag&128&&(R.ssContent=T)),S=N,x?(T.el=x.el,T.component=x.component,T.transition&&yr(T,T.transition),T.shapeFlag|=512,i.delete(N),i.add(N)):(i.add(N),A&&i.size>parseInt(A,10)&&I(i.values().next().value)),T.shapeFlag|=256,o=T,x_(R.type)?R:T}}},TO=wO;function co(t,e){return ne(t)?t.some(n=>co(n,e)):je(t)?t.split(",").includes(e):YC(t)?t.test(e):!1}function B_(t,e){H_(t,"a",e)}function j_(t,e){H_(t,"da",e)}function H_(t,e,n=Je){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Nl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)_a(r.parent.vnode)&&bO(s,e,n,r),r=r.parent}}function bO(t,e,n,s){const r=Nl(e,t,s,!0);Dl(()=>{kf(s[e],r)},n)}function Vu(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Uu(t){return t.shapeFlag&128?t.ssContent:t}function Nl(t,e,n=Je,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Fi(),Ms(n);const a=Kt(e,n,t,o);return Ss(),Vi(),a});return s?r.unshift(i):r.push(i),i}}const is=t=>(e,n=Je)=>(!vi||t==="sp")&&Nl(t,(...s)=>e(...s),n),K_=is("bm"),va=is("m"),q_=is("bu"),kl=is("u"),Rl=is("bum"),Dl=is("um"),W_=is("sp"),z_=is("rtg"),G_=is("rtc");function Y_(t,e=Je){Nl("ec",t,e)}const Qf="components",IO="directives";function Pl(t,e){return Xf(Qf,t,!0,e)||t}const Q_=Symbol.for("v-ndc");function AO(t){return je(t)?Xf(Qf,t,!1)||t:t||Q_}function CO(t){return Xf(IO,t)}function Xf(t,e,n=!0,s=!1){const r=st||Je;if(r){const i=r.type;if(t===Qf){const a=xh(i,!1);if(a&&(a===e||a===Mt(e)||a===ha(Mt(e))))return i}const o=Rg(r[t]||i[t],e)||Rg(r.appContext[t],e);return!o&&s?i:o}}function Rg(t,e){return t&&(t[e]||t[Mt(e)]||t[ha(Mt(e))])}function X_(t,e,n,s){let r;const i=n&&n[s];if(ne(t)||je(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Le(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const u=o[a];r[a]=e(t[u],u,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function SO(t,e){for(let n=0;n<e.length;n++){const s=e[n];if(ne(s))for(let r=0;r<s.length;r++)t[s[r].name]=s[r].fn;else s&&(t[s.name]=s.key?(...r)=>{const i=s.fn(...r);return i&&(i.key=s.key),i}:s.fn)}return t}function OO(t,e,n={},s,r){if(st.isCE||st.parent&&hr(st.parent)&&st.parent.isCE)return e!=="default"&&(n.name=e),xe("slot",n,s&&s());let i=t[e];i&&i._c&&(i._d=!1),ze();const o=i&&J_(i(n)),a=Ll(Xe,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function J_(t){return t.some(e=>xs(e)?!(e.type===vt||e.type===Xe&&!J_(e.children)):!0)?t:null}function NO(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:_o(s)]=t[s];return n}const Ch=t=>t?_v(t)?Ml(t)||t.proxy:Ch(t.parent):null,vo=$e(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ch(t.parent),$root:t=>Ch(t.root),$emit:t=>t.emit,$options:t=>Jf(t),$forceUpdate:t=>t.f||(t.f=()=>Al(t.update)),$nextTick:t=>t.n||(t.n=ma.bind(t.proxy)),$watch:t=>_O.bind(t)}),Bu=(t,e)=>t!==Pe&&!t.__isScriptSetup&&Se(t,e),Sh={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Bu(s,e))return o[e]=1,s[e];if(r!==Pe&&Se(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&Se(u,e))return o[e]=3,i[e];if(n!==Pe&&Se(n,e))return o[e]=4,n[e];Oh&&(o[e]=0)}}const h=vo[e];let f,p;if(h)return e==="$attrs"&&Ft(t,"get",e),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Pe&&Se(n,e))return o[e]=4,n[e];if(p=c.config.globalProperties,Se(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Bu(r,e)?(r[e]=n,!0):s!==Pe&&Se(s,e)?(s[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Pe&&Se(t,o)||Bu(e,o)||(a=i[0])&&Se(a,o)||Se(s,o)||Se(vo,o)||Se(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},kO=$e({},Sh,{get(t,e){if(e!==Symbol.unscopables)return Sh.get(t,e,t)},has(t,e){return e[0]!=="_"&&!eS(e)}});function RO(){return null}function DO(){return null}function PO(t){}function LO(t){}function xO(){return null}function MO(){}function $O(t,e){return null}function FO(){return Z_().slots}function VO(){return Z_().attrs}function UO(t,e,n){const s=os();if(n&&n.local){const r=dn(t[e]);return Qn(()=>t[e],i=>r.value=i),Qn(r,i=>{i!==t[e]&&s.emit(`update:${e}`,i)}),r}else return{__v_isRef:!0,get value(){return t[e]},set value(r){s.emit(`update:${e}`,r)}}}function Z_(){const t=os();return t.setupContext||(t.setupContext=wv(t))}function Ho(t){return ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function BO(t,e){const n=Ho(t);for(const s in e){if(s.startsWith("__skip"))continue;let r=n[s];r?ne(r)||de(r)?r=n[s]={type:r,default:e[s]}:r.default=e[s]:r===null&&(r=n[s]={default:e[s]}),r&&e[`__skip_${s}`]&&(r.skipFactory=!0)}return n}function jO(t,e){return!t||!e?t||e:ne(t)&&ne(e)?t.concat(e):$e({},Ho(t),Ho(e))}function HO(t,e){const n={};for(const s in t)e.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>t[s]});return n}function KO(t){const e=os();let n=t();return Ss(),Rf(n)&&(n=n.catch(s=>{throw Ms(e),s})),[n,()=>Ms(e)]}let Oh=!0;function qO(t){const e=Jf(t),n=t.proxy,s=t.ctx;Oh=!1,e.beforeCreate&&Dg(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:u,created:h,beforeMount:f,mounted:p,beforeUpdate:g,updated:w,activated:I,deactivated:S,beforeDestroy:b,beforeUnmount:_,destroyed:R,unmounted:T,render:k,renderTracked:V,renderTriggered:U,errorCaptured:O,serverPrefetch:A,expose:N,inheritAttrs:x,components:B,directives:X,filters:J}=e;if(u&&WO(u,s,null),o)for(const fe in o){const Te=o[fe];de(Te)&&(s[fe]=Te.bind(n))}if(r){const fe=r.call(n,n);Le(fe)&&(t.data=Rr(fe))}if(Oh=!0,i)for(const fe in i){const Te=i[fe],Ge=de(Te)?Te.bind(n,n):de(Te.get)?Te.get.bind(n,n):fn,Ct=!de(Te)&&de(Te.set)?Te.set.bind(n):fn,ot=Lt({get:Ge,set:Ct});Object.defineProperty(s,fe,{enumerable:!0,configurable:!0,get:()=>ot.value,set:He=>ot.value=He})}if(a)for(const fe in a)ev(a[fe],s,n,fe);if(c){const fe=de(c)?c.call(n):c;Reflect.ownKeys(fe).forEach(Te=>{Eo(Te,fe[Te])})}h&&Dg(h,t,"c");function re(fe,Te){ne(Te)?Te.forEach(Ge=>fe(Ge.bind(n))):Te&&fe(Te.bind(n))}if(re(K_,f),re(va,p),re(q_,g),re(kl,w),re(B_,I),re(j_,S),re(Y_,O),re(G_,V),re(z_,U),re(Rl,_),re(Dl,T),re(W_,A),ne(N))if(N.length){const fe=t.exposed||(t.exposed={});N.forEach(Te=>{Object.defineProperty(fe,Te,{get:()=>n[Te],set:Ge=>n[Te]=Ge})})}else t.exposed||(t.exposed={});k&&t.render===fn&&(t.render=k),x!=null&&(t.inheritAttrs=x),B&&(t.components=B),X&&(t.directives=X)}function WO(t,e,n=fn){ne(t)&&(t=Nh(t));for(const s in t){const r=t[s];let i;Le(r)?"default"in r?i=pn(r.from||s,r.default,!0):i=pn(r.from||s):i=pn(r),Ke(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Dg(t,e,n){Kt(ne(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function ev(t,e,n,s){const r=s.includes(".")?F_(n,s):()=>n[s];if(je(t)){const i=e[t];de(i)&&Qn(r,i)}else if(de(t))Qn(r,t.bind(n));else if(Le(t))if(ne(t))t.forEach(i=>ev(i,e,n,s));else{const i=de(t.handler)?t.handler.bind(n):e[t.handler];de(i)&&Qn(r,i,t)}}function Jf(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(u=>Bc(c,u,o,!0)),Bc(c,e,o)),Le(e)&&i.set(e,c),c}function Bc(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Bc(t,i,n,!0),r&&r.forEach(o=>Bc(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=zO[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const zO={data:Pg,props:Lg,emits:Lg,methods:lo,computed:lo,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:lo,directives:lo,watch:YO,provide:Pg,inject:GO};function Pg(t,e){return e?t?function(){return $e(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function GO(t,e){return lo(Nh(t),Nh(e))}function Nh(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ot(t,e){return t?[...new Set([].concat(t,e))]:e}function lo(t,e){return t?$e(Object.create(null),t,e):e}function Lg(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:$e(Object.create(null),Ho(t),Ho(e??{})):e}function YO(t,e){if(!t)return e;if(!e)return t;const n=$e(Object.create(null),t);for(const s in e)n[s]=Ot(t[s],e[s]);return n}function tv(){return{app:null,config:{isNativeTag:WC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QO=0;function XO(t,e){return function(s,r=null){de(s)||(s=$e({},s)),r!=null&&!Le(r)&&(r=null);const i=tv(),o=new Set;let a=!1;const c=i.app={_uid:QO++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Av,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&de(u.install)?(o.add(u),u.install(c,...h)):de(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,f){if(!a){const p=xe(s,r);return p.appContext=i,h&&e?e(p,u):t(p,u,f),a=!0,c._container=u,u.__vue_app__=c,Ml(p.component)||p.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){Ko=c;try{return u()}finally{Ko=null}}};return c}}let Ko=null;function Eo(t,e){if(Je){let n=Je.provides;const s=Je.parent&&Je.parent.provides;s===n&&(n=Je.provides=Object.create(s)),n[t]=e}}function pn(t,e,n=!1){const s=Je||st;if(s||Ko){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Ko._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&de(e)?e.call(s&&s.proxy):e}}function nv(){return!!(Je||st||Ko)}function JO(t,e,n,s=!1){const r={},i={};Mc(i,xl,1),t.propsDefaults=Object.create(null),sv(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:b_(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function ZO(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Ie(r),[c]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(Cl(t.emitsOptions,p))continue;const g=e[p];if(c)if(Se(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const w=Mt(p);r[w]=kh(c,a,w,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{sv(t,e,r,i)&&(u=!0);let h;for(const f in a)(!e||!Se(e,f)&&((h=tn(f))===f||!Se(e,h)))&&(c?n&&(n[f]!==void 0||n[h]!==void 0)&&(r[f]=kh(c,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!Se(e,f))&&(delete i[f],u=!0)}u&&Jn(t,"set","$attrs")}function sv(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(yo(c))continue;const u=e[c];let h;r&&Se(r,h=Mt(c))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:Cl(t.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,o=!0)}if(i){const c=Ie(n),u=a||Pe;for(let h=0;h<i.length;h++){const f=i[h];n[f]=kh(r,c,f,u[f],t,!Se(u,f))}}return o}function kh(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Se(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&de(c)){const{propsDefaults:u}=r;n in u?s=u[n]:(Ms(r),s=u[n]=c.call(null,e),Ss())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===tn(n))&&(s=!0))}return s}function rv(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!de(t)){const h=f=>{c=!0;const[p,g]=rv(f,e,!0);$e(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return Le(t)&&s.set(t,ii),ii;if(ne(i))for(let h=0;h<i.length;h++){const f=Mt(i[h]);xg(f)&&(o[f]=Pe)}else if(i)for(const h in i){const f=Mt(h);if(xg(f)){const p=i[h],g=o[f]=ne(p)||de(p)?{type:p}:$e({},p);if(g){const w=Fg(Boolean,g.type),I=Fg(String,g.type);g[0]=w>-1,g[1]=I<0||w<I,(w>-1||Se(g,"default"))&&a.push(f)}}}const u=[o,a];return Le(t)&&s.set(t,u),u}function xg(t){return t[0]!=="$"}function Mg(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function $g(t,e){return Mg(t)===Mg(e)}function Fg(t,e){return ne(e)?e.findIndex(n=>$g(n,t)):de(e)&&$g(e,t)?0:-1}const iv=t=>t[0]==="_"||t==="$stable",Zf=t=>ne(t)?t.map(jt):[jt(t)],eN=(t,e,n)=>{if(e._n)return e;const s=qf((...r)=>Zf(e(...r)),n);return s._c=!1,s},ov=(t,e,n)=>{const s=t._ctx;for(const r in t){if(iv(r))continue;const i=t[r];if(de(i))e[r]=eN(r,i,s);else if(i!=null){const o=Zf(i);e[r]=()=>o}}},av=(t,e)=>{const n=Zf(e);t.slots.default=()=>n},tN=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ie(e),Mc(e,"_",n)):ov(e,t.slots={})}else t.slots={},e&&av(t,e);Mc(t.slots,xl,1)},nN=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Pe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:($e(r,e),!n&&a===1&&delete r._):(i=!e.$stable,ov(e,r)),o=e}else e&&(av(t,e),o={default:1});if(i)for(const a in r)!iv(a)&&!(a in o)&&delete r[a]};function jc(t,e,n,s,r=!1){if(ne(t)){t.forEach((p,g)=>jc(p,e&&(ne(e)?e[g]:e),n,s,r));return}if(hr(s)&&!r)return;const i=s.shapeFlag&4?Ml(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,u=e&&e.r,h=a.refs===Pe?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==c&&(je(u)?(h[u]=null,Se(f,u)&&(f[u]=null)):Ke(u)&&(u.value=null)),de(c))Yn(c,a,12,[o,h]);else{const p=je(c),g=Ke(c);if(p||g){const w=()=>{if(t.f){const I=p?Se(f,c)?f[c]:h[c]:c.value;r?ne(I)&&kf(I,i):ne(I)?I.includes(i)||I.push(i):p?(h[c]=[i],Se(f,c)&&(f[c]=h[c])):(c.value=[i],t.k&&(h[t.k]=c.value))}else p?(h[c]=o,Se(f,c)&&(f[c]=o)):g&&(c.value=o,t.k&&(h[t.k]=o))};o?(w.id=-1,at(w,n)):w()}}}let hs=!1;const cc=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",lc=t=>t.nodeType===8;function sN(t){const{mt:e,p:n,o:{patchProp:s,createText:r,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:u}}=t,h=(b,_)=>{if(!_.hasChildNodes()){n(null,b,_),Uc(),_._vnode=b;return}hs=!1,f(_.firstChild,b,null,null,null),Uc(),_._vnode=b,hs&&console.error("Hydration completed but contains mismatches.")},f=(b,_,R,T,k,V=!1)=>{const U=lc(b)&&b.data==="[",O=()=>I(b,_,R,T,k,U),{type:A,ref:N,shapeFlag:x,patchFlag:B}=_;let X=b.nodeType;_.el=b,B===-2&&(V=!1,_.dynamicChildren=null);let J=null;switch(A){case _r:X!==3?_.children===""?(c(_.el=r(""),o(b),b),J=b):J=O():(b.data!==_.children&&(hs=!0,b.data=_.children),J=i(b));break;case vt:X!==8||U?J=O():J=i(b);break;case fr:if(U&&(b=i(b),X=b.nodeType),X===1||X===3){J=b;const we=!_.children.length;for(let re=0;re<_.staticCount;re++)we&&(_.children+=J.nodeType===1?J.outerHTML:J.data),re===_.staticCount-1&&(_.anchor=J),J=i(J);return U?i(J):J}else O();break;case Xe:U?J=w(b,_,R,T,k,V):J=O();break;default:if(x&1)X!==1||_.type.toLowerCase()!==b.tagName.toLowerCase()?J=O():J=p(b,_,R,T,k,V);else if(x&6){_.slotScopeIds=k;const we=o(b);if(e(_,we,null,R,T,cc(we),V),J=U?S(b):i(b),J&&lc(J)&&J.data==="teleport end"&&(J=i(J)),hr(_)){let re;U?(re=xe(Xe),re.anchor=J?J.previousSibling:we.lastChild):re=b.nodeType===3?Cn(""):xe("div"),re.el=b,_.component.subTree=re}}else x&64?X!==8?J=O():J=_.type.hydrate(b,_,R,T,k,V,t,g):x&128&&(J=_.type.hydrate(b,_,R,T,cc(o(b)),k,V,t,f))}return N!=null&&jc(N,null,T,_),J},p=(b,_,R,T,k,V)=>{V=V||!!_.dynamicChildren;const{type:U,props:O,patchFlag:A,shapeFlag:N,dirs:x}=_,B=U==="input"&&x||U==="option";if(B||A!==-1){if(x&&bn(_,null,R,"created"),O)if(B||!V||A&48)for(const J in O)(B&&J.endsWith("value")||ua(J)&&!yo(J))&&s(b,J,null,O[J],!1,void 0,R);else O.onClick&&s(b,"onClick",null,O.onClick,!1,void 0,R);let X;if((X=O&&O.onVnodeBeforeMount)&&Pt(X,R,_),x&&bn(_,null,R,"beforeMount"),((X=O&&O.onVnodeMounted)||x)&&M_(()=>{X&&Pt(X,R,_),x&&bn(_,null,R,"mounted")},T),N&16&&!(O&&(O.innerHTML||O.textContent))){let J=g(b.firstChild,_,b,R,T,k,V);for(;J;){hs=!0;const we=J;J=J.nextSibling,a(we)}}else N&8&&b.textContent!==_.children&&(hs=!0,b.textContent=_.children)}return b.nextSibling},g=(b,_,R,T,k,V,U)=>{U=U||!!_.dynamicChildren;const O=_.children,A=O.length;for(let N=0;N<A;N++){const x=U?O[N]:O[N]=jt(O[N]);if(b)b=f(b,x,T,k,V,U);else{if(x.type===_r&&!x.children)continue;hs=!0,n(null,x,R,null,T,k,cc(R),V)}}return b},w=(b,_,R,T,k,V)=>{const{slotScopeIds:U}=_;U&&(k=k?k.concat(U):U);const O=o(b),A=g(i(b),_,O,R,T,k,V);return A&&lc(A)&&A.data==="]"?i(_.anchor=A):(hs=!0,c(_.anchor=u("]"),O,A),A)},I=(b,_,R,T,k,V)=>{if(hs=!0,_.el=null,V){const A=S(b);for(;;){const N=i(b);if(N&&N!==A)a(N);else break}}const U=i(b),O=o(b);return a(b),n(null,_,O,U,R,T,cc(O),k),U},S=b=>{let _=0;for(;b;)if(b=i(b),b&&lc(b)&&(b.data==="["&&_++,b.data==="]")){if(_===0)return i(b);_--}return b};return[h,f]}const at=M_;function cv(t){return uv(t)}function lv(t){return uv(t,sN)}function uv(t,e){const n=wh();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:u,setElementText:h,parentNode:f,nextSibling:p,setScopeId:g=fn,insertStaticContent:w}=t,I=(m,E,C,L=null,F=null,H=null,G=!1,W=null,D=!!E.dynamicChildren)=>{if(m===E)return;m&&!un(m,E)&&(L=M(m),He(m,F,H,!0),m=null),E.patchFlag===-2&&(D=!1,E.dynamicChildren=null);const{type:j,ref:ce,shapeFlag:se}=E;switch(j){case _r:S(m,E,C,L);break;case vt:b(m,E,C,L);break;case fr:m==null&&_(E,C,L,G);break;case Xe:B(m,E,C,L,F,H,G,W,D);break;default:se&1?k(m,E,C,L,F,H,G,W,D):se&6?X(m,E,C,L,F,H,G,W,D):(se&64||se&128)&&j.process(m,E,C,L,F,H,G,W,D,Y)}ce!=null&&F&&jc(ce,m&&m.ref,H,E||m,!E)},S=(m,E,C,L)=>{if(m==null)s(E.el=a(E.children),C,L);else{const F=E.el=m.el;E.children!==m.children&&u(F,E.children)}},b=(m,E,C,L)=>{m==null?s(E.el=c(E.children||""),C,L):E.el=m.el},_=(m,E,C,L)=>{[m.el,m.anchor]=w(m.children,E,C,L,m.el,m.anchor)},R=({el:m,anchor:E},C,L)=>{let F;for(;m&&m!==E;)F=p(m),s(m,C,L),m=F;s(E,C,L)},T=({el:m,anchor:E})=>{let C;for(;m&&m!==E;)C=p(m),r(m),m=C;r(E)},k=(m,E,C,L,F,H,G,W,D)=>{G=G||E.type==="svg",m==null?V(E,C,L,F,H,G,W,D):A(m,E,F,H,G,W,D)},V=(m,E,C,L,F,H,G,W)=>{let D,j;const{type:ce,props:se,shapeFlag:oe,transition:he,dirs:ve}=m;if(D=m.el=o(m.type,H,se&&se.is,se),oe&8?h(D,m.children):oe&16&&O(m.children,D,null,L,F,H&&ce!=="foreignObject",G,W),ve&&bn(m,null,L,"created"),U(D,m,m.scopeId,G,L),se){for(const Ce in se)Ce!=="value"&&!yo(Ce)&&i(D,Ce,null,se[Ce],H,m.children,L,F,Fe);"value"in se&&i(D,"value",null,se.value),(j=se.onVnodeBeforeMount)&&Pt(j,L,m)}ve&&bn(m,null,L,"beforeMount");const Ne=(!F||F&&!F.pendingBranch)&&he&&!he.persisted;Ne&&he.beforeEnter(D),s(D,E,C),((j=se&&se.onVnodeMounted)||Ne||ve)&&at(()=>{j&&Pt(j,L,m),Ne&&he.enter(D),ve&&bn(m,null,L,"mounted")},F)},U=(m,E,C,L,F)=>{if(C&&g(m,C),L)for(let H=0;H<L.length;H++)g(m,L[H]);if(F){let H=F.subTree;if(E===H){const G=F.vnode;U(m,G,G.scopeId,G.slotScopeIds,F.parent)}}},O=(m,E,C,L,F,H,G,W,D=0)=>{for(let j=D;j<m.length;j++){const ce=m[j]=W?ys(m[j]):jt(m[j]);I(null,ce,E,C,L,F,H,G,W)}},A=(m,E,C,L,F,H,G)=>{const W=E.el=m.el;let{patchFlag:D,dynamicChildren:j,dirs:ce}=E;D|=m.patchFlag&16;const se=m.props||Pe,oe=E.props||Pe;let he;C&&Zs(C,!1),(he=oe.onVnodeBeforeUpdate)&&Pt(he,C,E,m),ce&&bn(E,m,C,"beforeUpdate"),C&&Zs(C,!0);const ve=F&&E.type!=="foreignObject";if(j?N(m.dynamicChildren,j,W,C,L,ve,H):G||Te(m,E,W,null,C,L,ve,H,!1),D>0){if(D&16)x(W,E,se,oe,C,L,F);else if(D&2&&se.class!==oe.class&&i(W,"class",null,oe.class,F),D&4&&i(W,"style",se.style,oe.style,F),D&8){const Ne=E.dynamicProps;for(let Ce=0;Ce<Ne.length;Ce++){const Me=Ne[Ce],Ut=se[Me],Ks=oe[Me];(Ks!==Ut||Me==="value")&&i(W,Me,Ut,Ks,F,m.children,C,L,Fe)}}D&1&&m.children!==E.children&&h(W,E.children)}else!G&&j==null&&x(W,E,se,oe,C,L,F);((he=oe.onVnodeUpdated)||ce)&&at(()=>{he&&Pt(he,C,E,m),ce&&bn(E,m,C,"updated")},L)},N=(m,E,C,L,F,H,G)=>{for(let W=0;W<E.length;W++){const D=m[W],j=E[W],ce=D.el&&(D.type===Xe||!un(D,j)||D.shapeFlag&70)?f(D.el):C;I(D,j,ce,null,L,F,H,G,!0)}},x=(m,E,C,L,F,H,G)=>{if(C!==L){if(C!==Pe)for(const W in C)!yo(W)&&!(W in L)&&i(m,W,C[W],null,G,E.children,F,H,Fe);for(const W in L){if(yo(W))continue;const D=L[W],j=C[W];D!==j&&W!=="value"&&i(m,W,j,D,G,E.children,F,H,Fe)}"value"in L&&i(m,"value",C.value,L.value)}},B=(m,E,C,L,F,H,G,W,D)=>{const j=E.el=m?m.el:a(""),ce=E.anchor=m?m.anchor:a("");let{patchFlag:se,dynamicChildren:oe,slotScopeIds:he}=E;he&&(W=W?W.concat(he):he),m==null?(s(j,C,L),s(ce,C,L),O(E.children,C,ce,F,H,G,W,D)):se>0&&se&64&&oe&&m.dynamicChildren?(N(m.dynamicChildren,oe,C,F,H,G,W),(E.key!=null||F&&E===F.subTree)&&ed(m,E,!0)):Te(m,E,C,ce,F,H,G,W,D)},X=(m,E,C,L,F,H,G,W,D)=>{E.slotScopeIds=W,m==null?E.shapeFlag&512?F.ctx.activate(E,C,L,G,D):J(E,C,L,F,H,G,D):we(m,E,D)},J=(m,E,C,L,F,H,G)=>{const W=m.component=yv(m,L,F);if(_a(m)&&(W.ctx.renderer=Y),vv(W),W.asyncDep){if(F&&F.registerDep(W,re),!m.el){const D=W.subTree=xe(vt);b(null,D,E,C)}return}re(W,m,E,C,F,H,G)},we=(m,E,C)=>{const L=E.component=m.component;if(cO(m,E,C))if(L.asyncDep&&!L.asyncResolved){fe(L,E,C);return}else L.next=E,tO(L.update),L.update();else E.el=m.el,L.vnode=E},re=(m,E,C,L,F,H,G)=>{const W=()=>{if(m.isMounted){let{next:ce,bu:se,u:oe,parent:he,vnode:ve}=m,Ne=ce,Ce;Zs(m,!1),ce?(ce.el=ve.el,fe(m,ce,G)):ce=ve,se&&ai(se),(Ce=ce.props&&ce.props.onVnodeBeforeUpdate)&&Pt(Ce,he,ce,ve),Zs(m,!0);const Me=Ic(m),Ut=m.subTree;m.subTree=Me,I(Ut,Me,f(Ut.el),M(Ut),m,F,H),ce.el=Me.el,Ne===null&&Wf(m,Me.el),oe&&at(oe,F),(Ce=ce.props&&ce.props.onVnodeUpdated)&&at(()=>Pt(Ce,he,ce,ve),F)}else{let ce;const{el:se,props:oe}=E,{bm:he,m:ve,parent:Ne}=m,Ce=hr(E);if(Zs(m,!1),he&&ai(he),!Ce&&(ce=oe&&oe.onVnodeBeforeMount)&&Pt(ce,Ne,E),Zs(m,!0),se&&P){const Me=()=>{m.subTree=Ic(m),P(se,m.subTree,m,F,null)};Ce?E.type.__asyncLoader().then(()=>!m.isUnmounted&&Me()):Me()}else{const Me=m.subTree=Ic(m);I(null,Me,C,L,m,F,H),E.el=Me.el}if(ve&&at(ve,F),!Ce&&(ce=oe&&oe.onVnodeMounted)){const Me=E;at(()=>Pt(ce,Ne,Me),F)}(E.shapeFlag&256||Ne&&hr(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&m.a&&at(m.a,F),m.isMounted=!0,E=C=L=null}},D=m.effect=new pa(W,()=>Al(j),m.scope),j=m.update=()=>D.run();j.id=m.uid,Zs(m,!0),j()},fe=(m,E,C)=>{E.component=m;const L=m.vnode.props;m.vnode=E,m.next=null,ZO(m,E.props,L,C),nN(m,E.children,C),Fi(),Sg(),Vi()},Te=(m,E,C,L,F,H,G,W,D=!1)=>{const j=m&&m.children,ce=m?m.shapeFlag:0,se=E.children,{patchFlag:oe,shapeFlag:he}=E;if(oe>0){if(oe&128){Ct(j,se,C,L,F,H,G,W,D);return}else if(oe&256){Ge(j,se,C,L,F,H,G,W,D);return}}he&8?(ce&16&&Fe(j,F,H),se!==j&&h(C,se)):ce&16?he&16?Ct(j,se,C,L,F,H,G,W,D):Fe(j,F,H,!0):(ce&8&&h(C,""),he&16&&O(se,C,L,F,H,G,W,D))},Ge=(m,E,C,L,F,H,G,W,D)=>{m=m||ii,E=E||ii;const j=m.length,ce=E.length,se=Math.min(j,ce);let oe;for(oe=0;oe<se;oe++){const he=E[oe]=D?ys(E[oe]):jt(E[oe]);I(m[oe],he,C,null,F,H,G,W,D)}j>ce?Fe(m,F,H,!0,!1,se):O(E,C,L,F,H,G,W,D,se)},Ct=(m,E,C,L,F,H,G,W,D)=>{let j=0;const ce=E.length;let se=m.length-1,oe=ce-1;for(;j<=se&&j<=oe;){const he=m[j],ve=E[j]=D?ys(E[j]):jt(E[j]);if(un(he,ve))I(he,ve,C,null,F,H,G,W,D);else break;j++}for(;j<=se&&j<=oe;){const he=m[se],ve=E[oe]=D?ys(E[oe]):jt(E[oe]);if(un(he,ve))I(he,ve,C,null,F,H,G,W,D);else break;se--,oe--}if(j>se){if(j<=oe){const he=oe+1,ve=he<ce?E[he].el:L;for(;j<=oe;)I(null,E[j]=D?ys(E[j]):jt(E[j]),C,ve,F,H,G,W,D),j++}}else if(j>oe)for(;j<=se;)He(m[j],F,H,!0),j++;else{const he=j,ve=j,Ne=new Map;for(j=ve;j<=oe;j++){const dt=E[j]=D?ys(E[j]):jt(E[j]);dt.key!=null&&Ne.set(dt.key,j)}let Ce,Me=0;const Ut=oe-ve+1;let Ks=!1,Ba=0;const qs=new Array(Ut);for(j=0;j<Ut;j++)qs[j]=0;for(j=he;j<=se;j++){const dt=m[j];if(Me>=Ut){He(dt,F,H,!0);continue}let Xt;if(dt.key!=null)Xt=Ne.get(dt.key);else for(Ce=ve;Ce<=oe;Ce++)if(qs[Ce-ve]===0&&un(dt,E[Ce])){Xt=Ce;break}Xt===void 0?He(dt,F,H,!0):(qs[Xt-ve]=j+1,Xt>=Ba?Ba=Xt:Ks=!0,I(dt,E[Xt],C,null,F,H,G,W,D),Me++)}const ja=Ks?rN(qs):ii;for(Ce=ja.length-1,j=Ut-1;j>=0;j--){const dt=ve+j,Xt=E[dt],as=dt+1<ce?E[dt+1].el:L;qs[j]===0?I(null,Xt,C,as,F,H,G,W,D):Ks&&(Ce<0||j!==ja[Ce]?ot(Xt,C,as,2):Ce--)}}},ot=(m,E,C,L,F=null)=>{const{el:H,type:G,transition:W,children:D,shapeFlag:j}=m;if(j&6){ot(m.component.subTree,E,C,L);return}if(j&128){m.suspense.move(E,C,L);return}if(j&64){G.move(m,E,C,Y);return}if(G===Xe){s(H,E,C);for(let se=0;se<D.length;se++)ot(D[se],E,C,L);s(m.anchor,E,C);return}if(G===fr){R(m,E,C);return}if(L!==2&&j&1&&W)if(L===0)W.beforeEnter(H),s(H,E,C),at(()=>W.enter(H),F);else{const{leave:se,delayLeave:oe,afterLeave:he}=W,ve=()=>s(H,E,C),Ne=()=>{se(H,()=>{ve(),he&&he()})};oe?oe(H,ve,Ne):Ne()}else s(H,E,C)},He=(m,E,C,L=!1,F=!1)=>{const{type:H,props:G,ref:W,children:D,dynamicChildren:j,shapeFlag:ce,patchFlag:se,dirs:oe}=m;if(W!=null&&jc(W,null,C,m,!0),ce&256){E.ctx.deactivate(m);return}const he=ce&1&&oe,ve=!hr(m);let Ne;if(ve&&(Ne=G&&G.onVnodeBeforeUnmount)&&Pt(Ne,E,m),ce&6)ft(m.component,C,L);else{if(ce&128){m.suspense.unmount(C,L);return}he&&bn(m,null,E,"beforeUnmount"),ce&64?m.type.remove(m,E,C,F,Y,L):j&&(H!==Xe||se>0&&se&64)?Fe(j,E,C,!1,!0):(H===Xe&&se&384||!F&&ce&16)&&Fe(D,E,C),L&&Vt(m)}(ve&&(Ne=G&&G.onVnodeUnmounted)||he)&&at(()=>{Ne&&Pt(Ne,E,m),he&&bn(m,null,E,"unmounted")},C)},Vt=m=>{const{type:E,el:C,anchor:L,transition:F}=m;if(E===Xe){St(C,L);return}if(E===fr){T(m);return}const H=()=>{r(C),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(m.shapeFlag&1&&F&&!F.persisted){const{leave:G,delayLeave:W}=F,D=()=>G(C,H);W?W(m.el,H,D):D()}else H()},St=(m,E)=>{let C;for(;m!==E;)C=p(m),r(m),m=C;r(E)},ft=(m,E,C)=>{const{bum:L,scope:F,update:H,subTree:G,um:W}=m;L&&ai(L),F.stop(),H&&(H.active=!1,He(G,m,E,C)),W&&at(W,E),at(()=>{m.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},Fe=(m,E,C,L=!1,F=!1,H=0)=>{for(let G=H;G<m.length;G++)He(m[G],E,C,L,F)},M=m=>m.shapeFlag&6?M(m.component.subTree):m.shapeFlag&128?m.suspense.next():p(m.anchor||m.el),Z=(m,E,C)=>{m==null?E._vnode&&He(E._vnode,null,null,!0):I(E._vnode||null,m,E,null,null,null,C),Sg(),Uc(),E._vnode=m},Y={p:I,um:He,m:ot,r:Vt,mt:J,mc:O,pc:Te,pbc:N,n:M,o:t};let ie,P;return e&&([ie,P]=e(Y)),{render:Z,hydrate:ie,createApp:XO(Z,ie)}}function Zs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function ed(t,e,n=!1){const s=t.children,r=e.children;if(ne(s)&&ne(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ys(r[i]),a.el=o.el),n||ed(o,a)),a.type===_r&&(a.el=o.el)}}function rN(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const iN=t=>t.__isTeleport,wo=t=>t&&(t.disabled||t.disabled===""),Vg=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Rh=(t,e)=>{const n=t&&t.to;return je(n)?e?e(n):null:n},oN={__isTeleport:!0,process(t,e,n,s,r,i,o,a,c,u){const{mc:h,pc:f,pbc:p,o:{insert:g,querySelector:w,createText:I,createComment:S}}=u,b=wo(e.props);let{shapeFlag:_,children:R,dynamicChildren:T}=e;if(t==null){const k=e.el=I(""),V=e.anchor=I("");g(k,n,s),g(V,n,s);const U=e.target=Rh(e.props,w),O=e.targetAnchor=I("");U&&(g(O,U),o=o||Vg(U));const A=(N,x)=>{_&16&&h(R,N,x,r,i,o,a,c)};b?A(n,V):U&&A(U,O)}else{e.el=t.el;const k=e.anchor=t.anchor,V=e.target=t.target,U=e.targetAnchor=t.targetAnchor,O=wo(t.props),A=O?n:V,N=O?k:U;if(o=o||Vg(V),T?(p(t.dynamicChildren,T,A,r,i,o,a),ed(t,e,!0)):c||f(t,e,A,N,r,i,o,a,!1),b)O||uc(e,n,k,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const x=e.target=Rh(e.props,w);x&&uc(e,x,null,u,0)}else O&&uc(e,V,U,u,1)}hv(e)},remove(t,e,n,s,{um:r,o:{remove:i}},o){const{shapeFlag:a,children:c,anchor:u,targetAnchor:h,target:f,props:p}=t;if(f&&i(h),(o||!wo(p))&&(i(u),a&16))for(let g=0;g<c.length;g++){const w=c[g];r(w,e,n,!0,!!w.dynamicChildren)}},move:uc,hydrate:aN};function uc(t,e,n,{o:{insert:s},m:r},i=2){i===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:u,props:h}=t,f=i===2;if(f&&s(o,e,n),(!f||wo(h))&&c&16)for(let p=0;p<u.length;p++)r(u[p],e,n,2);f&&s(a,e,n)}function aN(t,e,n,s,r,i,{o:{nextSibling:o,parentNode:a,querySelector:c}},u){const h=e.target=Rh(e.props,c);if(h){const f=h._lpa||h.firstChild;if(e.shapeFlag&16)if(wo(e.props))e.anchor=u(o(t),e,a(t),n,s,r,i),e.targetAnchor=f;else{e.anchor=o(t);let p=f;for(;p;)if(p=o(p),p&&p.nodeType===8&&p.data==="teleport anchor"){e.targetAnchor=p,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(f,e,h,n,s,r,i)}hv(e)}return e.anchor&&o(e.anchor)}const cN=oN;function hv(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Xe=Symbol.for("v-fgt"),_r=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),fr=Symbol.for("v-stc"),To=[];let xt=null;function ze(t=!1){To.push(xt=t?null:[])}function fv(){To.pop(),xt=To[To.length-1]||null}let vr=1;function Dh(t){vr+=t}function dv(t){return t.dynamicChildren=vr>0?xt||ii:null,fv(),vr>0&&xt&&xt.push(t),t}function lt(t,e,n,s,r,i){return dv(te(t,e,n,s,r,i,!0))}function Ll(t,e,n,s,r){return dv(xe(t,e,n,s,r,!0))}function xs(t){return t?t.__v_isVNode===!0:!1}function un(t,e){return t.type===e.type&&t.key===e.key}function lN(t){}const xl="__vInternal",pv=({key:t})=>t??null,Ac=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?je(t)||Ke(t)||de(t)?{i:st,r:t,k:e,f:!!n}:t:null);function te(t,e=null,n=null,s=0,r=null,i=t===Xe?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pv(e),ref:e&&Ac(e),scopeId:Sl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:st};return a?(td(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=je(n)?8:16),vr>0&&!o&&xt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&xt.push(c),c}const xe=uN;function uN(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Q_)&&(t=vt),xs(t)){const a=Ln(t,e,!0);return n&&td(a,n),vr>0&&!i&&xt&&(a.shapeFlag&6?xt[xt.indexOf(t)]=a:xt.push(a)),a.patchFlag|=-2,a}if(_N(t)&&(t=t.__vccOpts),e){e=gv(e);let{class:a,style:c}=e;a&&!je(a)&&(e.class=da(a)),Le(c)&&(Vf(c)&&!ne(c)&&(c=$e({},c)),e.style=fa(c))}const o=je(t)?1:x_(t)?128:iN(t)?64:Le(t)?4:de(t)?2:0;return te(t,e,n,s,r,o,i,!0)}function gv(t){return t?Vf(t)||xl in t?$e({},t):t:null}function Ln(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?mv(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&pv(a),ref:e&&e.ref?n&&r?ne(r)?r.concat(Ac(e)):[r,Ac(e)]:Ac(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xe?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ln(t.ssContent),ssFallback:t.ssFallback&&Ln(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Cn(t=" ",e=0){return xe(_r,null,t,e)}function hN(t,e){const n=xe(fr,null,t);return n.staticCount=e,n}function bs(t="",e=!1){return e?(ze(),Ll(vt,null,t)):xe(vt,null,t)}function jt(t){return t==null||typeof t=="boolean"?xe(vt):ne(t)?xe(Xe,null,t.slice()):typeof t=="object"?ys(t):xe(_r,null,String(t))}function ys(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ln(t)}function td(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),td(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(xl in e)?e._ctx=st:r===3&&st&&(st.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:st},n=32):(e=String(e),s&64?(n=16,e=[Cn(e)]):n=8);t.children=e,t.shapeFlag|=n}function mv(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=da([e.class,s.class]));else if(r==="style")e.style=fa([e.style,s.style]);else if(ua(r)){const i=e[r],o=s[r];o&&i!==o&&!(ne(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Pt(t,e,n,s=null){Kt(t,e,7,[n,s])}const fN=tv();let dN=0;function yv(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||fN,i={uid:dN++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Pf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rv(s,r),emitsOptions:D_(s,r),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:s.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=sO.bind(null,i),t.ce&&t.ce(i),i}let Je=null;const os=()=>Je||st;let nd,Yr,Ug="__VUE_INSTANCE_SETTERS__";(Yr=wh()[Ug])||(Yr=wh()[Ug]=[]),Yr.push(t=>Je=t),nd=t=>{Yr.length>1?Yr.forEach(e=>e(t)):Yr[0](t)};const Ms=t=>{nd(t),t.scope.on()},Ss=()=>{Je&&Je.scope.off(),nd(null)};function _v(t){return t.vnode.shapeFlag&4}let vi=!1;function vv(t,e=!1){vi=e;const{props:n,children:s}=t.vnode,r=_v(t);JO(t,n,r,e),tN(t,s);const i=r?pN(t,e):void 0;return vi=!1,i}function pN(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ga(new Proxy(t.ctx,Sh));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?wv(t):null;Ms(t),Fi();const i=Yn(s,t,0,[t.props,r]);if(Vi(),Ss(),Rf(i)){if(i.then(Ss,Ss),e)return i.then(o=>{Ph(t,o,e)}).catch(o=>{Dr(o,t,0)});t.asyncDep=i}else Ph(t,i,e)}else Ev(t,e)}function Ph(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Le(e)&&(t.setupState=jf(e)),Ev(t,n)}let Hc,Lh;function gN(t){Hc=t,Lh=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,kO))}}const mN=()=>!Hc;function Ev(t,e,n){const s=t.type;if(!t.render){if(!e&&Hc&&!s.render){const r=s.template||Jf(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,u=$e($e({isCustomElement:i,delimiters:a},o),c);s.render=Hc(r,u)}}t.render=s.render||fn,Lh&&Lh(t)}Ms(t),Fi(),qO(t),Vi(),Ss()}function yN(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ft(t,"get","$attrs"),e[n]}}))}function wv(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return yN(t)},slots:t.slots,emit:t.emit,expose:e}}function Ml(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(jf(ga(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in vo)return vo[n](t)},has(e,n){return n in e||n in vo}}))}function xh(t,e=!0){return de(t)?t.displayName||t.name:t.name||e&&t.__name}function _N(t){return de(t)&&"__vccOpts"in t}const Lt=(t,e)=>QS(t,e,vi);function $l(t,e,n){const s=arguments.length;return s===2?Le(e)&&!ne(e)?xs(e)?xe(t,null,[e]):xe(t,e):xe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&xs(n)&&(n=[n]),xe(t,e,n))}const Tv=Symbol.for("v-scx"),bv=()=>pn(Tv);function vN(){}function EN(t,e,n,s){const r=n[s];if(r&&Iv(r,t))return r;const i=e();return i.memo=t.slice(),n[s]=i}function Iv(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(yi(n[s],e[s]))return!1;return vr>0&&xt&&xt.push(t),!0}const Av="3.3.4",wN={createComponentInstance:yv,setupComponent:vv,renderComponentRoot:Ic,setCurrentRenderingInstance:Bo,isVNode:xs,normalizeVNode:jt},TN=wN,bN=null,IN=null,AN="http://www.w3.org/2000/svg",sr=typeof document<"u"?document:null,Bg=sr&&sr.createElement("template"),CN={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?sr.createElementNS(AN,t):sr.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>sr.createTextNode(t),createComment:t=>sr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>sr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Bg.innerHTML=s?`<svg>${t}</svg>`:t;const a=Bg.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function SN(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function ON(t,e,n){const s=t.style,r=je(n);if(n&&!r){if(e&&!je(e))for(const i in e)n[i]==null&&Mh(s,i,"");for(const i in n)Mh(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const jg=/\s*!important$/;function Mh(t,e,n){if(ne(n))n.forEach(s=>Mh(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=NN(t,e);jg.test(n)?t.setProperty(tn(s),n.replace(jg,""),"important"):t[s]=n}}const Hg=["Webkit","Moz","ms"],ju={};function NN(t,e){const n=ju[e];if(n)return n;let s=Mt(e);if(s!=="filter"&&s in t)return ju[e]=s;s=ha(s);for(let r=0;r<Hg.length;r++){const i=Hg[r]+s;if(i in t)return ju[e]=i}return e}const Kg="http://www.w3.org/1999/xlink";function kN(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Kg,e.slice(6,e.length)):t.setAttributeNS(Kg,e,n);else{const i=aS(e);n==null||i&&!a_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function RN(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,h=n??"";u!==h&&(t.value=h),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=a_(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function Kn(t,e,n,s){t.addEventListener(e,n,s)}function DN(t,e,n,s){t.removeEventListener(e,n,s)}function PN(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=LN(e);if(s){const u=i[e]=$N(s,r);Kn(t,a,u,c)}else o&&(DN(t,a,o,c),i[e]=void 0)}}const qg=/(?:Once|Passive|Capture)$/;function LN(t){let e;if(qg.test(t)){e={};let s;for(;s=t.match(qg);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):tn(t.slice(2)),e]}let Hu=0;const xN=Promise.resolve(),MN=()=>Hu||(xN.then(()=>Hu=0),Hu=Date.now());function $N(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Kt(FN(s,n.value),e,5,[s])};return n.value=t,n.attached=MN(),n}function FN(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Wg=/^on[a-z]/,VN=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?SN(t,s,r):e==="style"?ON(t,n,s):ua(e)?Nf(e)||PN(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):UN(t,e,s,r))?RN(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),kN(t,e,s,r))};function UN(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Wg.test(e)&&de(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Wg.test(e)&&je(n)?!1:e in t}function Cv(t,e){const n=En(t);class s extends Fl{constructor(i){super(n,i,e)}}return s.def=n,s}const BN=t=>Cv(t,jv),jN=typeof HTMLElement<"u"?HTMLElement:class{};class Fl extends jN{constructor(e,n={},s){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,ma(()=>{this._connected||(Vh(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}).observe(this,{attributes:!0});const e=(s,r=!1)=>{const{props:i,styles:o}=s;let a;if(i&&!ne(i))for(const c in i){const u=i[c];(u===Number||u&&u.type===Number)&&(c in this._props&&(this._props[c]=Fc(this._props[c])),(a||(a=Object.create(null)))[Mt(c)]=!0)}this._numberProps=a,r&&this._resolveProps(s),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(s=>e(s,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,s=ne(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of s.map(Mt))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(i){this._setProp(r,i)}})}_setAttr(e){let n=this.getAttribute(e);const s=Mt(e);this._numberProps&&this._numberProps[s]&&(n=Fc(n)),this._setProp(s,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,r=!0){n!==this._props[e]&&(this._props[e]=n,r&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(tn(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(tn(e),n+""):n||this.removeAttribute(tn(e))))}_update(){Vh(this._createVNode(),this.shadowRoot)}_createVNode(){const e=xe(this._def,$e({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,{detail:o}))};n.emit=(i,...o)=>{s(i,o),tn(i)!==i&&s(tn(i),o)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Fl){n.parent=r._instance,n.provides=r._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s)})}}function HN(t="$style"){{const e=os();if(!e)return Pe;const n=e.type.__cssModules;if(!n)return Pe;const s=n[t];return s||Pe}}function KN(t){const e=os();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Fh(i,r))},s=()=>{const r=t(e.proxy);$h(e.subTree,r),n(r)};$_(s),va(()=>{const r=new MutationObserver(s);r.observe(e.subTree.el.parentNode,{childList:!0}),Dl(()=>r.disconnect())})}function $h(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{$h(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Fh(t.el,e);else if(t.type===Xe)t.children.forEach(n=>$h(n,e));else if(t.type===fr){let{el:n,anchor:s}=t;for(;n&&(Fh(n,e),n!==s);)n=n.nextSibling}}function Fh(t,e){if(t.nodeType===1){const n=t.style;for(const s in e)n.setProperty(`--${s}`,e[s])}}const fs="transition",no="animation",sd=(t,{slots:e})=>$l(V_,Ov(t),e);sd.displayName="Transition";const Sv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qN=sd.props=$e({},Yf,Sv),er=(t,e=[])=>{ne(t)?t.forEach(n=>n(...e)):t&&t(...e)},zg=t=>t?ne(t)?t.some(e=>e.length>1):t.length>1:!1;function Ov(t){const e={};for(const B in t)B in Sv||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:u=o,appearToClass:h=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,w=WN(r),I=w&&w[0],S=w&&w[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:R,onLeave:T,onLeaveCancelled:k,onBeforeAppear:V=b,onAppear:U=_,onAppearCancelled:O=R}=e,A=(B,X,J)=>{gs(B,X?h:a),gs(B,X?u:o),J&&J()},N=(B,X)=>{B._isLeaving=!1,gs(B,f),gs(B,g),gs(B,p),X&&X()},x=B=>(X,J)=>{const we=B?U:_,re=()=>A(X,B,J);er(we,[X,re]),Gg(()=>{gs(X,B?c:i),jn(X,B?h:a),zg(we)||Yg(X,s,I,re)})};return $e(e,{onBeforeEnter(B){er(b,[B]),jn(B,i),jn(B,o)},onBeforeAppear(B){er(V,[B]),jn(B,c),jn(B,u)},onEnter:x(!1),onAppear:x(!0),onLeave(B,X){B._isLeaving=!0;const J=()=>N(B,X);jn(B,f),kv(),jn(B,p),Gg(()=>{B._isLeaving&&(gs(B,f),jn(B,g),zg(T)||Yg(B,s,S,J))}),er(T,[B,J])},onEnterCancelled(B){A(B,!1),er(R,[B])},onAppearCancelled(B){A(B,!0),er(O,[B])},onLeaveCancelled(B){N(B),er(k,[B])}})}function WN(t){if(t==null)return null;if(Le(t))return[Ku(t.enter),Ku(t.leave)];{const e=Ku(t);return[e,e]}}function Ku(t){return Fc(t)}function jn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function gs(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Gg(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let zN=0;function Yg(t,e,n,s){const r=t._endId=++zN,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=Nv(t,e);if(!o)return s();const u=o+"end";let h=0;const f=()=>{t.removeEventListener(u,p),i()},p=g=>{g.target===t&&++h>=c&&f()};setTimeout(()=>{h<c&&f()},a+1),t.addEventListener(u,p)}function Nv(t,e){const n=window.getComputedStyle(t),s=w=>(n[w]||"").split(", "),r=s(`${fs}Delay`),i=s(`${fs}Duration`),o=Qg(r,i),a=s(`${no}Delay`),c=s(`${no}Duration`),u=Qg(a,c);let h=null,f=0,p=0;e===fs?o>0&&(h=fs,f=o,p=i.length):e===no?u>0&&(h=no,f=u,p=c.length):(f=Math.max(o,u),h=f>0?o>u?fs:no:null,p=h?h===fs?i.length:c.length:0);const g=h===fs&&/\b(transform|all)(,|$)/.test(s(`${fs}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:g}}function Qg(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Xg(n)+Xg(t[s])))}function Xg(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function kv(){return document.body.offsetHeight}const Rv=new WeakMap,Dv=new WeakMap,Pv={name:"TransitionGroup",props:$e({},qN,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=os(),s=Gf();let r,i;return kl(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!ZN(r[0].el,n.vnode.el,o))return;r.forEach(QN),r.forEach(XN);const a=r.filter(JN);kv(),a.forEach(c=>{const u=c.el,h=u.style;jn(u,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=u._moveCb=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,gs(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Ie(t),a=Ov(o);let c=o.tag||Xe;r=i,i=e.default?Ol(e.default()):[];for(let u=0;u<i.length;u++){const h=i[u];h.key!=null&&yr(h,_i(h,a,s,n))}if(r)for(let u=0;u<r.length;u++){const h=r[u];yr(h,_i(h,a,s,n)),Rv.set(h,h.el.getBoundingClientRect())}return xe(c,null,i)}}},GN=t=>delete t.mode;Pv.props;const YN=Pv;function QN(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function XN(t){Dv.set(t,t.el.getBoundingClientRect())}function JN(t){const e=Rv.get(t),n=Dv.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",t}}function ZN(t,e,n){const s=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:i}=Nv(s);return r.removeChild(s),i}const $s=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?n=>ai(e,n):e};function ek(t){t.target.composing=!0}function Jg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ht={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=$s(r);const i=s||r.props&&r.props.type==="number";Kn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=$c(a)),t._assign(a)}),n&&Kn(t,"change",()=>{t.value=t.value.trim()}),e||(Kn(t,"compositionstart",ek),Kn(t,"compositionend",Jg),Kn(t,"change",Jg))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=$s(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&$c(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},rd={deep:!0,created(t,e,n){t._assign=$s(n),Kn(t,"change",()=>{const s=t._modelValue,r=Ei(t),i=t.checked,o=t._assign;if(ne(s)){const a=vl(s,r),c=a!==-1;if(i&&!c)o(s.concat(r));else if(!i&&c){const u=[...s];u.splice(a,1),o(u)}}else if(kr(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(xv(t,i))})},mounted:Zg,beforeUpdate(t,e,n){t._assign=$s(n),Zg(t,e,n)}};function Zg(t,{value:e,oldValue:n},s){t._modelValue=e,ne(e)?t.checked=vl(e,s.props.value)>-1:kr(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Ps(e,xv(t,!0)))}const id={created(t,{value:e},n){t.checked=Ps(e,n.props.value),t._assign=$s(n),Kn(t,"change",()=>{t._assign(Ei(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t._assign=$s(s),e!==n&&(t.checked=Ps(e,s.props.value))}},Lv={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=kr(e);Kn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?$c(Ei(o)):Ei(o));t._assign(t.multiple?r?new Set(i):i:i[0])}),t._assign=$s(s)},mounted(t,{value:e}){em(t,e)},beforeUpdate(t,e,n){t._assign=$s(n)},updated(t,{value:e}){em(t,e)}};function em(t,e){const n=t.multiple;if(!(n&&!ne(e)&&!kr(e))){for(let s=0,r=t.options.length;s<r;s++){const i=t.options[s],o=Ei(i);if(n)ne(e)?i.selected=vl(e,o)>-1:i.selected=e.has(o);else if(Ps(Ei(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ei(t){return"_value"in t?t._value:t.value}function xv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Mv={created(t,e,n){hc(t,e,n,null,"created")},mounted(t,e,n){hc(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){hc(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){hc(t,e,n,s,"updated")}};function $v(t,e){switch(t){case"SELECT":return Lv;case"TEXTAREA":return Ht;default:switch(e){case"checkbox":return rd;case"radio":return id;default:return Ht}}}function hc(t,e,n,s,r){const o=$v(t.tagName,n.props&&n.props.type)[r];o&&o(t,e,n,s)}function tk(){Ht.getSSRProps=({value:t})=>({value:t}),id.getSSRProps=({value:t},e)=>{if(e.props&&Ps(e.props.value,t))return{checked:!0}},rd.getSSRProps=({value:t},e)=>{if(ne(t)){if(e.props&&vl(t,e.props.value)>-1)return{checked:!0}}else if(kr(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Mv.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=$v(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const nk=["ctrl","shift","alt","meta"],sk={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>nk.some(n=>t[`${n}Key`]&&!e.includes(n))},rk=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=sk[e[r]];if(i&&i(n,e))return}return t(n,...s)},ik={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ok=(t,e)=>n=>{if(!("key"in n))return;const s=tn(n.key);if(e.some(r=>r===s||ik[r]===s))return t(n)},Fv={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):so(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),so(t,!0),s.enter(t)):s.leave(t,()=>{so(t,!1)}):so(t,e))},beforeUnmount(t,{value:e}){so(t,e)}};function so(t,e){t.style.display=e?t._vod:"none"}function ak(){Fv.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Vv=$e({patchProp:VN},CN);let bo,tm=!1;function Uv(){return bo||(bo=cv(Vv))}function Bv(){return bo=tm?bo:lv(Vv),tm=!0,bo}const Vh=(...t)=>{Uv().render(...t)},jv=(...t)=>{Bv().hydrate(...t)},Hv=(...t)=>{const e=Uv().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Kv(s);if(!r)return;const i=e._component;!de(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},ck=(...t)=>{const e=Bv().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Kv(s);if(r)return n(r,!0,r instanceof SVGElement)},e};function Kv(t){return je(t)?document.querySelector(t):t}let nm=!1;const lk=()=>{nm||(nm=!0,tk(),ak())},uk=()=>{},hk=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:V_,BaseTransitionPropsValidators:Yf,Comment:vt,EffectScope:Pf,Fragment:Xe,KeepAlive:TO,ReactiveEffect:pa,Static:fr,Suspense:uO,Teleport:cN,Text:_r,Transition:sd,TransitionGroup:YN,VueElement:Fl,assertNumber:JS,callWithAsyncErrorHandling:Kt,callWithErrorHandling:Yn,camelize:Mt,capitalize:ha,cloneVNode:Ln,compatUtils:IN,compile:uk,computed:Lt,createApp:Hv,createBlock:Ll,createCommentVNode:bs,createElementBlock:lt,createElementVNode:te,createHydrationRenderer:lv,createPropsRestProxy:HO,createRenderer:cv,createSSRApp:ck,createSlots:SO,createStaticVNode:hN,createTextVNode:Cn,createVNode:xe,customRef:qS,defineAsyncComponent:EO,defineComponent:En,defineCustomElement:Cv,defineEmits:DO,defineExpose:PO,defineModel:MO,defineOptions:LO,defineProps:RO,defineSSRCustomElement:BN,defineSlots:xO,get devtools(){return Jr},effect:hS,effectScope:Lf,getCurrentInstance:os,getCurrentScope:xf,getTransitionRawChildren:Ol,guardReactiveProps:gv,h:$l,handleError:Dr,hasInjectionContext:nv,hydrate:jv,initCustomFormatter:vN,initDirectivesForSSR:lk,inject:pn,isMemoSame:Iv,isProxy:Vf,isReactive:Gn,isReadonly:mr,isRef:Ke,isRuntimeOnly:mN,isShallow:$o,isVNode:xs,markRaw:ga,mergeDefaults:BO,mergeModels:jO,mergeProps:mv,nextTick:ma,normalizeClass:da,normalizeProps:iS,normalizeStyle:fa,onActivated:B_,onBeforeMount:K_,onBeforeUnmount:Rl,onBeforeUpdate:q_,onDeactivated:j_,onErrorCaptured:Y_,onMounted:va,onRenderTracked:G_,onRenderTriggered:z_,onScopeDispose:u_,onServerPrefetch:W_,onUnmounted:Dl,onUpdated:kl,openBlock:ze,popScopeId:L_,provide:Eo,proxyRefs:jf,pushScopeId:P_,queuePostFlushCb:Kf,reactive:Rr,readonly:Ff,ref:dn,registerRuntimeCompiler:gN,render:Vh,renderList:X_,renderSlot:OO,resolveComponent:Pl,resolveDirective:CO,resolveDynamicComponent:AO,resolveFilter:bN,resolveTransitionHooks:_i,setBlockTracking:Dh,setDevtoolsHook:R_,setTransitionHooks:yr,shallowReactive:b_,shallowReadonly:VS,shallowRef:I_,ssrContextKey:Tv,ssrUtils:TN,stop:fS,toDisplayString:lr,toHandlerKey:_o,toHandlers:NO,toRaw:Ie,toRef:GS,toRefs:C_,toValue:jS,transformVNodeArgs:lN,triggerRef:BS,unref:Cs,useAttrs:VO,useCssModule:HN,useCssVars:KN,useModel:UO,useSSRContext:bv,useSlots:FO,useTransitionState:Gf,vModelCheckbox:rd,vModelDynamic:Mv,vModelRadio:id,vModelSelect:Lv,vModelText:Ht,vShow:Fv,version:Av,warn:XS,watch:Qn,watchEffect:mO,watchPostEffect:$_,watchSyncEffect:yO,withAsyncContext:KO,withCtx:qf,withDefaults:$O,withDirectives:An,withKeys:ok,withMemo:EN,withModifiers:rk,withScopeId:rO},Symbol.toStringTag,{value:"Module"}));var fk=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let qv;const Vl=t=>qv=t,Wv=Symbol();function Uh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Io;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Io||(Io={}));function dk(){const t=Lf(!0),e=t.run(()=>dn({}));let n=[],s=[];const r=ga({install(i){Vl(r),r._a=i,i.provide(Wv,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!fk?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const zv=()=>{};function sm(t,e,n,s=zv){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&xf()&&u_(r),r}function Qr(t,...e){t.slice().forEach(n=>{n(...e)})}const pk=t=>t();function Bh(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Uh(r)&&Uh(s)&&t.hasOwnProperty(n)&&!Ke(s)&&!Gn(s)?t[n]=Bh(r,s):t[n]=s}return t}const gk=Symbol();function mk(t){return!Uh(t)||!t.hasOwnProperty(gk)}const{assign:ms}=Object;function yk(t){return!!(Ke(t)&&t.effect)}function _k(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let c;function u(){a||(n.state.value[t]=r?r():{});const h=C_(n.state.value[t]);return ms(h,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=ga(Lt(()=>{Vl(n);const g=n._s.get(t);return o[p].call(g,g)})),f),{}))}return c=Gv(t,u,e,n,s,!0),c}function Gv(t,e,n={},s,r,i){let o;const a=ms({actions:{}},n),c={deep:!0};let u,h,f=[],p=[],g;const w=s.state.value[t];!i&&!w&&(s.state.value[t]={}),dn({});let I;function S(O){let A;u=h=!1,typeof O=="function"?(O(s.state.value[t]),A={type:Io.patchFunction,storeId:t,events:g}):(Bh(s.state.value[t],O),A={type:Io.patchObject,payload:O,storeId:t,events:g});const N=I=Symbol();ma().then(()=>{I===N&&(u=!0)}),h=!0,Qr(f,A,s.state.value[t])}const b=i?function(){const{state:A}=n,N=A?A():{};this.$patch(x=>{ms(x,N)})}:zv;function _(){o.stop(),f=[],p=[],s._s.delete(t)}function R(O,A){return function(){Vl(s);const N=Array.from(arguments),x=[],B=[];function X(re){x.push(re)}function J(re){B.push(re)}Qr(p,{args:N,name:O,store:k,after:X,onError:J});let we;try{we=A.apply(this&&this.$id===t?this:k,N)}catch(re){throw Qr(B,re),re}return we instanceof Promise?we.then(re=>(Qr(x,re),re)).catch(re=>(Qr(B,re),Promise.reject(re))):(Qr(x,we),we)}}const T={_p:s,$id:t,$onAction:sm.bind(null,p),$patch:S,$reset:b,$subscribe(O,A={}){const N=sm(f,O,A.detached,()=>x()),x=o.run(()=>Qn(()=>s.state.value[t],B=>{(A.flush==="sync"?h:u)&&O({storeId:t,type:Io.direct,events:g},B)},ms({},c,A)));return N},$dispose:_},k=Rr(T);s._s.set(t,k);const V=s._a&&s._a.runWithContext||pk,U=s._e.run(()=>(o=Lf(),V(()=>o.run(e))));for(const O in U){const A=U[O];if(Ke(A)&&!yk(A)||Gn(A))i||(w&&mk(A)&&(Ke(A)?A.value=w[O]:Bh(A,w[O])),s.state.value[t][O]=A);else if(typeof A=="function"){const N=R(O,A);U[O]=N,a.actions[O]=A}}return ms(k,U),ms(Ie(k),U),Object.defineProperty(k,"$state",{get:()=>s.state.value[t],set:O=>{S(A=>{ms(A,O)})}}),s._p.forEach(O=>{ms(k,o.run(()=>O({store:k,app:s._a,pinia:s,options:a})))}),w&&i&&n.hydrate&&n.hydrate(k.$state,w),u=!0,h=!0,k}function vk(t,e,n){let s,r;const i=typeof e=="function";typeof t=="string"?(s=t,r=i?n:e):(r=t,s=t.id);function o(a,c){const u=nv();return a=a||(u?pn(Wv,null):null),a&&Vl(a),a=qv,a._s.has(s)||(i?Gv(s,e,r,a):_k(s,r,a)),a._s.get(s)}return o.$id=s,o}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Zr=typeof window<"u";function Ek(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Re=Object.assign;function qu(t,e){const n={};for(const s in e){const r=e[s];n[s]=mn(r)?r.map(t):t(r)}return n}const Ao=()=>{},mn=Array.isArray,wk=/\/$/,Tk=t=>t.replace(wk,"");function Wu(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=Ck(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function bk(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function rm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ik(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&wi(e.matched[s],n.matched[r])&&Yv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function wi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Yv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Ak(t[n],e[n]))return!1;return!0}function Ak(t,e){return mn(t)?im(t,e):mn(e)?im(e,t):t===e}function im(t,e){return mn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Ck(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var qo;(function(t){t.pop="pop",t.push="push"})(qo||(qo={}));var Co;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Co||(Co={}));function Sk(t){if(!t)if(Zr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Tk(t)}const Ok=/^[^#]+#/;function Nk(t,e){return t.replace(Ok,"#")+e}function kk(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ul=()=>({left:window.pageXOffset,top:window.pageYOffset});function Rk(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=kk(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function om(t,e){return(history.state?history.state.position-e:-1)+t}const jh=new Map;function Dk(t,e){jh.set(t,e)}function Pk(t){const e=jh.get(t);return jh.delete(t),e}let Lk=()=>location.protocol+"//"+location.host;function Qv(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),rm(c,"")}return rm(n,t)+s+r}function xk(t,e,n,s){let r=[],i=[],o=null;const a=({state:p})=>{const g=Qv(t,location),w=n.value,I=e.value;let S=0;if(p){if(n.value=g,e.value=p,o&&o===w){o=null;return}S=I?p.position-I.position:0}else s(g);r.forEach(b=>{b(n.value,w,{delta:S,type:qo.pop,direction:S?S>0?Co.forward:Co.back:Co.unknown})})};function c(){o=n.value}function u(p){r.push(p);const g=()=>{const w=r.indexOf(p);w>-1&&r.splice(w,1)};return i.push(g),g}function h(){const{history:p}=window;p.state&&p.replaceState(Re({},p.state,{scroll:Ul()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:u,destroy:f}}function am(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Ul():null}}function Mk(t){const{history:e,location:n}=window,s={value:Qv(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,u,h){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:Lk()+t+c;try{e[h?"replaceState":"pushState"](u,"",p),r.value=u}catch(g){console.error(g),n[h?"replace":"assign"](p)}}function o(c,u){const h=Re({},e.state,am(r.value.back,c,r.value.forward,!0),u,{position:r.value.position});i(c,h,!0),s.value=c}function a(c,u){const h=Re({},r.value,e.state,{forward:c,scroll:Ul()});i(h.current,h,!0);const f=Re({},am(s.value,c,null),{position:h.position+1},u);i(c,f,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function $k(t){t=Sk(t);const e=Mk(t),n=xk(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Re({location:"",base:t,go:s,createHref:Nk.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Fk(t){return typeof t=="string"||t&&typeof t=="object"}function Xv(t){return typeof t=="string"||typeof t=="symbol"}const ds={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Jv=Symbol("");var cm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(cm||(cm={}));function Ti(t,e){return Re(new Error,{type:t,[Jv]:!0},e)}function Bn(t,e){return t instanceof Error&&Jv in t&&(e==null||!!(t.type&e))}const lm="[^/]+?",Vk={sensitive:!1,strict:!1,start:!0,end:!0},Uk=/[.+*?^${}()[\]/\\]/g;function Bk(t,e){const n=Re({},Vk,e),s=[];let r=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const p=u[f];let g=40+(n.sensitive?.25:0);if(p.type===0)f||(r+="/"),r+=p.value.replace(Uk,"\\$&"),g+=40;else if(p.type===1){const{value:w,repeatable:I,optional:S,regexp:b}=p;i.push({name:w,repeatable:I,optional:S});const _=b||lm;if(_!==lm){g+=10;try{new RegExp(`(${_})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${w}" (${_}): `+T.message)}}let R=I?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(R=S&&u.length<2?`(?:/${R})`:"/"+R),S&&(R+="?"),r+=R,g+=20,S&&(g+=-8),I&&(g+=-20),_===".*"&&(g+=-50)}h.push(g)}s.push(h)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const h=u.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const g=h[p]||"",w=i[p-1];f[w.name]=g&&w.repeatable?g.split("/"):g}return f}function c(u){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const g of p)if(g.type===0)h+=g.value;else if(g.type===1){const{value:w,repeatable:I,optional:S}=g,b=w in u?u[w]:"";if(mn(b)&&!I)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const _=mn(b)?b.join("/"):b;if(!_)if(S)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);h+=_}}return h||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function jk(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Hk(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=jk(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(um(s))return 1;if(um(r))return-1}return r.length-s.length}function um(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Kk={type:0,value:""},qk=/[a-zA-Z0-9_]/;function Wk(t){if(!t)return[[]];if(t==="/")return[[Kk]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,u="",h="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(u&&f(),o()):c===":"?(f(),n=1):p();break;case 4:p(),n=s;break;case 1:c==="("?n=2:qk.test(c)?p():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}function zk(t,e,n){const s=Bk(Wk(t.path),n),r=Re(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Gk(t,e){const n=[],s=new Map;e=dm({strict:!1,end:!0,sensitive:!1},e);function r(h){return s.get(h)}function i(h,f,p){const g=!p,w=Yk(h);w.aliasOf=p&&p.record;const I=dm(e,h),S=[w];if("alias"in h){const R=typeof h.alias=="string"?[h.alias]:h.alias;for(const T of R)S.push(Re({},w,{components:p?p.record.components:w.components,path:T,aliasOf:p?p.record:w}))}let b,_;for(const R of S){const{path:T}=R;if(f&&T[0]!=="/"){const k=f.record.path,V=k[k.length-1]==="/"?"":"/";R.path=f.record.path+(T&&V+T)}if(b=zk(R,f,I),p?p.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),g&&h.name&&!fm(b)&&o(h.name)),w.children){const k=w.children;for(let V=0;V<k.length;V++)i(k[V],b,p&&p.children[V])}p=p||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&c(b)}return _?()=>{o(_)}:Ao}function o(h){if(Xv(h)){const f=s.get(h);f&&(s.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function c(h){let f=0;for(;f<n.length&&Hk(h,n[f])>=0&&(h.record.path!==n[f].record.path||!Zv(h,n[f]));)f++;n.splice(f,0,h),h.record.name&&!fm(h)&&s.set(h.record.name,h)}function u(h,f){let p,g={},w,I;if("name"in h&&h.name){if(p=s.get(h.name),!p)throw Ti(1,{location:h});I=p.record.name,g=Re(hm(f.params,p.keys.filter(_=>!_.optional).map(_=>_.name)),h.params&&hm(h.params,p.keys.map(_=>_.name))),w=p.stringify(g)}else if("path"in h)w=h.path,p=n.find(_=>_.re.test(w)),p&&(g=p.parse(w),I=p.record.name);else{if(p=f.name?s.get(f.name):n.find(_=>_.re.test(f.path)),!p)throw Ti(1,{location:h,currentLocation:f});I=p.record.name,g=Re({},f.params,h.params),w=p.stringify(g)}const S=[];let b=p;for(;b;)S.unshift(b.record),b=b.parent;return{name:I,path:w,params:g,matched:S,meta:Xk(S)}}return t.forEach(h=>i(h)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function hm(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Yk(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Qk(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Qk(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function fm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Xk(t){return t.reduce((e,n)=>Re(e,n.meta),{})}function dm(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Zv(t,e){return e.children.some(n=>n===t||Zv(t,n))}const eE=/#/g,Jk=/&/g,Zk=/\//g,eR=/=/g,tR=/\?/g,tE=/\+/g,nR=/%5B/g,sR=/%5D/g,nE=/%5E/g,rR=/%60/g,sE=/%7B/g,iR=/%7C/g,rE=/%7D/g,oR=/%20/g;function od(t){return encodeURI(""+t).replace(iR,"|").replace(nR,"[").replace(sR,"]")}function aR(t){return od(t).replace(sE,"{").replace(rE,"}").replace(nE,"^")}function Hh(t){return od(t).replace(tE,"%2B").replace(oR,"+").replace(eE,"%23").replace(Jk,"%26").replace(rR,"`").replace(sE,"{").replace(rE,"}").replace(nE,"^")}function cR(t){return Hh(t).replace(eR,"%3D")}function lR(t){return od(t).replace(eE,"%23").replace(tR,"%3F")}function uR(t){return t==null?"":lR(t).replace(Zk,"%2F")}function Kc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function hR(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(tE," "),o=i.indexOf("="),a=Kc(o<0?i:i.slice(0,o)),c=o<0?null:Kc(i.slice(o+1));if(a in e){let u=e[a];mn(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function pm(t){let e="";for(let n in t){const s=t[n];if(n=cR(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(mn(s)?s.map(i=>i&&Hh(i)):[s&&Hh(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function fR(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=mn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const dR=Symbol(""),gm=Symbol(""),ad=Symbol(""),iE=Symbol(""),Kh=Symbol("");function ro(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function _s(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=f=>{f===!1?a(Ti(4,{from:n,to:e})):f instanceof Error?a(f):Fk(f)?a(Ti(2,{from:e,to:f})):(i&&s.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),o())},u=t.call(s&&s.instances[r],e,n,c);let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>a(f))})}function zu(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(pR(a)){const u=(a.__vccOpts||a)[e];u&&r.push(_s(u,n,s,i,o))}else{let c=a();r.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const h=Ek(u)?u.default:u;i.components[o]=h;const p=(h.__vccOpts||h)[e];return p&&_s(p,n,s,i,o)()}))}}return r}function pR(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function mm(t){const e=pn(ad),n=pn(iE),s=Lt(()=>e.resolve(Cs(t.to))),r=Lt(()=>{const{matched:c}=s.value,{length:u}=c,h=c[u-1],f=n.matched;if(!h||!f.length)return-1;const p=f.findIndex(wi.bind(null,h));if(p>-1)return p;const g=ym(c[u-2]);return u>1&&ym(h)===g&&f[f.length-1].path!==g?f.findIndex(wi.bind(null,c[u-2])):p}),i=Lt(()=>r.value>-1&&_R(n.params,s.value.params)),o=Lt(()=>r.value>-1&&r.value===n.matched.length-1&&Yv(n.params,s.value.params));function a(c={}){return yR(c)?e[Cs(t.replace)?"replace":"push"](Cs(t.to)).catch(Ao):Promise.resolve()}return{route:s,href:Lt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const gR=En({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mm,setup(t,{slots:e}){const n=Rr(mm(t)),{options:s}=pn(ad),r=Lt(()=>({[_m(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[_m(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:$l("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),mR=gR;function yR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function _R(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!mn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function ym(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _m=(t,e,n)=>t??e??n,vR=En({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=pn(Kh),r=Lt(()=>t.route||s.value),i=pn(gm,0),o=Lt(()=>{let u=Cs(i);const{matched:h}=r.value;let f;for(;(f=h[u])&&!f.components;)u++;return u}),a=Lt(()=>r.value.matched[o.value]);Eo(gm,Lt(()=>o.value+1)),Eo(dR,a),Eo(Kh,r);const c=dn();return Qn(()=>[c.value,a.value,t.name],([u,h,f],[p,g,w])=>{h&&(h.instances[f]=u,g&&g!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!wi(h,g)||!p)&&(h.enterCallbacks[f]||[]).forEach(I=>I(u))},{flush:"post"}),()=>{const u=r.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return vm(n.default,{Component:p,route:u});const g=f.props[h],w=g?g===!0?u.params:typeof g=="function"?g(u):g:null,S=$l(p,Re({},w,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[h]=null)},ref:c}));return vm(n.default,{Component:S,route:u})||S}}});function vm(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const oE=vR;function ER(t){const e=Gk(t.routes,t),n=t.parseQuery||hR,s=t.stringifyQuery||pm,r=t.history,i=ro(),o=ro(),a=ro(),c=I_(ds);let u=ds;Zr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=qu.bind(null,M=>""+M),f=qu.bind(null,uR),p=qu.bind(null,Kc);function g(M,Z){let Y,ie;return Xv(M)?(Y=e.getRecordMatcher(M),ie=Z):ie=M,e.addRoute(ie,Y)}function w(M){const Z=e.getRecordMatcher(M);Z&&e.removeRoute(Z)}function I(){return e.getRoutes().map(M=>M.record)}function S(M){return!!e.getRecordMatcher(M)}function b(M,Z){if(Z=Re({},Z||c.value),typeof M=="string"){const C=Wu(n,M,Z.path),L=e.resolve({path:C.path},Z),F=r.createHref(C.fullPath);return Re(C,L,{params:p(L.params),hash:Kc(C.hash),redirectedFrom:void 0,href:F})}let Y;if("path"in M)Y=Re({},M,{path:Wu(n,M.path,Z.path).path});else{const C=Re({},M.params);for(const L in C)C[L]==null&&delete C[L];Y=Re({},M,{params:f(C)}),Z.params=f(Z.params)}const ie=e.resolve(Y,Z),P=M.hash||"";ie.params=h(p(ie.params));const m=bk(s,Re({},M,{hash:aR(P),path:ie.path})),E=r.createHref(m);return Re({fullPath:m,hash:P,query:s===pm?fR(M.query):M.query||{}},ie,{redirectedFrom:void 0,href:E})}function _(M){return typeof M=="string"?Wu(n,M,c.value.path):Re({},M)}function R(M,Z){if(u!==M)return Ti(8,{from:Z,to:M})}function T(M){return U(M)}function k(M){return T(Re(_(M),{replace:!0}))}function V(M){const Z=M.matched[M.matched.length-1];if(Z&&Z.redirect){const{redirect:Y}=Z;let ie=typeof Y=="function"?Y(M):Y;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=_(ie):{path:ie},ie.params={}),Re({query:M.query,hash:M.hash,params:"path"in ie?{}:M.params},ie)}}function U(M,Z){const Y=u=b(M),ie=c.value,P=M.state,m=M.force,E=M.replace===!0,C=V(Y);if(C)return U(Re(_(C),{state:typeof C=="object"?Re({},P,C.state):P,force:m,replace:E}),Z||Y);const L=Y;L.redirectedFrom=Z;let F;return!m&&Ik(s,ie,Y)&&(F=Ti(16,{to:L,from:ie}),ot(ie,ie,!0,!1)),(F?Promise.resolve(F):N(L,ie)).catch(H=>Bn(H)?Bn(H,2)?H:Ct(H):Te(H,L,ie)).then(H=>{if(H){if(Bn(H,2))return U(Re({replace:E},_(H.to),{state:typeof H.to=="object"?Re({},P,H.to.state):P,force:m}),Z||L)}else H=B(L,ie,!0,E,P);return x(L,ie,H),H})}function O(M,Z){const Y=R(M,Z);return Y?Promise.reject(Y):Promise.resolve()}function A(M){const Z=St.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(M):M()}function N(M,Z){let Y;const[ie,P,m]=wR(M,Z);Y=zu(ie.reverse(),"beforeRouteLeave",M,Z);for(const C of ie)C.leaveGuards.forEach(L=>{Y.push(_s(L,M,Z))});const E=O.bind(null,M,Z);return Y.push(E),Fe(Y).then(()=>{Y=[];for(const C of i.list())Y.push(_s(C,M,Z));return Y.push(E),Fe(Y)}).then(()=>{Y=zu(P,"beforeRouteUpdate",M,Z);for(const C of P)C.updateGuards.forEach(L=>{Y.push(_s(L,M,Z))});return Y.push(E),Fe(Y)}).then(()=>{Y=[];for(const C of M.matched)if(C.beforeEnter&&!Z.matched.includes(C))if(mn(C.beforeEnter))for(const L of C.beforeEnter)Y.push(_s(L,M,Z));else Y.push(_s(C.beforeEnter,M,Z));return Y.push(E),Fe(Y)}).then(()=>(M.matched.forEach(C=>C.enterCallbacks={}),Y=zu(m,"beforeRouteEnter",M,Z),Y.push(E),Fe(Y))).then(()=>{Y=[];for(const C of o.list())Y.push(_s(C,M,Z));return Y.push(E),Fe(Y)}).catch(C=>Bn(C,8)?C:Promise.reject(C))}function x(M,Z,Y){for(const ie of a.list())A(()=>ie(M,Z,Y))}function B(M,Z,Y,ie,P){const m=R(M,Z);if(m)return m;const E=Z===ds,C=Zr?history.state:{};Y&&(ie||E?r.replace(M.fullPath,Re({scroll:E&&C&&C.scroll},P)):r.push(M.fullPath,P)),c.value=M,ot(M,Z,Y,E),Ct()}let X;function J(){X||(X=r.listen((M,Z,Y)=>{if(!ft.listening)return;const ie=b(M),P=V(ie);if(P){U(Re(P,{replace:!0}),ie).catch(Ao);return}u=ie;const m=c.value;Zr&&Dk(om(m.fullPath,Y.delta),Ul()),N(ie,m).catch(E=>Bn(E,12)?E:Bn(E,2)?(U(E.to,ie).then(C=>{Bn(C,20)&&!Y.delta&&Y.type===qo.pop&&r.go(-1,!1)}).catch(Ao),Promise.reject()):(Y.delta&&r.go(-Y.delta,!1),Te(E,ie,m))).then(E=>{E=E||B(ie,m,!1),E&&(Y.delta&&!Bn(E,8)?r.go(-Y.delta,!1):Y.type===qo.pop&&Bn(E,20)&&r.go(-1,!1)),x(ie,m,E)}).catch(Ao)}))}let we=ro(),re=ro(),fe;function Te(M,Z,Y){Ct(M);const ie=re.list();return ie.length?ie.forEach(P=>P(M,Z,Y)):console.error(M),Promise.reject(M)}function Ge(){return fe&&c.value!==ds?Promise.resolve():new Promise((M,Z)=>{we.add([M,Z])})}function Ct(M){return fe||(fe=!M,J(),we.list().forEach(([Z,Y])=>M?Y(M):Z()),we.reset()),M}function ot(M,Z,Y,ie){const{scrollBehavior:P}=t;if(!Zr||!P)return Promise.resolve();const m=!Y&&Pk(om(M.fullPath,0))||(ie||!Y)&&history.state&&history.state.scroll||null;return ma().then(()=>P(M,Z,m)).then(E=>E&&Rk(E)).catch(E=>Te(E,M,Z))}const He=M=>r.go(M);let Vt;const St=new Set,ft={currentRoute:c,listening:!0,addRoute:g,removeRoute:w,hasRoute:S,getRoutes:I,resolve:b,options:t,push:T,replace:k,go:He,back:()=>He(-1),forward:()=>He(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:re.add,isReady:Ge,install(M){const Z=this;M.component("RouterLink",mR),M.component("RouterView",oE),M.config.globalProperties.$router=Z,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>Cs(c)}),Zr&&!Vt&&c.value===ds&&(Vt=!0,T(r.location).catch(P=>{}));const Y={};for(const P in ds)Y[P]=Lt(()=>c.value[P]);M.provide(ad,Z),M.provide(iE,Rr(Y)),M.provide(Kh,c);const ie=M.unmount;St.add(M),M.unmount=function(){St.delete(M),St.size<1&&(u=ds,X&&X(),X=null,c.value=ds,Vt=!1,fe=!1),ie()}}};function Fe(M){return M.reduce((Z,Y)=>Z.then(()=>A(Y)),Promise.resolve())}return ft}function wR(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>wi(u,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(u=>wi(u,c))||r.push(c))}return[n,s,r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},TR=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;c||(g=64,o||(p=64)),s.push(n[h],n[f],n[p],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||u==null||f==null)throw new bR;const p=i<<2|a>>4;if(s.push(p),u!==64){const g=a<<4&240|u>>2;if(s.push(g),f!==64){const w=u<<6&192|f;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IR=function(t){const e=aE(t);return cE.encodeByteArray(e,!0)},qc=function(t){return IR(t).replace(/\./g,"")},lE=function(t){try{return cE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=()=>AR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lE(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return CR()||SR()||OR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uE=t=>{var e,n;return(n=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NR=t=>{const e=uE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},hE=()=>{var t;return(t=cd())===null||t===void 0?void 0:t.config},fE=t=>{var e;return(e=cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[qc(JSON.stringify(n)),qc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function dE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pE(){try{return typeof indexedDB=="object"}catch{return!1}}function gE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function xR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="FirebaseError";class wn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=MR,Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pr.prototype.create)}}class Pr{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?$R(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new wn(r,a,s)}}function $R(t,e){return t.replace(FR,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const FR=/\{\$([^}]+)}/g;function VR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Em(i)&&Em(o)){if(!Wo(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Em(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function uo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function ho(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UR(t,e){const n=new BR(t,e);return n.subscribe.bind(n)}class BR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Gu),r.error===void 0&&(r.error=Gu),r.complete===void 0&&(r.complete=Gu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gu(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1e3,KR=2,qR=4*60*60*1e3,WR=.5;function wm(t,e=HR,n=KR){const s=e*Math.pow(n,t),r=Math.round(WR*s*(Math.random()-.5)*2);return Math.min(qR,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class yn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GR(t){return t===tr?void 0:t}function YR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const XR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},JR=Oe.INFO,ZR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},eD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=ZR[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bl{constructor(e){this.name=e,this._logLevel=JR,this._logHandler=eD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const tD=(t,e)=>e.some(n=>t instanceof n);let Tm,bm;function nD(){return Tm||(Tm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sD(){return bm||(bm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mE=new WeakMap,qh=new WeakMap,yE=new WeakMap,Yu=new WeakMap,ld=new WeakMap;function rD(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Os(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mE.set(n,t)}).catch(()=>{}),ld.set(e,t),e}function iD(t){if(qh.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});qh.set(t,e)}let Wh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oD(t){Wh=t(Wh)}function aD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Qu(this),e,...n);return yE.set(s,e.sort?e.sort():[e]),Os(s)}:sD().includes(t)?function(...e){return t.apply(Qu(this),e),Os(mE.get(this))}:function(...e){return Os(t.apply(Qu(this),e))}}function cD(t){return typeof t=="function"?aD(t):(t instanceof IDBTransaction&&iD(t),tD(t,nD())?new Proxy(t,Wh):t)}function Os(t){if(t instanceof IDBRequest)return rD(t);if(Yu.has(t))return Yu.get(t);const e=cD(t);return e!==t&&(Yu.set(t,e),ld.set(e,t)),e}const Qu=t=>ld.get(t);function lD(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Os(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Os(o.result),c.oldVersion,c.newVersion,Os(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const uD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],Xu=new Map;function Im(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xu.get(e))return Xu.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=hD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||uD.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&c.done]))[0]};return Xu.set(e,i),i}oD(t=>({...t,get:(e,n,s)=>Im(e,n)||t.get(e,n,s),has:(e,n)=>!!Im(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zh="@firebase/app",Am="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Bl("@firebase/app"),pD="@firebase/app-compat",gD="@firebase/analytics-compat",mD="@firebase/analytics",yD="@firebase/app-check-compat",_D="@firebase/app-check",vD="@firebase/auth",ED="@firebase/auth-compat",wD="@firebase/database",TD="@firebase/database-compat",bD="@firebase/functions",ID="@firebase/functions-compat",AD="@firebase/installations",CD="@firebase/installations-compat",SD="@firebase/messaging",OD="@firebase/messaging-compat",ND="@firebase/performance",kD="@firebase/performance-compat",RD="@firebase/remote-config",DD="@firebase/remote-config-compat",PD="@firebase/storage",LD="@firebase/storage-compat",xD="@firebase/firestore",MD="@firebase/firestore-compat",$D="firebase",FD="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="[DEFAULT]",VD={[zh]:"fire-core",[pD]:"fire-core-compat",[mD]:"fire-analytics",[gD]:"fire-analytics-compat",[_D]:"fire-app-check",[yD]:"fire-app-check-compat",[vD]:"fire-auth",[ED]:"fire-auth-compat",[wD]:"fire-rtdb",[TD]:"fire-rtdb-compat",[bD]:"fire-fn",[ID]:"fire-fn-compat",[AD]:"fire-iid",[CD]:"fire-iid-compat",[SD]:"fire-fcm",[OD]:"fire-fcm-compat",[ND]:"fire-perf",[kD]:"fire-perf-compat",[RD]:"fire-rc",[DD]:"fire-rc-compat",[PD]:"fire-gcs",[LD]:"fire-gcs-compat",[xD]:"fire-fst",[MD]:"fire-fst-compat","fire-js":"fire-js",[$D]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,Yh=new Map;function UD(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xn(t){const e=t.name;if(Yh.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Yh.set(e,t);for(const n of Wc.values())UD(n,t);return!0}function Lr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ns=new Pr("app","Firebase",BD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=FD;function _E(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Gh,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Ns.create("bad-app-name",{appName:String(r)});if(n||(n=hE()),!n)throw Ns.create("no-options");const i=Wc.get(r);if(i){if(Wo(n,i.options)&&Wo(s,i.config))return i;throw Ns.create("duplicate-app",{appName:r})}const o=new QR(r);for(const c of Yh.values())o.addComponent(c);const a=new jD(n,s,o);return Wc.set(r,a),a}function ud(t=Gh){const e=Wc.get(t);if(!e&&t===Gh&&hE())return _E();if(!e)throw Ns.create("no-app",{appName:t});return e}function rn(t,e,n){var s;let r=(s=VD[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(a.join(" "));return}xn(new yn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebase-heartbeat-database",KD=1,zo="firebase-heartbeat-store";let Ju=null;function vE(){return Ju||(Ju=lD(HD,KD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zo)}}}).catch(t=>{throw Ns.create("idb-open",{originalErrorMessage:t.message})})),Ju}async function qD(t){try{return await(await vE()).transaction(zo).objectStore(zo).get(EE(t))}catch(e){if(e instanceof wn)Er.warn(e.message);else{const n=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function Cm(t,e){try{const s=(await vE()).transaction(zo,"readwrite");await s.objectStore(zo).put(e,EE(t)),await s.done}catch(n){if(n instanceof wn)Er.warn(n.message);else{const s=Ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(s.message)}}}function EE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=1024,zD=30*24*60*60*1e3;class GD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=zD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sm(),{heartbeatsToSend:n,unsentEntries:s}=YD(this._heartbeatsCache.heartbeats),r=qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Sm(){return new Date().toISOString().substring(0,10)}function YD(t,e=WD){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Om(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Om(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pE()?gE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await qD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Om(t){return qc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){xn(new yn("platform-logger",e=>new fD(e),"PRIVATE")),xn(new yn("heartbeat",e=>new GD(e),"PRIVATE")),rn(zh,Am,t),rn(zh,Am,"esm2017"),rn("fire-js","")}XD("");function hd(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function wE(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JD=wE,TE=new Pr("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Bl("@firebase/auth");function ZD(t,...e){zc.logLevel<=Oe.WARN&&zc.warn(`Auth (${Ui}): ${t}`,...e)}function Cc(t,...e){zc.logLevel<=Oe.ERROR&&zc.error(`Auth (${Ui}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw fd(t,...e)}function kn(t,...e){return fd(t,...e)}function e1(t,e,n){const s=Object.assign(Object.assign({},JD()),{[e]:n});return new Pr("auth","Firebase",s).create(e,{appName:t.name})}function fd(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return TE.create(t,...e)}function pe(t,e,...n){if(!t)throw fd(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cc(e),new Error(e)}function Zn(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function t1(){return Nm()==="http:"||Nm()==="https:"}function Nm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t1()||dE()||"connection"in navigator)?navigator.onLine:!0}function s1(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zn(n>e,"Short delay should be less than long delay!"),this.isMobile=DR()||PR()}get(){return n1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){Zn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new wa(3e4,6e4);function Bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xr(t,e,n,s,r={}){return IE(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=Ea(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),bE.fetch()(AE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function IE(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},r1),e);try{const r=new o1(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw fc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw fc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw fc(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw e1(t,h,u);_n(t,h)}}catch(r){if(r instanceof wn)throw r;_n(t,"network-request-failed",{message:String(r)})}}async function Ta(t,e,n,s,r={}){const i=await xr(t,e,n,s,r);return"mfaPendingCredential"in i&&_n(t,"multi-factor-auth-required",{_serverResponse:i}),i}function AE(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?dd(t.config,r):`${t.config.apiScheme}://${r}`}class o1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(kn(this.auth,"network-request-failed")),i1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=kn(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(t,e){return xr(t,"POST","/v1/accounts:delete",e)}async function c1(t,e){return xr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l1(t,e=!1){const n=It(t),s=await n.getIdToken(e),r=pd(s);pe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:So(Zu(r.auth_time)),issuedAtTime:So(Zu(r.iat)),expirationTime:So(Zu(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Zu(t){return Number(t)*1e3}function pd(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const r=lE(n);return r?JSON.parse(r):(Cc("Failed to decode base64 JWT payload"),null)}catch(r){return Cc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function u1(t){const e=pd(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bi(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof wn&&h1(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function h1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t){var e;const n=t.auth,s=await t.getIdToken(),r=await bi(t,c1(n,{idToken:s}));pe(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?g1(i.providerUserInfo):[],a=p1(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new CE(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function d1(t){const e=It(t);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p1(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function g1(t){return t.map(e=>{var{providerId:n}=e,s=hd(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(t,e){const n=await IE(t,{},async()=>{const s=Ea({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=AE(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bE.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return pe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await m1(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Go;return s&&(pe(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(pe(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new CE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await bi(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l1(this,e)}reload(){return d1(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await bi(this,a1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,a,c,u,h;const f=(s=n.displayName)!==null&&s!==void 0?s:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:R,emailVerified:T,isAnonymous:k,providerData:V,stsTokenManager:U}=n;pe(R&&U,e,"internal-error");const O=Go.fromJSON(this.name,U);pe(typeof R=="string",e,"internal-error"),ps(f,e.name),ps(p,e.name),pe(typeof T=="boolean",e,"internal-error"),pe(typeof k=="boolean",e,"internal-error"),ps(g,e.name),ps(w,e.name),ps(I,e.name),ps(S,e.name),ps(b,e.name),ps(_,e.name);const A=new dr({uid:R,auth:e,email:p,emailVerified:T,displayName:f,isAnonymous:k,photoURL:w,phoneNumber:g,tenantId:I,stsTokenManager:O,createdAt:b,lastLoginAt:_});return V&&Array.isArray(V)&&(A.providerData=V.map(N=>Object.assign({},N))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,s=!1){const r=new Go;r.updateFromServerResponse(n);const i=new dr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Gc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new Map;function Wn(t){Zn(t instanceof Function,"Expected a class definition");let e=km.get(t);return e?(Zn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,km.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SE.type="NONE";const Rm=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t,e,n){return`firebase:${t}:${e}:${n}`}class ui{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Sc(this.userKey,r.apiKey,i),this.fullPersistenceKey=Sc("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ui(Wn(Rm),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=r[0]||Wn(Rm);const o=Sc(s,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=dr._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ui(i,e,s):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ui(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DE(e))return"Blackberry";if(PE(e))return"Webos";if(gd(e))return"Safari";if((e.includes("chrome/")||NE(e))&&!e.includes("edge/"))return"Chrome";if(RE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function OE(t=bt()){return/firefox\//i.test(t)}function gd(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NE(t=bt()){return/crios\//i.test(t)}function kE(t=bt()){return/iemobile/i.test(t)}function RE(t=bt()){return/android/i.test(t)}function DE(t=bt()){return/blackberry/i.test(t)}function PE(t=bt()){return/webos/i.test(t)}function jl(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y1(t=bt()){var e;return jl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _1(){return LR()&&document.documentMode===10}function LE(t=bt()){return jl(t)||RE(t)||PE(t)||DE(t)||/windows phone/i.test(t)||kE(t)}function v1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e=[]){let n;switch(t){case"Browser":n=Dm(bt());break;case"Worker":n=`${Dm(bt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ui}/${s}`}async function ME(t,e){return xr(t,"GET","/v2/recaptchaConfig",Bi(t,e))}function Pm(t){return t!==void 0&&t.enterprise!==void 0}class $E{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function FE(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=kn("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",E1().appendChild(s)})}function w1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const T1="https://www.google.com/recaptcha/enterprise.js?render=",b1="recaptcha-enterprise",I1="NO_RECAPTCHA";class VE{constructor(e){this.type=b1,this.auth=ji(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{ME(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new $E(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function r(i,o,a){const c=window.grecaptcha;Pm(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(I1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{s(this.auth).then(a=>{if(!n&&Pm(window.grecaptcha))r(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}FE(T1+a).then(()=>{r(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Yc(t,e,n,s=!1){const r=new VE(t);let i;try{i=await r.verify(n)}catch{i=await r.verify(n,!0)}const o=Object.assign({},e);return s?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lm(this),this.idTokenSubscription=new Lm(this),this.beforeStateQueue=new A1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await ui.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?It(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}async initializeRecaptchaConfig(){const e=await ME(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new $E(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new VE(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pr("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await ui.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,s,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ji(t){return It(t)}class Lm{constructor(e){this.auth=e,this.observer=null,this.addObserver=UR(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e){const n=Lr(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Wo(i,e??{}))return r;_n(r,"already-initialized")}return n.initialize({options:e})}function O1(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function N1(t,e,n){const s=ji(t);pe(s._canInitEmulator,s,"emulator-config-failed"),pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=UE(e),{host:o,port:a}=k1(e),c=a===null?"":`:${a}`;s.config.emulator={url:`${i}//${o}${c}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||R1()}function UE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k1(t){const e=UE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:xm(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:xm(o)}}}function xm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}async function D1(t,e){return xr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e){return Ta(t,"POST","/v1/accounts:signInWithPassword",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(t,e){return Ta(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}async function L1(t,e){return Ta(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends md{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Yo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const r=await Yc(e,s,"signInWithPassword");return eh(e,r)}else return eh(e,s).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await Yc(e,s,"signInWithPassword");return eh(e,i)}else return Promise.reject(r)});case"emailLink":return P1(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return D1(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return L1(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hi(t,e){return Ta(t,"POST","/v1/accounts:signInWithIdp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="http://localhost";class wr extends md{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=hd(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new wr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hi(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,hi(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hi(e,n)}buildRequest(){const e={requestUri:x1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ea(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $1(t){const e=uo(ho(t)).link,n=e?uo(ho(e)).deep_link_id:null,s=uo(ho(t)).deep_link_id;return(s?uo(ho(s)).link:null)||s||n||e||t}class yd{constructor(e){var n,s,r,i,o,a;const c=uo(ho(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(s=c.oobCode)!==null&&s!==void 0?s:null,f=M1((r=c.mode)!==null&&r!==void 0?r:null);pe(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$1(e);try{return new yd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.providerId=Hi.PROVIDER_ID}static credential(e,n){return Yo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=yd.parseLink(n);return pe(s,"argument-error"),Yo._fromEmailAndCode(e,s.code,s.tenantId)}}Hi.PROVIDER_ID="password";Hi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends BE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends ba{constructor(){super("facebook.com")}static credential(e){return wr._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends ba{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wr._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends ba{constructor(){super("github.com")}static credential(e){return wr._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends ba{constructor(){super("twitter.com")}static credential(e,n){return wr._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t,e){return Ta(t,"POST","/v1/accounts:signUp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await dr._fromIdTokenResponse(e,s,r),o=Mm(s);return new Tr({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Mm(s);return new Tr({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Mm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends wn{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Qc(e,n,s,r)}}function jE(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(t,i,e,s):i})}async function F1(t,e,n=!1){const s=await bi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(t,e,n=!1){const{auth:s}=t,r="reauthenticate";try{const i=await bi(t,jE(s,r,e,t),n);pe(i.idToken,s,"internal-error");const o=pd(i.idToken);pe(o,s,"internal-error");const{sub:a}=o;return pe(t.uid===a,s,"user-mismatch"),Tr._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&_n(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(t,e,n=!1){const s="signIn",r=await jE(t,s,e),i=await Tr._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function U1(t,e){return HE(ji(t),e)}async function B1(t,e,n){var s;const r=ji(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((s=r._getRecaptchaConfig())===null||s===void 0)&&s.emailPasswordEnabled){const u=await Yc(r,i,"signUpPassword");o=th(r,u)}else o=th(r,i).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const h=await Yc(r,i,"signUpPassword");return th(r,h)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),c=await Tr._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function j1(t,e,n){return U1(It(t),Hi.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(t,e){return xr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=It(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await bi(s,H1(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function q1(t,e,n,s){return It(t).onIdTokenChanged(e,n,s)}function W1(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function z1(t){return It(t).signOut()}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){const t=bt();return gd(t)||jl(t)}const Y1=1e3,Q1=10;class qE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=G1()&&v1(),this.fallbackToPolling=LE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);_1()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Q1):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Y1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qE.type="LOCAL";const X1=qE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WE.type="SESSION";const zE=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Hl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await J1(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=_d("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function eP(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function tP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sP(){return GE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firebaseLocalStorageDb",rP=1,Jc="firebaseLocalStorage",QE="fbase_key";class Ia{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kl(t,e){return t.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function iP(){const t=indexedDB.deleteDatabase(YE);return new Ia(t).toPromise()}function Xh(){const t=indexedDB.open(YE,rP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Jc,{keyPath:QE})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Jc)?e(s):(s.close(),await iP(),e(await Xh()))})})}async function $m(t,e,n){const s=Kl(t,!0).put({[QE]:e,value:n});return new Ia(s).toPromise()}async function oP(t,e){const n=Kl(t,!1).get(e),s=await new Ia(n).toPromise();return s===void 0?null:s.value}function Fm(t,e){const n=Kl(t,!0).delete(e);return new Ia(n).toPromise()}const aP=800,cP=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>cP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hl._getInstance(sP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tP(),!this.activeServiceWorker)return;this.sender=new Z1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xh();return await $m(e,Xc,"1"),await Fm(e,Xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$m(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oP(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Kl(r,!1).getAll();return new Ia(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const lP=XE;new wa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t,e){return e?Wn(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends md{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hP(t){return HE(t.auth,new vd(t),t.bypassAuthState)}function fP(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),V1(n,new vd(t),t.bypassAuthState)}async function dP(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),F1(n,new vd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hP;case"linkViaPopup":case"linkViaRedirect":return dP;case"reauthViaPopup":case"reauthViaRedirect":return fP;default:_n(this.auth,"internal-error")}}resolve(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new wa(2e3,1e4);class si extends JE{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,si.currentPopupAction&&si.currentPopupAction.cancel(),si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Zn(this.filter.length===1,"Popup operations only handle one event");const e=_d();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pP.get())};e()}}si.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="pendingRedirect",Oc=new Map;class mP extends JE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const s=await yP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yP(t,e){const n=EP(e),s=vP(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function _P(t,e){Oc.set(t._key(),e)}function vP(t){return Wn(t._redirectPersistence)}function EP(t){return Sc(gP,t.config.apiKey,t.name)}async function wP(t,e,n=!1){const s=ji(t),r=uP(s,e),o=await new mP(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=10*60*1e3;class bP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!ZE(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vm(e))}saveEventToCache(e){this.cachedEventUids.add(Vm(e)),this.lastProcessedEventTime=Date.now()}}function Vm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(t,e={}){return xr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SP=/^https?/;async function OP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AP(t);for(const n of e)try{if(NP(n))return}catch{}_n(t,"unauthorized-domain")}function NP(t){const e=Qh(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!SP.test(n))return!1;if(CP.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new wa(3e4,6e4);function Um(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RP(t){return new Promise((e,n)=>{var s,r,i;function o(){Um(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Um(),n(kn(t,"network-request-failed"))},timeout:kP.get()})}if(!((r=(s=Rn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=Rn().gapi)===null||i===void 0)&&i.load)o();else{const a=w1("iframefcb");return Rn()[a]=()=>{gapi.load?o():n(kn(t,"network-request-failed"))},FE(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function DP(t){return Nc=Nc||RP(t),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new wa(5e3,15e3),LP="__/auth/iframe",xP="emulator/auth/iframe",MP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FP(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dd(e,xP):`https://${t.config.authDomain}/${LP}`,s={apiKey:e.apiKey,appName:t.name,v:Ui},r=$P.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Ea(s).slice(1)}`}async function VP(t){const e=await DP(t),n=Rn().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:FP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MP,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),a=Rn().setTimeout(()=>{i(o)},PP.get());function c(){Rn().clearTimeout(a),r(s)}s.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BP=500,jP=600,HP="_blank",KP="http://localhost";class Bm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qP(t,e,n,s=BP,r=jP){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c=Object.assign(Object.assign({},UP),{width:s.toString(),height:r.toString(),top:i,left:o}),u=bt().toLowerCase();n&&(a=NE(u)?HP:n),OE(u)&&(e=e||KP,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(y1(u)&&a!=="_self")return WP(e||"",a),new Bm(null);const f=window.open(e||"",a,h);pe(f,t,"popup-blocked");try{f.focus()}catch{}return new Bm(f)}function WP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="__/auth/handler",GP="emulator/auth/handler",YP=encodeURIComponent("fac");async function jm(t,e,n,s,r,i){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ui,eventId:r};if(e instanceof BE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(i||{}))o[h]=f}if(e instanceof ba){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${YP}=${encodeURIComponent(c)}`:"";return`${QP(t)}?${Ea(a).slice(1)}${u}`}function QP({config:t}){return t.emulator?dd(t,GP):`https://${t.authDomain}/${zP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="webStorageSupport";class XP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=wP,this._overrideRedirectResult=_P}async _openPopup(e,n,s,r){var i;Zn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await jm(e,n,s,Qh(),r);return qP(e,o,_d())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await jm(e,n,s,Qh(),r);return eP(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Zn(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await VP(e),s=new bP(e);return n.register("authEvent",r=>(pe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nh,{type:nh},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[nh];o!==void 0&&n(!!o),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LE()||gd()||jl()}}const JP=XP;var Hm="@firebase/auth",Km="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function tL(t){xn(new yn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(t)},u=new C1(s,r,i,c);return O1(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xn(new yn("auth-internal",e=>{const n=ji(e.getProvider("auth").getImmediate());return(s=>new ZP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rn(Hm,Km,eL(t)),rn(Hm,Km,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=5*60,sL=fE("authIdTokenMaxAge")||nL;let qm=null;const rL=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sL)return;const r=n==null?void 0:n.token;qm!==r&&(qm=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function fi(t=ud()){const e=Lr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S1(t,{popupRedirectResolver:JP,persistence:[lP,X1,zE]}),s=fE("authTokenSyncURL");if(s){const i=rL(s);W1(n,i,()=>i(n.currentUser)),q1(n,o=>i(o))}const r=uE("auth");return r&&N1(n,`http://${r}`),n}tL("Browser");const Ed=vk("user",()=>{const t=dn(""),e=dn(!1);function n(r){t.value=r}function s(r){e.value=r}return{displayName:t,isSignedIn:e,setDisplayName:n,setIsSignedIn:s}});var iL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,wd=wd||{},me=iL||self;function ql(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Aa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function oL(t){return Object.prototype.hasOwnProperty.call(t,sh)&&t[sh]||(t[sh]=++aL)}var sh="closure_uid_"+(1e9*Math.random()>>>0),aL=0;function cL(t,e,n){return t.call.apply(t.bind,arguments)}function lL(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Et(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Et=cL:Et=lL,Et.apply(null,arguments)}function dc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function it(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Bs(){this.s=this.s,this.o=this.o}var uL=0;Bs.prototype.s=!1;Bs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),uL!=0)&&oL(this)};Bs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ew=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Td(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Wm(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(ql(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var hL=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function Qo(t){return/^[\s\xa0]*$/.test(t)}function Wl(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function Sn(t){return Wl().indexOf(t)!=-1}function bd(t){return bd[" "](t),t}bd[" "]=function(){};function fL(t,e){var n=rx;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var dL=Sn("Opera"),Ii=Sn("Trident")||Sn("MSIE"),tw=Sn("Edge"),Jh=tw||Ii,nw=Sn("Gecko")&&!(Wl().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge"))&&!(Sn("Trident")||Sn("MSIE"))&&!Sn("Edge"),pL=Wl().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge");function sw(){var t=me.document;return t?t.documentMode:void 0}var Zh;e:{var rh="",ih=function(){var t=Wl();if(nw)return/rv:([^\);]+)(\)|;)/.exec(t);if(tw)return/Edge\/([\d\.]+)/.exec(t);if(Ii)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(pL)return/WebKit\/(\S+)/.exec(t);if(dL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ih&&(rh=ih?ih[1]:""),Ii){var oh=sw();if(oh!=null&&oh>parseFloat(rh)){Zh=String(oh);break e}}Zh=rh}var ef;if(me.document&&Ii){var zm=sw();ef=zm||parseInt(Zh,10)||void 0}else ef=void 0;var gL=ef;function Xo(t,e){if(wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(nw){e:{try{bd(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:mL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xo.$.h.call(this)}}it(Xo,wt);var mL={2:"touch",3:"pen",4:"mouse"};Xo.prototype.h=function(){Xo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ca="closure_listenable_"+(1e6*Math.random()|0),yL=0;function _L(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=r,this.key=++yL,this.fa=this.ia=!1}function zl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Id(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function vL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function rw(t){const e={};for(const n in t)e[n]=t[n];return e}const Gm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iw(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Gm.length;i++)n=Gm[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Gl(t){this.src=t,this.g={},this.h=0}Gl.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=nf(t,e,s,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new _L(e,this.src,i,!!s,r),e.ia=n,t.push(e)),e};function tf(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=ew(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(zl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function nf(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==s)return r}return-1}var Ad="closure_lm_"+(1e6*Math.random()|0),ah={};function ow(t,e,n,s,r){if(s&&s.once)return cw(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)ow(t,e[i],n,s,r);return null}return n=Od(n),t&&t[Ca]?t.O(e,n,Aa(s)?!!s.capture:!!s,r):aw(t,e,n,!1,s,r)}function aw(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Aa(r)?!!r.capture:!!r,a=Sd(t);if(a||(t[Ad]=a=new Gl(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=EL(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)hL||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(uw(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EL(){function t(n){return e.call(t.src,t.listener,n)}const e=wL;return t}function cw(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)cw(t,e[i],n,s,r);return null}return n=Od(n),t&&t[Ca]?t.P(e,n,Aa(s)?!!s.capture:!!s,r):aw(t,e,n,!0,s,r)}function lw(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)lw(t,e[i],n,s,r);else s=Aa(s)?!!s.capture:!!s,n=Od(n),t&&t[Ca]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=nf(i,n,s,r),-1<n&&(zl(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Sd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=nf(e,n,s,r)),(n=-1<t?e[t]:null)&&Cd(n))}function Cd(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ca])tf(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(uw(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Sd(e))?(tf(n,t),n.h==0&&(n.src=null,e[Ad]=null)):zl(t)}}}function uw(t){return t in ah?ah[t]:ah[t]="on"+t}function wL(t,e){if(t.fa)t=!0;else{e=new Xo(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Cd(t),t=n.call(s,e)}return t}function Sd(t){return t=t[Ad],t instanceof Gl?t:null}var ch="__closure_events_fn_"+(1e9*Math.random()>>>0);function Od(t){return typeof t=="function"?t:(t[ch]||(t[ch]=function(e){return t.handleEvent(e)}),t[ch])}function rt(){Bs.call(this),this.i=new Gl(this),this.S=this,this.J=null}it(rt,Bs);rt.prototype[Ca]=!0;rt.prototype.removeEventListener=function(t,e,n,s){lw(this,t,e,n,s)};function ht(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new wt(e,t);else if(e instanceof wt)e.target=e.target||t;else{var r=e;e=new wt(s,t),iw(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=pc(o,s,!0,e)&&r}if(o=e.g=t,r=pc(o,s,!0,e)&&r,r=pc(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=pc(o,s,!1,e)&&r}rt.prototype.N=function(){if(rt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)zl(n[s]);delete t.g[e],t.h--}}this.J=null};rt.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};rt.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function pc(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&tf(t.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var Nd=me.JSON.stringify;class TL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function bL(){var t=kd;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class IL{constructor(){this.h=this.g=null}add(e,n){const s=hw.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var hw=new TL(()=>new AL,t=>t.reset());class AL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function CL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function SL(t){me.setTimeout(()=>{throw t},0)}let Jo,Zo=!1,kd=new IL,fw=()=>{const t=me.Promise.resolve(void 0);Jo=()=>{t.then(OL)}};var OL=()=>{for(var t;t=bL();){try{t.h.call(t.g)}catch(n){SL(n)}var e=hw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Zo=!1};function Yl(t,e){rt.call(this),this.h=t||1,this.g=e||me,this.j=Et(this.qb,this),this.l=Date.now()}it(Yl,rt);ee=Yl.prototype;ee.ga=!1;ee.T=null;ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ht(this,"tick"),this.ga&&(Rd(this),this.start()))}};ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rd(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ee.N=function(){Yl.$.N.call(this),Rd(this),delete this.g};function Dd(t,e,n){if(typeof t=="function")n&&(t=Et(t,n));else if(t&&typeof t.handleEvent=="function")t=Et(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function dw(t){t.g=Dd(()=>{t.g=null,t.i&&(t.i=!1,dw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class NL extends Bs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dw(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(t){Bs.call(this),this.h=t,this.g={}}it(ea,Bs);var Ym=[];function pw(t,e,n,s){Array.isArray(n)||(n&&(Ym[0]=n.toString()),n=Ym);for(var r=0;r<n.length;r++){var i=ow(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function gw(t){Id(t.g,function(e,n){this.g.hasOwnProperty(n)&&Cd(e)},t),t.g={}}ea.prototype.N=function(){ea.$.N.call(this),gw(this)};ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ql(){this.g=!0}Ql.prototype.Ea=function(){this.g=!1};function kL(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var h=u[0];u=u[1];var f=h.split("_");o=2<=f.length&&f[1]=="type"?o+(h+"="+u+"&"):o+(h+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function RL(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function ri(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+PL(t,n)+(s?" "+s:"")})}function DL(t,e){t.info(function(){return"TIMEOUT: "+e})}Ql.prototype.info=function(){};function PL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Nd(n)}catch{return e}}var Mr={},Qm=null;function Xl(){return Qm=Qm||new rt}Mr.Ta="serverreachability";function mw(t){wt.call(this,Mr.Ta,t)}it(mw,wt);function ta(t){const e=Xl();ht(e,new mw(e))}Mr.STAT_EVENT="statevent";function yw(t,e){wt.call(this,Mr.STAT_EVENT,t),this.stat=e}it(yw,wt);function Nt(t){const e=Xl();ht(e,new yw(e,t))}Mr.Ua="timingevent";function _w(t,e){wt.call(this,Mr.Ua,t),this.size=e}it(_w,wt);function Sa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Jl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pd(){}Pd.prototype.h=null;function Xm(t){return t.h||(t.h=t.i())}function Ew(){}var Oa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ld(){wt.call(this,"d")}it(Ld,wt);function xd(){wt.call(this,"c")}it(xd,wt);var sf;function Zl(){}it(Zl,Pd);Zl.prototype.g=function(){return new XMLHttpRequest};Zl.prototype.i=function(){return{}};sf=new Zl;function Na(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new ea(this),this.P=LL,t=Jh?125:void 0,this.V=new Yl(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ww}function ww(){this.i=null,this.g="",this.h=!1}var LL=45e3,rf={},Zc={};ee=Na.prototype;ee.setTimeout=function(t){this.P=t};function of(t,e,n){t.L=1,t.v=tu(es(e)),t.s=n,t.S=!0,Tw(t,null)}function Tw(t,e){t.G=Date.now(),ka(t),t.A=es(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),kw(n.i,"t",s),t.C=0,n=t.l.J,t.h=new ww,t.g=Xw(t.l,n?e:null,!t.s),0<t.O&&(t.M=new NL(Et(t.Pa,t,t.g),t.O)),pw(t.U,t.g,"readystatechange",t.nb),e=t.I?rw(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ta(),kL(t.j,t.u,t.A,t.m,t.W,t.s)}ee.nb=function(t){t=t.target;const e=this.M;e&&On(t)==3?e.l():this.Pa(t)};ee.Pa=function(t){try{if(t==this.g)e:{const h=On(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>h)&&(h!=3||Jh||this.g&&(this.h.h||this.g.ja()||ty(this.g)))){this.J||h!=4||e==7||(e==8||0>=f?ta(3):ta(2)),eu(this);var n=this.g.da();this.ca=n;t:if(bw(this)){var s=ty(this.g);t="";var r=s.length,i=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),Oo(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,RL(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qo(a)){var u=a;break t}}u=null}if(n=u)ri(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,af(this,n);else{this.i=!1,this.o=3,Nt(12),ir(this),Oo(this);break e}}this.S?(Iw(this,h,o),Jh&&this.i&&h==3&&(pw(this.U,this.V,"tick",this.mb),this.V.start())):(ri(this.j,this.m,o,null),af(this,o)),h==4&&ir(this),this.i&&!this.J&&(h==4?zw(this.l,this):(this.i=!1,ka(this)))}else tx(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Nt(12)):(this.o=0,Nt(13)),ir(this),Oo(this)}}}catch{}finally{}};function bw(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Iw(t,e,n){let s=!0,r;for(;!t.J&&t.C<n.length;)if(r=xL(t,n),r==Zc){e==4&&(t.o=4,Nt(14),s=!1),ri(t.j,t.m,null,"[Incomplete Response]");break}else if(r==rf){t.o=4,Nt(15),ri(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else ri(t.j,t.m,r,null),af(t,r);bw(t)&&r!=Zc&&r!=rf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Nt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bd(e),e.M=!0,Nt(11))):(ri(t.j,t.m,n,"[Invalid Chunked Response]"),ir(t),Oo(t))}ee.mb=function(){if(this.g){var t=On(this.g),e=this.g.ja();this.C<e.length&&(eu(this),Iw(this,t,e),this.i&&t!=4&&ka(this))}};function xL(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Zc:(n=Number(e.substring(n,s)),isNaN(n)?rf:(s+=1,s+n>e.length?Zc:(e=e.slice(s,s+n),t.C=s+n,e)))}ee.cancel=function(){this.J=!0,ir(this)};function ka(t){t.Y=Date.now()+t.P,Aw(t,t.P)}function Aw(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Sa(Et(t.lb,t),e)}function eu(t){t.B&&(me.clearTimeout(t.B),t.B=null)}ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(DL(this.j,this.A),this.L!=2&&(ta(),Nt(17)),ir(this),this.o=2,Oo(this)):Aw(this,this.Y-t)};function Oo(t){t.l.H==0||t.J||zw(t.l,t)}function ir(t){eu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Rd(t.V),gw(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function af(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||cf(n.i,t))){if(!t.K&&cf(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)nl(n),ru(n);else break e;Ud(n),Nt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sa(Et(n.ib,n),6e3));if(1>=Pw(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else or(n,11)}else if((t.K||n.g==t)&&nl(n),!Qo(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const h=u[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=u[5];p!=null&&typeof p=="number"&&0<p&&(s=1.5*p,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=t.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var i=s.i;i.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Md(i,i.h),i.h=null))}if(s.F){const I=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(s.Da=I,Ve(s.I,s.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=Qw(s,s.J?s.pa:null,s.Y),o.K){Lw(s.i,o);var a=o,c=s.L;c&&a.setTimeout(c),a.B&&(eu(a),ka(a)),s.g=o}else qw(s);0<n.j.length&&iu(n)}else u[0]!="stop"&&u[0]!="close"||or(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?or(n,7):Vd(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ta(4)}catch{}}function ML(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ql(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function $L(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ql(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function Cw(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ql(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=$L(t),s=ML(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var Sw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function pr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof pr){this.h=t.h,el(this,t.j),this.s=t.s,this.g=t.g,tl(this,t.m),this.l=t.l;var e=t.i,n=new na;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Jm(this,n),this.o=t.o}else t&&(e=String(t).match(Sw))?(this.h=!1,el(this,e[1]||"",!0),this.s=fo(e[2]||""),this.g=fo(e[3]||"",!0),tl(this,e[4]),this.l=fo(e[5]||"",!0),Jm(this,e[6]||"",!0),this.o=fo(e[7]||"")):(this.h=!1,this.i=new na(null,this.h))}pr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(po(e,Zm,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(po(e,Zm,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(po(n,n.charAt(0)=="/"?BL:UL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",po(n,HL)),t.join("")};function es(t){return new pr(t)}function el(t,e,n){t.j=n?fo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Jm(t,e,n){e instanceof na?(t.i=e,KL(t.i,t.h)):(n||(e=po(e,jL)),t.i=new na(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function tu(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function po(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,VL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function VL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Zm=/[#\/\?@]/g,UL=/[#\?:]/g,BL=/[#\?]/g,jL=/[#\?@]/g,HL=/#/g;function na(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function js(t){t.g||(t.g=new Map,t.h=0,t.i&&FL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=na.prototype;ee.add=function(t,e){js(this),this.i=null,t=Ki(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ow(t,e){js(t),e=Ki(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Nw(t,e){return js(t),e=Ki(t,e),t.g.has(e)}ee.forEach=function(t,e){js(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};ee.ta=function(){js(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};ee.Z=function(t){js(this);let e=[];if(typeof t=="string")Nw(this,t)&&(e=e.concat(this.g.get(Ki(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return js(this),this.i=null,t=Ki(this,t),Nw(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kw(t,e,n){Ow(t,e),0<n.length&&(t.i=null,t.g.set(Ki(t,e),Td(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function Ki(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function KL(t,e){e&&!t.j&&(js(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Ow(this,s),kw(this,r,n))},t)),t.j=e}var qL=class{constructor(t,e){this.g=t,this.map=e}};function Rw(t){this.l=t||WL,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WL=10;function Dw(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Pw(t){return t.h?1:t.g?t.g.size:0}function cf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Md(t,e){t.g?t.g.add(e):t.h=e}function Lw(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Rw.prototype.cancel=function(){if(this.i=xw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function xw(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Td(t.i)}var zL=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function GL(){this.g=new zL}function YL(t,e,n){const s=n||"";try{Cw(t,function(r,i){let o=r;Aa(r)&&(o=Nd(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function QL(t,e){const n=new Ql;if(me.Image){const s=new Image;s.onload=dc(gc,n,s,"TestLoadImage: loaded",!0,e),s.onerror=dc(gc,n,s,"TestLoadImage: error",!1,e),s.onabort=dc(gc,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=dc(gc,n,s,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function gc(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function Ra(t){this.l=t.fc||null,this.j=t.ob||!1}it(Ra,Pd);Ra.prototype.g=function(){return new nu(this.l,this.j)};Ra.prototype.i=function(t){return function(){return t}}({});function nu(t,e){rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$d,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(nu,rt);var $d=0;ee=nu.prototype;ee.open=function(t,e){if(this.readyState!=$d)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sa(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Da(this)),this.readyState=$d};ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mw(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Mw(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Da(this):sa(this),this.readyState==3&&Mw(this)}};ee.Za=function(t){this.g&&(this.response=this.responseText=t,Da(this))};ee.Ya=function(t){this.g&&(this.response=t,Da(this))};ee.ka=function(){this.g&&Da(this)};function Da(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sa(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function sa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var XL=me.JSON.parse;function We(t){rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$w,this.L=this.M=!1}it(We,rt);var $w="",JL=/^https?$/i,ZL=["POST","PUT"];ee=We.prototype;ee.Oa=function(t){this.M=t};ee.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sf.g(),this.C=this.u?Xm(this.u):Xm(sf),this.g.onreadystatechange=Et(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){ey(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=me.FormData&&t instanceof me.FormData,!(0<=ew(ZL,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Uw(this),0<this.B&&((this.L=ex(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.ua,this)):this.A=Dd(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){ey(this,i)}};function ex(t){return Ii&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.ua=function(){typeof wd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ht(this,"timeout"),this.abort(8))};function ey(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Fw(t),su(t)}function Fw(t){t.F||(t.F=!0,ht(t,"complete"),ht(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ht(this,"complete"),ht(this,"abort"),su(this))};ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),su(this,!0)),We.$.N.call(this)};ee.La=function(){this.s||(this.G||this.v||this.l?Vw(this):this.kb())};ee.kb=function(){Vw(this)};function Vw(t){if(t.h&&typeof wd<"u"&&(!t.C[1]||On(t)!=4||t.da()!=2)){if(t.v&&On(t)==4)Dd(t.La,0,t);else if(ht(t,"readystatechange"),On(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=o===0){var r=String(t.I).match(Sw)[1]||null;!r&&me.self&&me.self.location&&(r=me.self.location.protocol.slice(0,-1)),s=!JL.test(r?r.toLowerCase():"")}n=s}if(n)ht(t,"complete"),ht(t,"success");else{t.m=6;try{var i=2<On(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Fw(t)}}finally{su(t)}}}}function su(t,e){if(t.g){Uw(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ht(t,"ready");try{n.onreadystatechange=s}catch{}}}function Uw(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}ee.isActive=function(){return!!this.g};function On(t){return t.g?t.g.readyState:0}ee.da=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),XL(e)}};function ty(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $w:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tx(t){const e={};t=(t.g&&2<=On(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(Qo(t[s]))continue;var n=CL(t[s]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[r]||[];e[r]=i,i.push(n)}vL(e,function(s){return s.join(", ")})}ee.Ia=function(){return this.m};ee.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Bw(t){let e="";return Id(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Fd(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Bw(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function io(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jw(t){this.Ga=0,this.j=[],this.l=new Ql,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=io("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=io("baseRetryDelayMs",5e3,t),this.hb=io("retryDelaySeedMs",1e4,t),this.eb=io("forwardChannelMaxRetries",2,t),this.xa=io("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Rw(t&&t.concurrentRequestLimit),this.Ja=new GL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ee=jw.prototype;ee.ra=8;ee.H=1;function Vd(t){if(Hw(t),t.H==3){var e=t.W++,n=es(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Pa(t,n),e=new Na(t,t.l,e),e.L=2,e.v=tu(es(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=Xw(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ka(e)}Yw(t)}function ru(t){t.g&&(Bd(t),t.g.cancel(),t.g=null)}function Hw(t){ru(t),t.u&&(me.clearTimeout(t.u),t.u=null),nl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function iu(t){if(!Dw(t.i)&&!t.m){t.m=!0;var e=t.Na;Jo||fw(),Zo||(Jo(),Zo=!0),kd.add(e,t),t.C=0}}function nx(t,e){return Pw(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sa(Et(t.Na,t,e),Gw(t,t.C)),t.C++,!0)}ee.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new Na(this,this.l,t);let i=this.s;if(this.U&&(i?(i=rw(i),iw(i,this.U)):i=this.U),this.o!==null||this.O||(r.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Kw(this,r,e),n=es(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),Pa(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Bw(i)))+"&"+e:this.o&&Fd(n,this.o,i)),Md(this.i,r),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),r.aa=!0,of(r,n,null)):of(r,n,e),this.H=2}}else this.H==3&&(t?ny(this,t):this.j.length==0||Dw(this.i)||ny(this))};function ny(t,e){var n;e?n=e.m:n=t.W++;const s=es(t.I);Ve(s,"SID",t.K),Ve(s,"RID",n),Ve(s,"AID",t.V),Pa(t,s),t.o&&t.s&&Fd(s,t.o,t.s),n=new Na(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Kw(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Md(t.i,n),of(n,s,e)}function Pa(t,e){t.na&&Id(t.na,function(n,s){Ve(e,s,n)}),t.h&&Cw({},function(n,s){Ve(e,s,n)})}function Kw(t,e,n){n=Math.min(t.j.length,n);var s=t.h?Et(t.h.Va,t.h,t):null;e:{var r=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let u=r[c].g;const h=r[c].map;if(u-=i,0>u)i=Math.max(0,r[c].g-100),a=!1;else try{YL(h,o,"req"+u+"_")}catch{s&&s(h)}}if(a){s=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function qw(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Jo||fw(),Zo||(Jo(),Zo=!0),kd.add(e,t),t.A=0}}function Ud(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sa(Et(t.Ma,t),Gw(t,t.A)),t.A++,!0)}ee.Ma=function(){if(this.u=null,Ww(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sa(Et(this.jb,this),t)}};ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nt(10),ru(this),Ww(this))};function Bd(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function Ww(t){t.g=new Na(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=es(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),Pa(t,e),t.o&&t.s&&Fd(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=tu(es(e)),n.s=null,n.S=!0,Tw(n,t)}ee.ib=function(){this.v!=null&&(this.v=null,ru(this),Ud(this),Nt(19))};function nl(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function zw(t,e){var n=null;if(t.g==e){nl(t),Bd(t),t.g=null;var s=2}else if(cf(t.i,e))n=e.F,Lw(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;s=Xl(),ht(s,new _w(s,n)),iu(t)}else qw(t);else if(r=e.o,r==3||r==0&&0<e.ca||!(s==1&&nx(t,e)||s==2&&Ud(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:or(t,5);break;case 4:or(t,10);break;case 3:or(t,6);break;default:or(t,2)}}}function Gw(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function or(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=Et(t.pb,t);n||(n=new pr("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||el(n,"https"),tu(n)),QL(n.toString(),s)}else Nt(2);t.H=0,t.h&&t.h.za(e),Yw(t),Hw(t)}ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Nt(2)):(this.l.info("Failed to ping google.com"),Nt(1))};function Yw(t){if(t.H=0,t.ma=[],t.h){const e=xw(t.i);(e.length!=0||t.j.length!=0)&&(Wm(t.ma,e),Wm(t.ma,t.j),t.i.i.length=0,Td(t.j),t.j.length=0),t.h.ya()}}function Qw(t,e,n){var s=n instanceof pr?es(n):new pr(n);if(s.g!="")e&&(s.g=e+"."+s.g),tl(s,s.m);else{var r=me.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new pr(null);s&&el(i,s),e&&(i.g=e),r&&tl(i,r),n&&(i.l=n),s=i}return n=t.F,e=t.Da,n&&e&&Ve(s,n,e),Ve(s,"VER",t.ra),Pa(t,s),s}function Xw(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new We(new Ra({ob:!0})):new We(t.va),e.Oa(t.J),e}ee.isActive=function(){return!!this.h&&this.h.isActive(this)};function Jw(){}ee=Jw.prototype;ee.Ba=function(){};ee.Aa=function(){};ee.za=function(){};ee.ya=function(){};ee.isActive=function(){return!0};ee.Va=function(){};function sl(){if(Ii&&!(10<=Number(gL)))throw Error("Environmental error: no available transport.")}sl.prototype.g=function(t,e){return new Wt(t,e)};function Wt(t,e){rt.call(this),this.g=new jw(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qi(this)}it(Wt,rt);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Nt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Qw(t,null,t.Y),iu(t)};Wt.prototype.close=function(){Vd(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Nd(t),t=n);e.j.push(new qL(e.fb++,t)),e.H==3&&iu(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,Vd(this.g),delete this.g,Wt.$.N.call(this)};function Zw(t){Ld.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}it(Zw,Ld);function eT(){xd.call(this),this.status=1}it(eT,xd);function qi(t){this.g=t}it(qi,Jw);qi.prototype.Ba=function(){ht(this.g,"a")};qi.prototype.Aa=function(t){ht(this.g,new Zw(t))};qi.prototype.za=function(t){ht(this.g,new eT)};qi.prototype.ya=function(){ht(this.g,"b")};function sx(){this.blockSize=-1}function vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(vn,sx);vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function lh(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)s[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var i=t.g[3],o=e+(i^n&(r^i))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[2]+606105819&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[6]+2821735955&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[10]+4294925233&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[14]+2792965006&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^i&(n^r))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[11]+643717713&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[15]+3634488961&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[3]+4107603335&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[7]+1735328473&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^i)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[11]+1839030562&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[7]+4139469664&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[3]+3572445317&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[15]+530742520&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~i))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[14]+2878612391&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[10]+4293915773&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[6]+2734768916&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[2]+718787259&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+i&4294967295}vn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,r=this.h,i=0;i<e;){if(r==0)for(;i<=n;)lh(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(s[r++]=t.charCodeAt(i++),r==this.blockSize){lh(this,s),r=0;break}}else for(;i<e;)if(s[r++]=t[i++],r==this.blockSize){lh(this,s),r=0;break}}this.h=r,this.i+=e};vn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function De(t,e){this.h=e;for(var n=[],s=!0,r=t.length-1;0<=r;r--){var i=t[r]|0;s&&i==e||(n[r]=i,s=!1)}this.g=n}var rx={};function jd(t){return-128<=t&&128>t?fL(t,function(e){return new De([e|0],0>e?-1:0)}):new De([t|0],0>t?-1:0)}function Nn(t){if(isNaN(t)||!isFinite(t))return di;if(0>t)return ut(Nn(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=lf;return new De(e,0)}function tT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ut(tT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nn(Math.pow(e,8)),s=di,r=0;r<t.length;r+=8){var i=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+i),e);8>i?(i=Nn(Math.pow(e,i)),s=s.R(i).add(Nn(o))):(s=s.R(n),s=s.add(Nn(o)))}return s}var lf=4294967296,di=jd(0),uf=jd(1),sy=jd(16777216);ee=De.prototype;ee.ea=function(){if(nn(this))return-ut(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:lf+s)*e,e*=lf}return t};ee.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zn(this))return"0";if(nn(this))return"-"+ut(this).toString(t);for(var e=Nn(Math.pow(t,6)),n=this,s="";;){var r=il(n,e).g;n=rl(n,r.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,zn(n))return i+s;for(;6>i.length;)i="0"+i;s=i+s}};ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function nn(t){return t.h==-1}ee.X=function(t){return t=rl(this,t),nn(t)?-1:zn(t)?0:1};function ut(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new De(n,~t.h).add(uf)}ee.abs=function(){return nn(this)?ut(this):this};ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,r=0;r<=e;r++){var i=s+(this.D(r)&65535)+(t.D(r)&65535),o=(i>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);s=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new De(n,n[n.length-1]&-2147483648?-1:0)};function rl(t,e){return t.add(ut(e))}ee.R=function(t){if(zn(this)||zn(t))return di;if(nn(this))return nn(t)?ut(this).R(ut(t)):ut(ut(this).R(t));if(nn(t))return ut(this.R(ut(t)));if(0>this.X(sy)&&0>t.X(sy))return Nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var i=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*s+2*r]+=o*c,mc(n,2*s+2*r),n[2*s+2*r+1]+=i*c,mc(n,2*s+2*r+1),n[2*s+2*r+1]+=o*a,mc(n,2*s+2*r+1),n[2*s+2*r+2]+=i*a,mc(n,2*s+2*r+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new De(n,0)};function mc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function oo(t,e){this.g=t,this.h=e}function il(t,e){if(zn(e))throw Error("division by zero");if(zn(t))return new oo(di,di);if(nn(t))return e=il(ut(t),e),new oo(ut(e.g),ut(e.h));if(nn(e))return e=il(t,ut(e)),new oo(ut(e.g),e.h);if(30<t.g.length){if(nn(t)||nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=uf,s=e;0>=s.X(t);)n=ry(n),s=ry(s);var r=Xr(n,1),i=Xr(s,1);for(s=Xr(s,2),n=Xr(n,2);!zn(s);){var o=i.add(s);0>=o.X(t)&&(r=r.add(n),i=o),s=Xr(s,1),n=Xr(n,1)}return e=rl(t,r.R(e)),new oo(r,e)}for(r=di;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),i=Nn(n),o=i.R(e);nn(o)||0<o.X(t);)n-=s,i=Nn(n),o=i.R(e);zn(i)&&(i=uf),r=r.add(i),t=rl(t,o)}return new oo(r,t)}ee.gb=function(t){return il(this,t).h};ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new De(n,this.h&t.h)};ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new De(n,this.h|t.h)};ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new De(n,this.h^t.h)};function ry(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new De(n,t.h)}function Xr(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,r=[],i=0;i<s;i++)r[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new De(r,t.h)}sl.prototype.createWebChannel=sl.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;Jl.NO_ERROR=0;Jl.TIMEOUT=8;Jl.HTTP_ERROR=6;vw.COMPLETE="complete";Ew.EventType=Oa;Oa.OPEN="a";Oa.CLOSE="b";Oa.ERROR="c";Oa.MESSAGE="d";rt.prototype.listen=rt.prototype.O;We.prototype.listenOnce=We.prototype.P;We.prototype.getLastError=We.prototype.Sa;We.prototype.getLastErrorCode=We.prototype.Ia;We.prototype.getStatus=We.prototype.da;We.prototype.getResponseJson=We.prototype.Wa;We.prototype.getResponseText=We.prototype.ja;We.prototype.send=We.prototype.ha;We.prototype.setWithCredentials=We.prototype.Oa;vn.prototype.digest=vn.prototype.l;vn.prototype.reset=vn.prototype.reset;vn.prototype.update=vn.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=Nn;De.fromString=tT;var ix=function(){return new sl},ox=function(){return Xl()},uh=Jl,ax=vw,cx=Mr,iy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lx=Ra,yc=Ew,ux=We,hx=vn,pi=De;const oy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Bl("@firebase/firestore");function ay(){return br.logLevel}function ae(t,...e){if(br.logLevel<=Oe.DEBUG){const n=e.map(Hd);br.debug(`Firestore (${Wi}): ${t}`,...n)}}function ts(t,...e){if(br.logLevel<=Oe.ERROR){const n=e.map(Hd);br.error(`Firestore (${Wi}): ${t}`,...n)}}function Ai(t,...e){if(br.logLevel<=Oe.WARN){const n=e.map(Hd);br.warn(`Firestore (${Wi}): ${t}`,...n)}}function Hd(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Wi}) INTERNAL ASSERTION FAILED: `+t;throw ts(e),new Error(e)}function Ue(t,e){t||ge()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class dx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class px{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ks,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new nT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new gt(e)}}class gx{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class mx{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new gx(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _x{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=i=>{i.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?r(i):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.T=n.token,new yx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=vx(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function ke(t,e){return t<e?-1:t>e?1:0}function Ci(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new et(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new et(0,0))}static max(){return new ye(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(),s===void 0?s=e.length-n:s>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ra.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ra?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends ra{construct(e,n,s){return new Be(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const Ex=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends ra{construct(e,n,s){return new _t(e,n,s)}static isValidIdentifier(e){return Ex.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new le(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new le(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new le(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Be.fromString(e))}static fromName(e){return new ue(Be.fromString(e).popFirst(5))}static empty(){return new ue(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Be(e.slice()))}}function wx(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ye.fromTimestamp(s===1e9?new et(n+1,0):new et(n,s));return new Fs(r,ue.empty(),e)}function Tx(t){return new Fs(t.readTime,t.key,-1)}class Fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fs(ye.min(),ue.empty(),-1)}static max(){return new Fs(ye.max(),ue.empty(),-1)}}function bx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ax{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==Ix)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,s)=>{n(e)})}static reject(e){return new q((n,s)=>{s(e)})}static waitFor(e){return new q((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=q.resolve(!1);for(const s of e)n=n.next(r=>r?q.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new q((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===i&&s(o)},h=>r(h))}})}static doWhile(e,n){return new q((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function xa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Kd.ct=-1;function ou(t){return t==null}function ol(t){return t===0&&1/t==-1/0}function Cx(t){return typeof t=="number"&&Number.isInteger(t)&&!ol(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??ct.RED,this.left=r??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new ct(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ct.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(t,e,n,s,r){return this}insert(t,e,n){return new ct(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ly(this.data.getIterator())}getIteratorFrom(e){return new ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new hn([])}unionWith(e){let n=new Tt(_t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ci(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new iT("Invalid base64 string: "+r):r}}(e);return new At(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const Sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=Sx.exec(t);if(Ue(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ir(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wd(t){const e=t.mapValue.fields.__previous_value__;return qd(e)?Wd(e):e}function ia(t){const e=Vs(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,s,r,i,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qd(t)?4:Nx(t)?9007199254740991:10:ge()}function Mn(t,e){if(t===e)return!0;const n=Ar(t);if(n!==Ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ia(t).isEqual(ia(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=Vs(s.timestampValue),o=Vs(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Ir(s.bytesValue).isEqual(Ir(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Qe(s.geoPointValue.latitude)===Qe(r.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Qe(s.integerValue)===Qe(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Qe(s.doubleValue),o=Qe(r.doubleValue);return i===o?ol(i)===ol(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Ci(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(cy(i)!==cy(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Mn(i[a],o[a])))return!1;return!0}(t,e);default:return ge()}}function aa(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function Si(t,e){if(t===e)return 0;const n=Ar(t),s=Ar(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Qe(r.integerValue||r.doubleValue),a=Qe(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return uy(t.timestampValue,e.timestampValue);case 4:return uy(ia(t),ia(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Ir(r),a=Ir(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=ke(o[c],a[c]);if(u!==0)return u}return ke(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=ke(Qe(r.latitude),Qe(i.latitude));return o!==0?o:ke(Qe(r.longitude),Qe(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Si(o[c],a[c]);if(u)return u}return ke(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===vc.mapValue&&i===vc.mapValue)return 0;if(r===vc.mapValue)return 1;if(i===vc.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),c=i.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let h=0;h<a.length&&h<u.length;++h){const f=ke(a[h],u[h]);if(f!==0)return f;const p=Si(o[a[h]],c[u[h]]);if(p!==0)return p}return ke(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ge()}}function uy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Vs(t),s=Vs(e),r=ke(n.seconds,s.seconds);return r!==0?r:ke(n.nanos,s.nanos)}function Oi(t){return hf(t)}function hf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Vs(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ir(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=hf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${hf(s.fields[a])}`;return i+"}"}(t.mapValue):ge();var e,n}function ff(t){return!!t&&"integerValue"in t}function zd(t){return!!t&&"arrayValue"in t}function hy(t){return!!t&&"nullValue"in t}function fy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kc(t){return!!t&&"mapValue"in t}function No(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=No(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=No(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Nx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=No(n)}setAll(e){let n=_t.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=No(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];kc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){zi(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new sn(No(this.value))}}function oT(t){const e=[];return zi(t.fields,(n,s)=>{const r=new _t([n]);if(kc(s)){const i=oT(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new mt(e,0,ye.min(),ye.min(),ye.min(),sn.empty(),0)}static newFoundDocument(e,n,s,r){return new mt(e,1,n,ye.min(),s,r,0)}static newNoDocument(e,n){return new mt(e,2,n,ye.min(),ye.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,ye.min(),ye.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.position=e,this.inclusive=n}}function dy(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=ue.comparator(ue.fromName(o.referenceValue),n.key):s=Si(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function py(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n="asc"){this.field=e,this.dir=n}}function kx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{}class Ze extends aT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Dx(e,n,s):n==="array-contains"?new xx(e,s):n==="in"?new Mx(e,s):n==="not-in"?new $x(e,s):n==="array-contains-any"?new Fx(e,s):new Ze(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Px(e,s):new Lx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Si(n,this.value)):n!==null&&Ar(this.value)===Ar(n)&&this.matchesComparison(Si(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $n extends aT{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new $n(e,n)}matches(e){return cT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function cT(t){return t.op==="and"}function lT(t){return Rx(t)&&cT(t)}function Rx(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function df(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Oi(t.value);if(lT(t))return t.filters.map(e=>df(e)).join(",");{const e=t.filters.map(n=>df(n)).join(",");return`${t.op}(${e})`}}function uT(t,e){return t instanceof Ze?function(n,s){return s instanceof Ze&&n.op===s.op&&n.field.isEqual(s.field)&&Mn(n.value,s.value)}(t,e):t instanceof $n?function(n,s){return s instanceof $n&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&uT(i,s.filters[o]),!0):!1}(t,e):void ge()}function hT(t){return t instanceof Ze?function(e){return`${e.field.canonicalString()} ${e.op} ${Oi(e.value)}`}(t):t instanceof $n?function(e){return e.op.toString()+" {"+e.getFilters().map(hT).join(" ,")+"}"}(t):"Filter"}class Dx extends Ze{constructor(e,n,s){super(e,n,s),this.key=ue.fromName(s.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class Px extends Ze{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lx extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ue.fromName(s.referenceValue))}class xx extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zd(n)&&aa(n.arrayValue,this.value)}}class Mx extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&aa(this.value.arrayValue,n)}}class $x extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!aa(this.value.arrayValue,n)}}class Fx extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>aa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function gy(t,e=null,n=[],s=[],r=null,i=null,o=null){return new Vx(t,e,n,s,r,i,o)}function Gd(t){const e=_e(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>df(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Oi(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Oi(s)).join(",")),e.dt=n}return e.dt}function Yd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!py(t.startAt,e.startAt)&&py(t.endAt,e.endAt)}function pf(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}}function Ux(t,e,n,s,r,i,o,a){return new au(t,e,n,s,r,i,o,a)}function dT(t){return new au(t)}function my(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bx(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jx(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Hx(t){return t.collectionGroup!==null}function gi(t){const e=_e(t);if(e.wt===null){e.wt=[];const n=jx(e),s=Bx(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new ko(n)),e.wt.push(new ko(_t.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ko(_t.keyField(),i))}}}return e.wt}function ns(t){const e=_e(t);if(!e._t)if(e.limitType==="F")e._t=gy(e.path,e.collectionGroup,gi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of gi(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new ko(i.field,o))}const s=e.endAt?new al(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new al(e.startAt.position,e.startAt.inclusive):null;e._t=gy(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function gf(t,e,n){return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cu(t,e){return Yd(ns(t),ns(e))&&t.limitType===e.limitType}function pT(t){return`${Gd(ns(t))}|lt:${t.limitType}`}function mf(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>hT(s)).join(", ")}]`),ou(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Oi(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Oi(s)).join(",")),`Target(${n})`}(ns(t))}; limitType=${t.limitType})`}function lu(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):ue.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of gi(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=dy(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,gi(n),s)||n.endAt&&!function(r,i,o){const a=dy(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,gi(n),s))}(t,e)}function Kx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gT(t){return(e,n)=>{let s=!1;for(const r of gi(t)){const i=qx(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function qx(t,e,n){const s=t.field.isKeyField()?ue.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?Si(a,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new qe(ue.comparator);function ss(){return Wx}const mT=new qe(ue.comparator);function go(...t){let e=mT;for(const n of t)e=e.insert(n.key,n);return e}function yT(t){let e=mT;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ar(){return Ro()}function _T(){return Ro()}function Ro(){return new Gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const zx=new qe(ue.comparator),Gx=new Tt(ue.comparator);function be(...t){let e=Gx;for(const n of t)e=e.add(n);return e}const Yx=new Tt(ke);function Qx(){return Yx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ol(e)?"-0":e}}function ET(t){return{integerValue:""+t}}function Xx(t,e){return Cx(e)?ET(e):vT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this._=void 0}}function Jx(t,e,n){return t instanceof cl?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&qd(r)&&(r=Wd(r)),r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof ca?TT(t,e):t instanceof la?bT(t,e):function(s,r){const i=wT(s,r),o=yy(i)+yy(s.gt);return ff(i)&&ff(s.gt)?ET(o):vT(s.serializer,o)}(t,e)}function Zx(t,e,n){return t instanceof ca?TT(t,e):t instanceof la?bT(t,e):n}function wT(t,e){return t instanceof ll?ff(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class cl extends uu{}class ca extends uu{constructor(e){super(),this.elements=e}}function TT(t,e){const n=IT(e);for(const s of t.elements)n.some(r=>Mn(r,s))||n.push(s);return{arrayValue:{values:n}}}class la extends uu{constructor(e){super(),this.elements=e}}function bT(t,e){let n=IT(e);for(const s of t.elements)n=n.filter(r=>!Mn(r,s));return{arrayValue:{values:n}}}class ll extends uu{constructor(e,n){super(),this.serializer=e,this.gt=n}}function yy(t){return Qe(t.integerValue||t.doubleValue)}function IT(t){return zd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eM(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof ca&&s instanceof ca||n instanceof la&&s instanceof la?Ci(n.elements,s.elements,Mn):n instanceof ll&&s instanceof ll?Mn(n.gt,s.gt):n instanceof cl&&s instanceof cl}(t.transform,e.transform)}class tM{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hu{}function AT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ST(t.key,Xn.none()):new Ma(t.key,t.data,Xn.none());{const n=t.data,s=sn.empty();let r=new Tt(_t.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new $r(t.key,s,new hn(r.toArray()),Xn.none())}}function nM(t,e,n){t instanceof Ma?function(s,r,i){const o=s.value.clone(),a=vy(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof $r?function(s,r,i){if(!Rc(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=vy(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(CT(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Do(t,e,n,s){return t instanceof Ma?function(r,i,o,a){if(!Rc(r.precondition,i))return o;const c=r.value.clone(),u=Ey(r.fieldTransforms,a,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof $r?function(r,i,o,a){if(!Rc(r.precondition,i))return o;const c=Ey(r.fieldTransforms,a,i),u=i.data;return u.setAll(CT(r)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(r,i,o){return Rc(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function sM(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=wT(s.transform,r||null);i!=null&&(n===null&&(n=sn.empty()),n.set(s.field,i))}return n||null}function _y(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Ci(n,s,(r,i)=>eM(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ma extends hu{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $r extends hu{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function CT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function vy(t,e,n){const s=new Map;Ue(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,Zx(o,a,n[r]))}return s}function Ey(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,Jx(i,o,e))}return s}class ST extends hu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rM extends hu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&nM(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Do(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Do(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_T();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=AT(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ye.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Ci(this.mutations,e.mutations,(n,s)=>_y(n,s))&&Ci(this.baseMutations,e.baseMutations,(n,s)=>_y(n,s))}}class Qd{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ue(e.mutations.length===s.length);let r=zx;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Qd(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,Ae;function cM(t){switch(t){default:return ge();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function OT(t){if(t===void 0)return ts("GRPC error has no .code"),K.UNKNOWN;switch(t){case Ye.OK:return K.OK;case Ye.CANCELLED:return K.CANCELLED;case Ye.UNKNOWN:return K.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return K.INTERNAL;case Ye.UNAVAILABLE:return K.UNAVAILABLE;case Ye.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ye.NOT_FOUND:return K.NOT_FOUND;case Ye.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ye.ABORTED:return K.ABORTED;case Ye.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ye.DATA_LOSS:return K.DATA_LOSS;default:return ge()}}(Ae=Ye||(Ye={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ec}static getOrCreateInstance(){return Ec===null&&(Ec=new Xd),Ec}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ec=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new pi([4294967295,4294967295],0);function wy(t){const e=lM().encode(t),n=new hx;return n.update(e),new Uint8Array(n.digest())}function Ty(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new pi([n,s],0),new pi([r,i],0)]}class Jd{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new mo(`Invalid padding: ${n}`);if(s<0)throw new mo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new mo(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=pi.fromNumber(this.It)}Et(e,n,s){let r=e.add(n.multiply(pi.fromNumber(s)));return r.compare(uM)===1&&(r=new pi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=wy(e),[s,r]=Ty(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);if(!this.At(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Jd(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=wy(e),[s,r]=Ty(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,$a.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fu(ye.min(),r,new qe(ke),ss(),be())}}class $a{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new $a(s,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,s,r){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=r}}class NT{constructor(e,n){this.targetId=e,this.Vt=n}}class kT{constructor(e,n,s=At.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class by{constructor(){this.St=0,this.Dt=Ay(),this.Ct=At.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),s=be();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ge()}}),new $a(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=Ay()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ss(),this.zt=Iy(),this.Wt=new qe(ke)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,r)=>{this.te(r)&&n(r)})}ne(e){var n;const s=e.targetId,r=e.Vt.count,i=this.se(s);if(i){const o=i.target;if(pf(o))if(r===0){const a=new ue(o.path);this.Yt(s,a,mt.newNoDocument(a,ye.min()))}else Ue(r===1);else{const a=this.ie(s);if(a!==r){const c=this.re(e,a);if(c!==0){this.ee(s);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,u)}(n=Xd.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,h,f){var p,g,w,I,S,b;const _={localCacheCount:h,existenceFilterCount:f.count},R=f.unchangedNames;return R&&(_.bloomFilter={applied:u===0,hashCount:(p=R==null?void 0:R.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(I=(w=(g=R==null?void 0:R.bits)===null||g===void 0?void 0:g.bitmap)===null||w===void 0?void 0:w.length)!==null&&I!==void 0?I:0,padding:(b=(S=R==null?void 0:R.bits)===null||S===void 0?void 0:S.padding)!==null&&b!==void 0?b:0}),_}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:r}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=s;let c,u;try{c=Ir(i).toUint8Array()}catch(h){if(h instanceof iT)return Ai("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw h}try{u=new Jd(c,o,a)}catch(h){return Ai(h instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",h),1}return u.It===0?1:r!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let r=0;return s.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&pf(a.target)){const c=new ue(a.target.path);this.jt.get(c)!==null||this.ae(o,c)||this.Yt(o,c,mt.newNoDocument(c,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let s=be();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.se(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const r=new fu(e,n,this.Wt,this.jt,s);return this.jt=ss(),this.zt=Iy(),this.Wt=new qe(ke),r}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new by,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Tt(ke),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new by),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Iy(){return new qe(ue.comparator)}function Ay(){return new qe(ue.comparator)}const fM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),dM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),pM=(()=>({and:"AND",or:"OR"}))();class gM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yf(t,e){return t.useProto3Json||ou(e)?e:{value:e}}function ul(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mM(t,e){return ul(t,e.toTimestamp())}function Dn(t){return Ue(!!t),ye.fromTimestamp(function(e){const n=Vs(e);return new et(n.seconds,n.nanos)}(t))}function Zd(t,e){return function(n){return new Be(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function DT(t){const e=Be.fromString(t);return Ue(MT(e)),e}function _f(t,e){return Zd(t.databaseId,e.path)}function hh(t,e){const n=DT(e);if(n.get(1)!==t.databaseId.projectId)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(PT(n))}function vf(t,e){return Zd(t.databaseId,e)}function yM(t){const e=DT(t);return e.length===4?Be.emptyPath():PT(e)}function Ef(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PT(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Cy(t,e,n){return{name:_f(t,e),fields:n.value.mapValue.fields}}function _M(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ue(u===void 0||typeof u=="string"),At.fromBase64String(u||"")):(Ue(u===void 0||u instanceof Uint8Array),At.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?K.UNKNOWN:OT(c.code);return new le(u,c.message||"")}(o);n=new kT(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=hh(t,s.document.name),i=Dn(s.document.updateTime),o=s.document.createTime?Dn(s.document.createTime):ye.min(),a=new sn({mapValue:{fields:s.document.fields}}),c=mt.newFoundDocument(r,i,o,a),u=s.targetIds||[],h=s.removedTargetIds||[];n=new Dc(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=hh(t,s.document),i=s.readTime?Dn(s.readTime):ye.min(),o=mt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Dc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=hh(t,s.document),i=s.removedTargetIds||[];n=new Dc([],i,r,null)}else{if(!("filter"in e))return ge();{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new aM(r,i),a=s.targetId;n=new NT(a,o)}}return n}function vM(t,e){let n;if(e instanceof Ma)n={update:Cy(t,e.key,e.value)};else if(e instanceof ST)n={delete:_f(t,e.key)};else if(e instanceof $r)n={update:Cy(t,e.key,e.data),updateMask:OM(e.fieldMask)};else{if(!(e instanceof rM))return ge();n={verify:_f(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof cl)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ca)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof la)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ll)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw ge()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:mM(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ge()}(t,e.precondition)),n}function EM(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Dn(s.updateTime):Dn(r);return i.isEqual(ye.min())&&(i=Dn(r)),new tM(i,s.transformResults||[])}(n,e))):[]}function wM(t,e){return{documents:[vf(t,e.path)]}}function TM(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=vf(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vf(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(c){if(c.length!==0)return xT($n.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ei(h.field),direction:AM(h.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=yf(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function bM(t){let e=yM(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ue(s===1);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(h){const f=LT(h);return f instanceof $n&&lT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(f){return new ko(ti(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(h)));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ou(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new al(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new al(p,f)}(n.endAt)),Ux(e,r,o,i,a,"F",c,u)}function IM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LT(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ti(e.unaryFilter.field);return Ze.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=ti(e.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ti(e.unaryFilter.field);return Ze.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ti(e.unaryFilter.field);return Ze.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(e){return Ze.create(ti(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return $n.create(e.compositeFilter.filters.map(n=>LT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ge()}}(e.compositeFilter.op))}(t):ge()}function AM(t){return fM[t]}function CM(t){return dM[t]}function SM(t){return pM[t]}function ei(t){return{fieldPath:t.canonicalString()}}function ti(t){return _t.fromServerFormat(t.fieldPath)}function xT(t){return t instanceof Ze?function(e){if(e.op==="=="){if(fy(e.value))return{unaryFilter:{field:ei(e.field),op:"IS_NAN"}};if(hy(e.value))return{unaryFilter:{field:ei(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(fy(e.value))return{unaryFilter:{field:ei(e.field),op:"IS_NOT_NAN"}};if(hy(e.value))return{unaryFilter:{field:ei(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ei(e.field),op:CM(e.op),value:e.value}}}(t):t instanceof $n?function(e){const n=e.getFilters().map(s=>xT(s));return n.length===1?n[0]:{compositeFilter:{op:SM(e.op),filters:n}}}(t):ge()}function OM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,s,r,i=ye.min(),o=ye.min(),a=At.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.fe=e}}function kM(t){const e=bM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.rn=new DM}addToCollectionParentIndex(e,n){return this.rn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Fs.min())}updateCollectionGroup(e,n,s){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class DM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Tt(Be.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Tt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ni(0)}static Mn(){return new Ni(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.changes=new Gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Do(s.mutation,r,hn.empty(),et.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,be()).next(()=>s))}getLocalViewOfDocuments(e,n,s=be()){const r=ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=go();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=ar();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,be()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=ss();const o=Ro(),a=Ro();return n.forEach((c,u)=>{const h=s.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof $r)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Do(h.mutation,u,h.mutation.getFieldMask(),et.now())):o.set(u.key,hn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new LM(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Ro();let r=new qe((o,a)=>o-a),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=s.get(c)||hn.empty();h=a.applyToLocalView(u,h),s.set(c,h);const f=(r.get(a.batchId)||be()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=_T();h.forEach(p=>{if(!i.has(p)){const g=AT(n.get(p),s.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return q.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):q.resolve(ar());let a=-1,c=i;return o.next(u=>q.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,be())).next(h=>({batchId:a,changes:yT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(s=>{let r=go();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=go();return this.indexManager.getCollectionParents(e,r).next(o=>q.forEach(o,a=>{const c=function(u,h){return new au(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,s).next(u=>{u.forEach((h,f)=>{i=i.insert(h,f)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,mt.newInvalidDocument(u)))});let o=go();return i.forEach((a,c)=>{const u=r.get(a);u!==void 0&&Do(u.mutation,c,hn.empty(),et.now()),lu(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return q.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Dn(s.createTime)}),q.resolve()}getNamedQuery(e,n){return q.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:kM(s.bundledQuery),readTime:Dn(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.overlays=new qe(ue.comparator),this.ls=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ar();return q.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.we(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ls.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(s)),q.resolve()}getOverlaysForCollection(e,n,s){const r=ar(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return q.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new qe((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let h=i.get(u.largestBatchId);h===null&&(h=ar(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ar(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return q.resolve(a)}we(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(s.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new oM(n,s));let i=this.ls.get(n);i===void 0&&(i=be(),this.ls.set(n,i)),this.ls.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.fs=new Tt(nt.ds),this.ws=new Tt(nt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new nt(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new nt(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new ue(new Be([])),s=new nt(n,e),r=new nt(n,e+1),i=[];return this.ws.forEachInRange([s,r],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ue(new Be([])),s=new nt(n,e),r=new nt(n,e+1);let i=be();return this.ws.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nt(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ue.comparator(e.key,n.key)||ke(e.As,n.As)}static _s(e,n){return ke(e.As,n.As)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Tt(nt.ds)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iM(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new nt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.bs(s),i=r<0?0:r;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nt(n,0),r=new nt(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([s,r],o=>{const a=this.Ps(o.As);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Tt(ke);return n.forEach(r=>{const i=new nt(r,0),o=new nt(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{s=s.add(a.As)})}),q.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ue.isDocumentKey(i)||(i=i.child(""));const o=new nt(new ue(i),0);let a=new Tt(ke);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.As)),!0)},o),q.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const r=this.Ps(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ue(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return q.forEach(n.mutations,r=>{const i=new nt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new nt(n,0),r=this.Rs.firstAfterOrEqual(s);return q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.Ds=e,this.docs=new qe(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return q.resolve(s?s.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let s=ss();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():mt.newInvalidDocument(r))}),q.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=ss();const o=n.path,a=new ue(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bx(Tx(h),s)<=0||(r.has(h.key)||lu(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,s,r){ge()}Cs(e,n){return q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new UM(this)}getSize(e){return q.resolve(this.size)}}class UM extends PM{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(s)}),q.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.persistence=e,this.xs=new Gi(n=>Gd(n),Yd),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ep,this.targetCount=0,this.Ms=Ni.kn()}forEachTarget(e,n){return this.xs.forEach((s,r)=>n(r)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),q.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ni(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Fn(n),q.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),q.waitFor(i).next(()=>r)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return q.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),q.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),q.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return q.resolve(s)}containsKey(e,n){return q.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.$s={},this.overlays={},this.Os=new Kd(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new BM(this),this.indexManager=new RM,this.remoteDocumentCache=function(s){return new VM(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new NM(n),this.qs=new MM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $M,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new FM(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const r=new HM(this.Os.next());return this.referenceDelegate.Us(),s(r).next(i=>this.referenceDelegate.Ks(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Gs(e,n){return q.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class HM extends Ax{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.Qs=new ep,this.js=null}static zs(e){return new tp(e)}get Ws(){if(this.js)return this.js;throw ge()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),q.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),q.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ws.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Ws,s=>{const r=ue.fromPath(s);return this.Hs(e,r).next(i=>{i||n.removeEntry(r,ye.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return q.or([()=>q.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=r}static Li(e,n){let s=be(),r=be();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new np(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ki(e,n).next(i=>i||this.Gi(e,n,r,s)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(my(n))return q.resolve(null);let s=ns(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=gf(n,null,"F"),s=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=be(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.ji(n,a);return this.zi(n,u,o,c.readTime)?this.Ki(e,gf(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,s,r){return my(n)||r.isEqual(ye.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(i=>{const o=this.ji(n,i);return this.zi(n,o,s,r)?this.Qi(e,n):(ay()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mf(n)),this.Wi(e,o,n,wx(r,-1)))})}ji(e,n){let s=new Tt(gT(e));return n.forEach((r,i)=>{lu(e,i)&&(s=s.add(i))}),s}zi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,n){return ay()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",mf(n)),this.Ui.getDocumentsMatchingQuery(e,n,Fs.min())}Wi(e,n,s,r){return this.Ui.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,s,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new qe(ke),this.Yi=new Gi(i=>Gd(i),Yd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xM(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function WM(t,e,n,s){return new qM(t,e,n,s)}async function $T(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=be();for(const u of r){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function zM(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const h=c.batch,f=h.keys();let p=q.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(a,g)).next(w=>{const I=c.docVersions.get(g);Ue(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,h))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=be();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function FT(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function GM(t,e){const n=_e(t),s=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((h,f)=>{const p=r.get(f);if(!p)return;a.push(n.Bs.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(At.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,s)),r=r.insert(f,g),function(w,I,S){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,g,h)&&a.push(n.Bs.updateTargetData(i,g))});let c=ss(),u=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(YM(i,o,e.documentUpdates).next(h=>{c=h.nr,u=h.sr})),!s.isEqual(ye.min())){const h=n.Bs.getLastRemoteSnapshotVersion(i).next(f=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(h)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ji=r,i))}function YM(t,e,n){let s=be(),r=be();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=ss();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:o,sr:r}})}function QM(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function XM(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Bs.getTargetData(s,e).next(i=>i?(r=i,q.resolve(r)):n.Bs.allocateTargetId(s).next(o=>(r=new Is(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ji.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function wf(t,e,n){const s=_e(t),r=s.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!xa(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(r.target)}function Sy(t,e,n){const s=_e(t);let r=ye.min(),i=be();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const h=_e(a),f=h.Yi.get(u);return f!==void 0?q.resolve(h.Ji.get(f)):h.Bs.getTargetData(c,u)}(s,o,ns(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?r:ye.min(),n?i:be())).next(a=>(JM(s,Kx(e),a),{documents:a,ir:i})))}function JM(t,e,n){let s=t.Xi.get(e)||ye.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Xi.set(e,s)}class Oy{constructor(){this.activeTargetIds=Qx()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZM{constructor(){this.Hr=new Oy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Oy,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function fh(){return wc===null?wc=268435456+Math.round(2147483648*Math.random()):wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class s$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,r,i){const o=fh(),a=this.To(e,n);ae("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const c={};return this.Eo(c,r,i),this.Ao(e,a,c,s).then(u=>(ae("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Ai("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",s),u})}vo(e,n,s,r,i,o){return this.Io(e,n,s,r,i)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}To(e,n){const s=t$[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,r){const i=fh();return new Promise((o,a)=>{const c=new ux;c.setWithCredentials(!0),c.listenOnce(ax.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case uh.NO_ERROR:const h=c.getResponseJson();ae(pt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case uh.TIMEOUT:ae(pt,`RPC '${e}' ${i} timed out`),a(new le(K.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const f=c.getStatus();if(ae(pt,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(I){const S=I.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(S)>=0?S:K.UNKNOWN}(g.status);a(new le(w,g.message))}else a(new le(K.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new le(K.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ae(pt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(r);ae(pt,`RPC '${e}' ${i} sending request:`,r),c.send(n,"POST",u,s,15)})}Ro(e,n,s){const r=fh(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ix(),a=ox(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new lx({})),this.Eo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=i.join("");ae(pt,`Creating RPC '${e}' stream ${r}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,g=!1;const w=new n$({ro:S=>{g?ae(pt,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(p||(ae(pt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),ae(pt,`RPC '${e}' stream ${r} sending:`,S),f.send(S))},oo:()=>f.close()}),I=(S,b,_)=>{S.listen(b,R=>{try{_(R)}catch(T){setTimeout(()=>{throw T},0)}})};return I(f,yc.EventType.OPEN,()=>{g||ae(pt,`RPC '${e}' stream ${r} transport opened.`)}),I(f,yc.EventType.CLOSE,()=>{g||(g=!0,ae(pt,`RPC '${e}' stream ${r} transport closed`),w.wo())}),I(f,yc.EventType.ERROR,S=>{g||(g=!0,Ai(pt,`RPC '${e}' stream ${r} transport errored:`,S),w.wo(new le(K.UNAVAILABLE,"The operation could not be completed")))}),I(f,yc.EventType.MESSAGE,S=>{var b;if(!g){const _=S.data[0];Ue(!!_);const R=_,T=R.error||((b=R[0])===null||b===void 0?void 0:b.error);if(T){ae(pt,`RPC '${e}' stream ${r} received error:`,T);const k=T.status;let V=function(O){const A=Ye[O];if(A!==void 0)return OT(A)}(k),U=T.message;V===void 0&&(V=K.INTERNAL,U="Unknown error status: "+k+" with message "+T.message),g=!0,w.wo(new le(V,U)),f.close()}else ae(pt,`RPC '${e}' stream ${r} received:`,_),w._o(_)}}),I(a,cx.STAT_EVENT,S=>{S.stat===iy.PROXY?ae(pt,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===iy.NOPROXY&&ae(pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function dh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){return new gM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,s=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-s);r>0&&ae("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,s,r,i,o,a,c){this.ii=e,this.$o=s,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new VT(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Fo===n&&this.Zo(s,r)},s=>{e(()=>{const r=new le(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(r)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{s(()=>this.tu(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r$ extends UT{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=_M(this.serializer,e),s=function(r){if(!("targetChange"in r))return ye.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?ye.min():i.readTime?Dn(i.readTime):ye.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Ef(this.serializer),n.addTarget=function(r,i){let o;const a=i.target;if(o=pf(a)?{documents:wM(r,a)}:{query:TM(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=RT(r,i.resumeToken);const c=yf(r,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo(ye.min())>0){o.readTime=ul(r,i.snapshotVersion.toTimestamp());const c=yf(r,i.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const s=IM(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Ef(this.serializer),n.removeTarget=e,this.Wo(n)}}class i$ extends UT{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=EM(e.writeResults,e.commitTime),s=Dn(e.commitTime);return this.listener.cu(s,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ef(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>vM(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o$ extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new le(K.UNKNOWN,r.toString())})}vo(e,n,s,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(K.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class a${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ts(n),this.mu=!1):ae("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{Fr(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=_e(a);c.vu.add(4),await Fa(c),c.bu.set("Unknown"),c.vu.delete(4),await pu(c)}(this))})}),this.bu=new a$(s,r)}}async function pu(t){if(Fr(t))for(const e of t.Ru)await e(!0)}async function Fa(t){for(const e of t.Ru)await e(!1)}function BT(t,e){const n=_e(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ip(n)?rp(n):Yi(n).Ko()&&sp(n,e))}function jT(t,e){const n=_e(t),s=Yi(n);n.Au.delete(e),s.Ko()&&HT(n,e),n.Au.size===0&&(s.Ko()?s.jo():Fr(n)&&n.bu.set("Unknown"))}function sp(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yi(t).su(e)}function HT(t,e){t.Vu.qt(e),Yi(t).iu(e)}function rp(t){t.Vu=new hM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Yi(t).start(),t.bu.gu()}function ip(t){return Fr(t)&&!Yi(t).Uo()&&t.Au.size>0}function Fr(t){return _e(t).vu.size===0}function KT(t){t.Vu=void 0}async function l$(t){t.Au.forEach((e,n)=>{sp(t,e)})}async function u$(t,e){KT(t),ip(t)?(t.bu.Iu(e),rp(t)):t.bu.set("Unknown")}async function h$(t,e,n){if(t.bu.set("Online"),e instanceof kT&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hl(t,s)}else if(e instanceof Dc?t.Vu.Ht(e):e instanceof NT?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ye.min()))try{const s=await FT(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Vu.ce(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=r.Au.get(c);u&&r.Au.set(c,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,c)=>{const u=r.Au.get(a);if(!u)return;r.Au.set(a,u.withResumeToken(At.EMPTY_BYTE_STRING,u.snapshotVersion)),HT(r,a);const h=new Is(u.target,a,c,u.sequenceNumber);sp(r,h)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await hl(t,s)}}async function hl(t,e,n){if(!xa(e))throw e;t.vu.add(1),await Fa(t),t.bu.set("Offline"),n||(n=()=>FT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await pu(t)})}function qT(t,e){return e().catch(n=>hl(t,n,e))}async function gu(t){const e=_e(t),n=Us(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;f$(e);)try{const r=await QM(e.localStore,s);if(r===null){e.Eu.length===0&&n.jo();break}s=r.batchId,d$(e,r)}catch(r){await hl(e,r)}WT(e)&&zT(e)}function f$(t){return Fr(t)&&t.Eu.length<10}function d$(t,e){t.Eu.push(e);const n=Us(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function WT(t){return Fr(t)&&!Us(t).Uo()&&t.Eu.length>0}function zT(t){Us(t).start()}async function p$(t){Us(t).hu()}async function g$(t){const e=Us(t);for(const n of t.Eu)e.uu(n.mutations)}async function m$(t,e,n){const s=t.Eu.shift(),r=Qd.from(s,e,n);await qT(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await gu(t)}async function y$(t,e){e&&Us(t).ou&&await async function(n,s){if(r=s.code,cM(r)&&r!==K.ABORTED){const i=n.Eu.shift();Us(n).Qo(),await qT(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await gu(n)}var r}(t,e),WT(t)&&zT(t)}async function ky(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=Fr(n);n.vu.add(3),await Fa(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await pu(n)}async function _$(t,e){const n=_e(t);e?(n.vu.delete(2),await pu(n)):e||(n.vu.add(2),await Fa(n),n.bu.set("Unknown"))}function Yi(t){return t.Su||(t.Su=function(e,n,s){const r=_e(e);return r.fu(),new r$(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:l$.bind(null,t),ao:u$.bind(null,t),nu:h$.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),ip(t)?rp(t):t.bu.set("Unknown")):(await t.Su.stop(),KT(t))})),t.Su}function Us(t){return t.Du||(t.Du=function(e,n,s){const r=_e(e);return r.fu(),new i$(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:p$.bind(null,t),ao:y$.bind(null,t),au:g$.bind(null,t),cu:m$.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await gu(t)):(await t.Du.stop(),t.Eu.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new op(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(t,e){if(ts("AsyncQueue",`${e}: ${t}`),xa(t))return new le(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.comparator=e?(n,s)=>e(n,s)||ue.comparator(n.key,s.key):(n,s)=>ue.comparator(n.key,s.key),this.keyedMap=go(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new mi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mi;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.Cu=new qe(ue.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ge():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class ki{constructor(e,n,s,r,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ki(e,n,mi.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(){this.Nu=void 0,this.listeners=[]}}class E${constructor(){this.queries=new Gi(e=>pT(e),cu),this.onlineState="Unknown",this.ku=new Set}}async function w$(t,e){const n=_e(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new v$),r)try{i.Nu=await n.onListen(s)}catch(o){const a=ap(o,`Initialization of query '${mf(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&cp(n)}async function T$(t,e){const n=_e(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function b$(t,e){const n=_e(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(r)&&(s=!0);o.Nu=r}}s&&cp(n)}function I$(t,e,n){const s=_e(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function cp(t){t.ku.forEach(e=>{e.next()})}class A${constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new ki(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ki.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.key=e}}class YT{constructor(e){this.key=e}}class C${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=gT(e),this.ec=new mi(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Ry,r=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const p=r.get(h),g=lu(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?w!==I&&(s.track({type:3,doc:g}),S=!0):this.rc(p,g)||(s.track({type:2,doc:g}),S=!0,(c&&this.tc(g,c)>0||u&&this.tc(g,u)<0)&&(a=!0)):!p&&g?(s.track({type:0,doc:g}),S=!0):p&&!g&&(s.track({type:1,doc:p}),S=!0,(c||u)&&(a=!0)),S&&(g?(o=o.add(g),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),s.track({type:1,doc:h})}return{ec:o,ic:s,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((u,h)=>function(f,p){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return g(f)-g(p)}(u.type,h.type)||this.tc(u.doc,h.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,i.length!==0||c?{snapshot:new ki(this.query,e.ec,r,i,e.mutatedKeys,a===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ry,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new YT(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new GT(s))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ki.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class S${constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class O${constructor(e){this.key=e,this.fc=!1}}class N${constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Gi(a=>pT(a),cu),this._c=new Map,this.mc=new Set,this.gc=new qe(ue.comparator),this.yc=new Map,this.Ic=new ep,this.Tc={},this.Ec=new Map,this.Ac=Ni.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function k$(t,e){const n=U$(t);let s,r;const i=n.wc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.lc();else{const o=await XM(n.localStore,ns(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await R$(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&BT(n.remoteStore,o)}return r}async function R$(t,e,n,s,r){t.Rc=(f,p,g)=>async function(w,I,S,b){let _=I.view.sc(S);_.zi&&(_=await Sy(w.localStore,I.query,!1).then(({documents:k})=>I.view.sc(k,_)));const R=b&&b.targetChanges.get(I.targetId),T=I.view.applyChanges(_,w.isPrimaryClient,R);return Py(w,I.targetId,T.cc),T.snapshot}(t,f,p,g);const i=await Sy(t.localStore,e,!0),o=new C$(e,i.ir),a=o.sc(i.documents),c=$a.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,c);Py(t,n,u.cc);const h=new S$(e,n,o);return t.wc.set(e,h),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function D$(t,e){const n=_e(t),s=n.wc.get(e),r=n._c.get(s.targetId);if(r.length>1)return n._c.set(s.targetId,r.filter(i=>!cu(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await wf(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),jT(n.remoteStore,s.targetId),Tf(n,s.targetId)}).catch(La)):(Tf(n,s.targetId),await wf(n.localStore,s.targetId,!0))}async function P$(t,e,n){const s=B$(t);try{const r=await function(i,o){const a=_e(i),c=et.now(),u=o.reduce((p,g)=>p.add(g.key),be());let h,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ss(),w=be();return a.Zi.getEntries(p,u).next(I=>{g=I,g.forEach((S,b)=>{b.isValidDocument()||(w=w.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,g)).next(I=>{h=I;const S=[];for(const b of o){const _=sM(b,h.get(b.key).overlayedDocument);_!=null&&S.push(new $r(b.key,_,oT(_.value.mapValue),Xn.exists(!0)))}return a.mutationQueue.addMutationBatch(p,c,S,o)}).next(I=>{f=I;const S=I.applyToLocalDocumentSet(h,w);return a.documentOverlayCache.saveOverlays(p,I.batchId,S)})}).then(()=>({batchId:f.batchId,changes:yT(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let c=i.Tc[i.currentUser.toKey()];c||(c=new qe(ke)),c=c.insert(o,a),i.Tc[i.currentUser.toKey()]=c}(s,r.batchId,n),await Va(s,r.changes),await gu(s.remoteStore)}catch(r){const i=ap(r,"Failed to persist write");n.reject(i)}}async function QT(t,e){const n=_e(t);try{const s=await GM(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.yc.get(i);o&&(Ue(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?Ue(o.fc):r.removedDocuments.size>0&&(Ue(o.fc),o.fc=!1))}),await Va(n,s,e)}catch(s){await La(s)}}function Dy(t,e,n){const s=_e(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=_e(i);a.onlineState=o;let c=!1;a.queries.forEach((u,h)=>{for(const f of h.listeners)f.Mu(o)&&(c=!0)}),c&&cp(a)}(s.eventManager,e),r.length&&s.dc.nu(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function L$(t,e,n){const s=_e(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.yc.get(e),i=r&&r.key;if(i){let o=new qe(ue.comparator);o=o.insert(i,mt.newNoDocument(i,ye.min()));const a=be().add(i),c=new fu(ye.min(),new Map,new qe(ke),o,a);await QT(s,c),s.gc=s.gc.remove(i),s.yc.delete(e),lp(s)}else await wf(s.localStore,e,!1).then(()=>Tf(s,e,n)).catch(La)}async function x$(t,e){const n=_e(t),s=e.batch.batchId;try{const r=await zM(n.localStore,e);JT(n,s,null),XT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Va(n,r)}catch(r){await La(r)}}async function M$(t,e,n){const s=_e(t);try{const r=await function(i,o){const a=_e(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(h=>(Ue(h!==null),u=h.keys(),a.mutationQueue.removeMutationBatch(c,h))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(s.localStore,e);JT(s,e,n),XT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Va(s,r)}catch(r){await La(r)}}function XT(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function JT(t,e,n){const s=_e(t);let r=s.Tc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Tc[s.currentUser.toKey()]=r}}function Tf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||ZT(t,s)})}function ZT(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(jT(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),lp(t))}function Py(t,e,n){for(const s of n)s instanceof GT?(t.Ic.addReference(s.key,e),$$(t,s)):s instanceof YT?(ae("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||ZT(t,s.key)):ge()}function $$(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(ae("SyncEngine","New document in limbo: "+n),t.mc.add(s),lp(t))}function lp(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ue(Be.fromString(e)),s=t.Ac.next();t.yc.set(s,new O$(n)),t.gc=t.gc.insert(n,s),BT(t.remoteStore,new Is(ns(dT(n.path)),s,"TargetPurposeLimboResolution",Kd.ct))}}async function Va(t,e,n){const s=_e(t),r=[],i=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,c)=>{o.push(s.Rc(c,e,n).then(u=>{if((u||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){r.push(u);const h=np.Li(c.targetId,u);i.push(h)}}))}),await Promise.all(o),s.dc.nu(r),await async function(a,c){const u=_e(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(c,f=>q.forEach(f.Fi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>q.forEach(f.Bi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!xa(h))throw h;ae("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.Ji.get(f),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);u.Ji=u.Ji.insert(f,w)}}}(s.localStore,i))}async function F$(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await $T(n.localStore,e);n.currentUser=e,function(r,i){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new le(K.CANCELLED,i))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Va(n,s.er)}}function V$(t,e){const n=_e(t),s=n.yc.get(e);if(s&&s.fc)return be().add(s.key);{let r=be();const i=n._c.get(e);if(!i)return r;for(const o of i){const a=n.wc.get(o);r=r.unionWith(a.view.nc)}return r}}function U$(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L$.bind(null,e),e.dc.nu=b$.bind(null,e.eventManager),e.dc.Pc=I$.bind(null,e.eventManager),e}function B$(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M$.bind(null,e),e}class Ly{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=du(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return WM(this.persistence,new KM,e.initialUser,this.serializer)}createPersistence(e){return new jM(tp.zs,this.serializer)}createSharedClientState(e){return new ZM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class j${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Dy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=F$.bind(null,this.syncEngine),await _$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new E$}createDatastore(e){const n=du(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new s$(r));var r;return function(i,o,a,c){return new o$(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>Dy(this.syncEngine,a,0),o=Ny.D()?new Ny:new e$,new c$(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,c,u){const h=new N$(s,r,i,o,a,c);return u&&(h.vc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=_e(e);ae("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Fa(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=gt.UNAUTHENTICATED,this.clientId=sT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{ae("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(ae("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ap(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ph(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await $T(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W$(t);ae("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>ky(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ky(e.remoteStore,i)),t._onlineComponents=e}function q$(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function W$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await ph(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!q$(n))throw n;Ai("Error using user provided cache. Falling back to memory cache: "+n),await ph(t,new Ly)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await ph(t,new Ly);return t._offlineComponents}async function eb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await xy(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await xy(t,new j$))),t._onlineComponents}function z$(t){return eb(t).then(e=>e.syncEngine)}async function G$(t){const e=await eb(t),n=e.eventManager;return n.onListen=k$.bind(null,e.syncEngine),n.onUnlisten=D$.bind(null,e.syncEngine),n}function Y$(t,e,n={}){const s=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,c){const u=new H$({next:f=>{i.enqueueAndForget(()=>T$(r,h)),f.fromCache&&a.source==="server"?c.reject(new le(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new A$(o,u,{includeMetadataChanges:!0,Ku:!0});return w$(r,h)}(await G$(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e,n){if(!n)throw new le(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q$(t,e,n,s){if(e===!0&&s===!0)throw new le(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $y(t){if(!ue.isDocumentKey(t))throw new le(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fy(t){if(ue.isDocumentKey(t))throw new le(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function fl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=up(t);throw new le(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class mu{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new le(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fx;switch(n.type){case"firstParty":return new mx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new le(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=My.get(e);n&&(ae("ComponentProvider","Removing Datastore"),My.delete(e),n.terminate())}(this),Promise.resolve()}}function X$(t,e,n,s={}){var r;const i=(t=fl(t,mu))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),s.mockUserToken){let a,c;if(typeof s.mockUserToken=="string")a=s.mockUserToken,c=gt.MOCK_USER;else{a=RR(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const u=s.mockUserToken.sub||s.mockUserToken.user_id;if(!u)throw new le(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new gt(u)}t._authCredentials=new dx(new nT(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class yu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yu(this.firestore,e,this._query)}}class Rs extends yu{constructor(e,n,s){super(e,n,dT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ue(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function sb(t,e,...n){if(t=It(t),nb("collection","path",e),t instanceof mu){const s=Be.fromString(e,...n);return Fy(s),new Rs(t,null,s)}{if(!(t instanceof gn||t instanceof Rs))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Be.fromString(e,...n));return Fy(s),new Rs(t.firestore,null,s)}}function J$(t,e,...n){if(t=It(t),arguments.length===1&&(e=sT.A()),nb("doc","path",e),t instanceof mu){const s=Be.fromString(e,...n);return $y(s),new gn(t,null,new ue(s))}{if(!(t instanceof gn||t instanceof Rs))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Be.fromString(e,...n));return $y(s),new gn(t.firestore,t instanceof Rs?t.converter:null,new ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new VT(this,"async_queue_retry"),this.Xc=()=>{const n=dh();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=dh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=dh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ks;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!xa(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw ts("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=op.createAndSchedule(this,e,n,s,i=>this.na(i));return this.zc.push(r),r}Zc(){this.Wc&&ge()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class hp extends mu{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Z$,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ib(this),this._firestoreClient.terminate()}}function eF(t,e){const n=typeof t=="object"?t:ud(),s=typeof t=="string"?t:e||"(default)",r=Lr(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=NR("firestore");i&&X$(r,...i)}return r}function rb(t){return t._firestoreClient||ib(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ib(t){var e,n,s;const r=t._freezeSettings(),i=function(o,a,c,u){return new Ox(o,a,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,tb(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new K$(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=r.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(At.fromBase64String(e))}catch(n){throw new le(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=/^__.*__$/;class nF{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ma(e,this.data,n,this.fieldTransforms)}}function ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class pp{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new pp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.fa(e),r}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(ab(this.ca)&&tF.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class sF{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||du(e)}ya(e,n,s,r=!1){return new pp({ca:e,methodName:n,ga:s,path:_t.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rF(t){const e=t._freezeSettings(),n=du(t._databaseId);return new sF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iF(t,e,n,s,r,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,r);hb("Data must be an object, but it was:",o,s);const a=lb(s,o);let c,u;if(i.merge)c=new hn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=oF(e,f,n);if(!o.contains(p))throw new le(K.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);cF(h,p)||h.push(p)}c=new hn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new nF(new sn(a),c,u)}function cb(t,e){if(ub(t=It(t)))return hb("Unsupported field value:",e,t),lb(t,e);if(t instanceof ob)return function(n,s){if(!ab(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=cb(o,s.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=It(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Xx(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=et.fromDate(n);return{timestampValue:ul(s.serializer,r)}}if(n instanceof et){const r=new et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ul(s.serializer,r)}}if(n instanceof dp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ri)return{bytesValue:RT(s.serializer,n._byteString)};if(n instanceof gn){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Zd(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${up(n)}`)}(t,e)}function lb(t,e){const n={};return rT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(s,r)=>{const i=cb(r,e.ha(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function ub(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof dp||t instanceof Ri||t instanceof gn||t instanceof ob)}function hb(t,e,n){if(!ub(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=up(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function oF(t,e,n){if((e=It(e))instanceof fp)return e._internalPath;if(typeof e=="string")return fb(t,e);throw dl("Field path arguments must be of type string or ",t,!1,void 0,n)}const aF=new RegExp("[~\\*/\\[\\]]");function fb(t,e,n){if(e.search(aF)>=0)throw dl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fp(...e.split("."))._internalPath}catch{throw dl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dl(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new le(K.INVALID_ARGUMENT,a+t+c)}function cF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lF extends db{data(){return super.data()}}function pb(t,e){return typeof e=="string"?fb(t,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hF{convertValue(e,n="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zi(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new dp(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ia(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Be.fromString(e);Ue(MT(s));const r=new oa(s.get(1),s.get(3)),i=new ue(s.popFirst(5));return r.isEqual(n)||ts(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dF extends db{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Pc extends dF{data(e={}){return super.data(e)}}class pF{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Tc(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Pc(this._firestore,this._userDataWriter,s.key,s,new Tc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new Pc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Tc(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Pc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Tc(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:gF(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class mF extends hF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function yF(t){t=fl(t,yu);const e=fl(t.firestore,hp),n=rb(e),s=new mF(e);return uF(t._query),Y$(n,t._query).then(r=>new pF(e,s,t,r))}function _F(t,e){const n=fl(t.firestore,hp),s=J$(t),r=fF(t.converter,e);return vF(n,[iF(rF(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then(()=>s)}function vF(t,e){return function(n,s){const r=new ks;return n.asyncQueue.enqueueAndForget(async()=>P$(await z$(n),s,r)),r.promise}(rb(t),e)}(function(t,e=!0){(function(n){Wi=n})(Ui),xn(new yn("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new hp(new px(n.getProvider("auth-internal")),new _x(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new le(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(a.options.projectId,c)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),rn(oy,"3.13.0",t),rn(oy,"3.13.0","esm2017")})();const EF=En({components:{},props:[],setup(){return{}},methods:{async getPosts(){try{(await yF(sb(d0,"posts"))).forEach(e=>{this.posts.push(e.data())})}catch(t){console.error("Error getting document: ",t)}}},async mounted(){await this.getPosts()},data(){return{posts:[]}}}),Vr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},wF=["src"],TF={class:"card-body"},bF={class:"card-title"},IF={class:"card-text"},AF=te("a",{href:"#",class:"btn btn-primary"},"Read More",-1);function CF(t,e,n,s,r,i){return ze(!0),lt(Xe,null,X_(t.posts,(o,a)=>(ze(),lt("div",{key:a,class:"card",style:{width:"18rem",margin:"10px"}},[te("img",{src:o.thumbnail,class:"card-img-top"},null,8,wF),te("div",TF,[te("h5",bF,lr(o.title),1),te("p",IF,lr(o.message),1),AF])]))),128)}const SF=Vr(EF,[["render",CF]]),OF=En({name:"HomeView",components:{FeedComponent:SF},setup(){return{user:Ed()}},methods:{},async mounted(){},data(){return{}}});function NF(t,e,n,s,r,i){const o=Pl("FeedComponent");return ze(),lt("div",null,[t.user.isSignedIn?(ze(),Ll(o,{key:0})):bs("",!0)])}const kF=Vr(OF,[["render",NF]]),RF=En({name:"AboutView",components:{},methods:{},data(){return{}}}),DF={class:"about"},PF=te("h1",null,"This is an about page",-1),LF=[PF];function xF(t,e,n,s,r,i){return ze(),lt("div",DF,LF)}const MF=Vr(RF,[["render",xF]]),$F=En({name:"LoginView",components:{},setup(){return{}},methods:{async login(){const t=fi();await j1(t,this.email,this.password).catch(e=>{this.$toast.error(e.message)}),t.currentUser&&(window.location.href="/")},async signUp(){const t=fi();await B1(t,this.email,this.password).catch(e=>{this.$toast.error(e.message)}),await K1(t.currentUser,{displayName:this.username}),t.currentUser&&(window.location.href="/")},switchState(){this.state=!this.state}},mounted(){fi().onAuthStateChanged(e=>{e&&(console.log(e),window.location.href="/")})},data(){return{email:"",password:"",username:"",state:!0,appName:"Bloggify"}}});const Qt=t=>(P_("data-v-4132d90d"),t=t(),L_(),t),FF={class:"page-holder align-items-center py-4 bg-gray-100 vh-100"},VF={class:"container"},UF={class:"row align-items-center"},BF={key:0,class:"col-lg-6 px-lg-4"},jF={class:"card"},HF=Qt(()=>te("div",{class:"card-header px-lg-5"},[te("div",{class:"card-heading text-primary"},"Login")],-1)),KF={class:"card-body p-lg-5"},qF={class:"mb-4"},WF=Qt(()=>te("p",{class:"text-muted text-sm mb-5"},"The best trading simulator game on the web!",-1)),zF={id:"loginForm"},GF={class:"form-floating mb-3"},YF=Qt(()=>te("label",{for:"floatingInput"},"Email address",-1)),QF={class:"form-floating mb-3"},XF=Qt(()=>te("label",{for:"floatingPassword"},"Password",-1)),JF={class:"card-footer px-lg-5 py-lg-4"},ZF={class:"text-sm text-muted"},eV={key:1,class:"col-lg-6 px-lg-4"},tV={class:"card"},nV=Qt(()=>te("div",{class:"card-header px-lg-5"},[te("div",{class:"card-heading text-primary"},"Register")],-1)),sV={class:"card-body p-lg-5"},rV={class:"mb-4"},iV=Qt(()=>te("p",{class:"text-muted text-sm mb-5"},"The best blogging website on the web!",-1)),oV={class:"form-floating mb-3"},aV=Qt(()=>te("label",{for:"username"},"Username",-1)),cV={class:"form-floating mb-3"},lV=Qt(()=>te("label",{for:"floatingInput"},"Email address",-1)),uV={class:"form-floating mb-3"},hV=Qt(()=>te("label",{for:"floatingPassword"},"Password",-1)),fV=Qt(()=>te("div",{class:"form-check mb-3",hidden:""},[te("input",{class:"form-check-input",type:"checkbox",name:"agree",id:"agree"}),te("label",{class:"form-check-label",for:"agree"},[Cn("I agree with the "),te("a",{href:"#"},"Terms & Conditions"),Cn(".")])],-1)),dV={class:"form-group"},pV={class:"card-footer px-lg-5 py-lg-4"},gV={class:"text-sm text-muted"},mV={class:"col-lg-6 col-xl-5 ms-xl-auto px-lg-4 text-center text-primary"},yV=Qt(()=>te("img",{class:"img-fluid mb-4",width:"300",src:"https://therichpost.com/wp-content/uploads/2021/06/login_page_image.png",alt:"",style:{transform:"rotate(10deg)"}},null,-1)),_V={class:"mb-4"},vV=Qt(()=>te("br",{class:"d-none d-lg-inline"},null,-1)),EV=Qt(()=>te("p",{class:"lead text-muted"},"The best blogging website on the web!",-1));function wV(t,e,n,s,r,i){return ze(),lt("div",FF,[te("div",VF,[te("div",UF,[t.state?(ze(),lt("div",BF,[te("div",jF,[HF,te("div",KF,[te("h3",qF,"Hi, welcome to "+lr(t.appName)+"!",1),WF,te("form",zF,[te("div",GF,[An(te("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.email=o),class:"form-control",id:"floatingInput",type:"email",placeholder:"name@example.com",required:""},null,512),[[Ht,t.email]]),YF]),te("div",QF,[An(te("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.password=o),class:"form-control",id:"floatingPassword",type:"password",placeholder:"Password",required:""},null,512),[[Ht,t.password]]),XF]),te("button",{class:"btn btn-primary",type:"button",onClick:e[2]||(e[2]=(...o)=>t.login&&t.login(...o))},"Submit")])]),te("div",JF,[te("div",ZF,[Cn("Don't have an account? "),te("a",{onClick:e[3]||(e[3]=o=>t.switchState())},"Register"),Cn(". ")])])])])):bs("",!0),t.state?bs("",!0):(ze(),lt("div",eV,[te("div",tV,[nV,te("div",sV,[te("h3",rV,"Get started with "+lr(t.appName),1),iV,te("form",null,[te("div",oV,[An(te("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.username=o),class:"form-control",id:"username",type:"email",placeholder:"name@example.com",required:""},null,512),[[Ht,t.username]]),aV]),te("div",cV,[An(te("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>t.email=o),class:"form-control",id:"floatingInput",type:"email",placeholder:"name@example.com",required:""},null,512),[[Ht,t.email]]),lV]),te("div",uV,[An(te("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>t.password=o),class:"form-control",id:"floatingPassword",type:"password",placeholder:"Password",required:""},null,512),[[Ht,t.password]]),hV]),fV,te("div",dV,[te("button",{class:"btn btn-primary",id:"regidter",type:"button",name:"registerSubmit",onClick:e[7]||(e[7]=(...o)=>t.signUp&&t.signUp(...o))},"Register")])])]),te("div",pV,[te("div",gV,[Cn("Already have an account? "),te("a",{onClick:e[8]||(e[8]=o=>t.switchState())},"Login"),Cn(". ")])])])])),te("div",mV,[yV,te("h1",_V,[Cn(lr(t.appName)+" ",1),vV]),EV])])])])}const TV=Vr($F,[["render",wV],["__scopeId","data-v-4132d90d"]]),bV=En({components:{},props:[],methods:{async postPost(){const e=fi().currentUser;try{const n=await _F(sb(d0,"posts"),{author_id:e.uid,collection:this.collection,likes:0,message:this.message,tags:["test","test2"],thumbnail:"",timestamp:new Date,title:this.title,views:0})}catch{}}},data(){return{title:"",message:"",tags:"",collection:""}}}),IV=te("h1",null,"Create New Post",-1);function AV(t,e,n,s,r,i){return ze(),lt("div",null,[IV,An(te("input",{type:"text",placeholder:"Title","onUpdate:modelValue":e[0]||(e[0]=o=>t.title=o)},null,512),[[Ht,t.title]]),An(te("input",{type:"text",placeholder:"Message","onUpdate:modelValue":e[1]||(e[1]=o=>t.message=o)},null,512),[[Ht,t.message]]),An(te("input",{type:"text",placeholder:"Tags","onUpdate:modelValue":e[2]||(e[2]=o=>t.tags=o)},null,512),[[Ht,t.tags]]),An(te("input",{type:"text",placeholder:"Collection","onUpdate:modelValue":e[3]||(e[3]=o=>t.collection=o)},null,512),[[Ht,t.collection]]),te("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=o=>t.postPost())},"Post")])}const CV=Vr(bV,[["render",AV]]),SV=En({name:"HomeView",components:{PostCreatorComponent:CV},setup(){return{user:Ed()}},methods:{},async mounted(){},data(){return{}}}),OV=te("div",null,null,-1);function NV(t,e,n,s,r,i){const o=Pl("PostCreatorComponent");return ze(),lt(Xe,null,[OV,xe(o)],64)}const kV=Vr(SV,[["render",NV]]),Lc=ER({history:$k("/"),routes:[{path:"/",name:"home",component:kF},{path:"/about",name:"about",component:MF},{path:"/login",name:"login",component:TV},{path:"/profile",name:"profile",component:kV}]}),RV={name:"App",components:{RouterView:oE},setup(){return{user:Ed()}},methods:{async signOut(){const t=fi();await z1(t),Lc.push("/"),this.user.setIsSignedIn(!1),this.user.setDisplayName("")},changePage(t){Lc.push(t)}},mounted(){},watch:{$route(t){this.currentUrl=t.path,fi().onAuthStateChanged(n=>{n?(this.user.setIsSignedIn(!0),this.user.setDisplayName(n.displayName)):(this.user.setIsSignedIn(!1),this.user.setDisplayName(""),this.currentUrl!=="/login"&&this.currentUrl!=="/"&&Lc.push("/login"))})}},data(){return{currentUrl:""}}},DV={key:0},PV={class:"wrapper"},LV={class:"navbar navbar-expand-lg bg-primary d-flex justify-content-between p-2"},xV={class:"text-white"},MV={key:0},$V={key:1};function FV(t,e,n,s,r,i){const o=Pl("RouterView");return ze(),lt(Xe,null,[r.currentUrl!="/login"?(ze(),lt("header",DV,[te("div",PV,[te("nav",LV,[te("div",xV,[s.user.displayName?(ze(),lt("h2",MV,"Welcome, "+lr(s.user.displayName),1)):(ze(),lt("h2",$V,"Bloggify"))]),te("div",null,[te("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=a=>i.changePage("/"))},"Home"),te("button",{type:"button",class:"btn btn-secondary",onClick:e[1]||(e[1]=a=>i.changePage("/about"))},"About"),s.user.isSignedIn?(ze(),lt("button",{key:0,type:"button",class:"btn btn-secondary",onClick:e[2]||(e[2]=a=>i.changePage("/profile"))},"Profile")):bs("",!0),s.user.isSignedIn?bs("",!0):(ze(),lt("button",{key:1,type:"button",class:"btn btn-secondary",onClick:e[3]||(e[3]=a=>i.changePage("/login"))},"Login")),s.user.isSignedIn?(ze(),lt("button",{key:2,type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=a=>i.signOut())},"Sign Out")):bs("",!0)])])])])):bs("",!0),xe(o)],64)}const VV=Vr(RV,[["render",FV]]);var UV="firebase",BV="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn(UV,BV,"app");const jV=(t,e)=>e.some(n=>t instanceof n);let Uy,By;function HV(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KV(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gb=new WeakMap,bf=new WeakMap,mb=new WeakMap,gh=new WeakMap,gp=new WeakMap;function qV(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ds(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gb.set(n,t)}).catch(()=>{}),gp.set(e,t),e}function WV(t){if(bf.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bf.set(t,e)}let If={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zV(t){If=t(If)}function GV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(mh(this),e,...n);return mb.set(s,e.sort?e.sort():[e]),Ds(s)}:KV().includes(t)?function(...e){return t.apply(mh(this),e),Ds(gb.get(this))}:function(...e){return Ds(t.apply(mh(this),e))}}function YV(t){return typeof t=="function"?GV(t):(t instanceof IDBTransaction&&WV(t),jV(t,HV())?new Proxy(t,If):t)}function Ds(t){if(t instanceof IDBRequest)return qV(t);if(gh.has(t))return gh.get(t);const e=YV(t);return e!==t&&(gh.set(t,e),gp.set(e,t)),e}const mh=t=>gp.get(t);function QV(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Ds(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Ds(o.result),c.oldVersion,c.newVersion,Ds(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const XV=["get","getKey","getAll","getAllKeys","count"],JV=["put","add","delete","clear"],yh=new Map;function jy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yh.get(e))return yh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=JV.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||XV.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&c.done]))[0]};return yh.set(e,i),i}zV(t=>({...t,get:(e,n,s)=>jy(e,n)||t.get(e,n,s),has:(e,n)=>!!jy(e,n)||t.has(e,n)}));const yb="@firebase/installations",mp="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=1e4,vb=`w:${mp}`,Eb="FIS_v2",ZV="https://firebaseinstallations.googleapis.com/v1",e2=60*60*1e3,t2="installations",n2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Cr=new Pr(t2,n2,s2);function wb(t){return t instanceof wn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb({projectId:t}){return`${ZV}/projects/${t}/installations`}function bb(t){return{token:t.token,requestStatus:2,expiresIn:i2(t.expiresIn),creationTime:Date.now()}}async function Ib(t,e){const s=(await e.json()).error;return Cr.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Ab({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function r2(t,{refreshToken:e}){const n=Ab(t);return n.append("Authorization",o2(e)),n}async function Cb(t){const e=await t();return e.status>=500&&e.status<600?t():e}function i2(t){return Number(t.replace("s","000"))}function o2(t){return`${Eb} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Tb(t),r=Ab(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={fid:n,authVersion:Eb,appId:t.appId,sdkVersion:vb},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await Cb(()=>fetch(s,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:bb(u.authToken)}}else throw await Ib("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=/^[cdef][\w-]{21}$/,Af="";function u2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=h2(t);return l2.test(n)?n:Af}catch{return Af}}function h2(t){return c2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;function Nb(t,e){const n=_u(t);kb(n,e),f2(n,e)}function kb(t,e){const n=Ob.get(t);if(n)for(const s of n)s(e)}function f2(t,e){const n=d2();n&&n.postMessage({key:t,fid:e}),p2()}let cr=null;function d2(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=t=>{kb(t.data.key,t.data.fid)}),cr}function p2(){Ob.size===0&&cr&&(cr.close(),cr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="firebase-installations-database",m2=1,Sr="firebase-installations-store";let _h=null;function yp(){return _h||(_h=QV(g2,m2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sr)}}})),_h}async function pl(t,e){const n=_u(t),r=(await yp()).transaction(Sr,"readwrite"),i=r.objectStore(Sr),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&Nb(t,e.fid),e}async function Rb(t){const e=_u(t),s=(await yp()).transaction(Sr,"readwrite");await s.objectStore(Sr).delete(e),await s.done}async function vu(t,e){const n=_u(t),r=(await yp()).transaction(Sr,"readwrite"),i=r.objectStore(Sr),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&Nb(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _p(t){let e;const n=await vu(t.appConfig,s=>{const r=y2(s),i=_2(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===Af?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function y2(t){const e=t||{fid:u2(),registrationStatus:0};return Db(e)}function _2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Cr.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=v2(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:E2(t)}:{installationEntry:e}}async function v2(t,e){try{const n=await a2(t,e);return pl(t.appConfig,n)}catch(n){throw wb(n)&&n.customData.serverCode===409?await Rb(t.appConfig):await pl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function E2(t){let e=await Hy(t.appConfig);for(;e.registrationStatus===1;)await Sb(100),e=await Hy(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await _p(t);return s||n}return e}function Hy(t){return vu(t,e=>{if(!e)throw Cr.create("installation-not-found");return Db(e)})}function Db(t){return w2(t)?{fid:t.fid,registrationStatus:0}:t}function w2(t){return t.registrationStatus===1&&t.registrationTime+_b<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2({appConfig:t,heartbeatServiceProvider:e},n){const s=b2(t,n),r=r2(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const o={installation:{sdkVersion:vb,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await Cb(()=>fetch(s,a));if(c.ok){const u=await c.json();return bb(u)}else throw await Ib("Generate Auth Token",c)}function b2(t,{fid:e}){return`${Tb(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t,e=!1){let n;const s=await vu(t.appConfig,i=>{if(!Pb(i))throw Cr.create("not-registered");const o=i.authToken;if(!e&&C2(o))return i;if(o.requestStatus===1)return n=I2(t,e),i;{if(!navigator.onLine)throw Cr.create("app-offline");const a=O2(i);return n=A2(t,a),a}});return n?await n:s.authToken}async function I2(t,e){let n=await Ky(t.appConfig);for(;n.authToken.requestStatus===1;)await Sb(100),n=await Ky(t.appConfig);const s=n.authToken;return s.requestStatus===0?vp(t,e):s}function Ky(t){return vu(t,e=>{if(!Pb(e))throw Cr.create("not-registered");const n=e.authToken;return N2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function A2(t,e){try{const n=await T2(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await pl(t.appConfig,s),n}catch(n){if(wb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Rb(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await pl(t.appConfig,s)}throw n}}function Pb(t){return t!==void 0&&t.registrationStatus===2}function C2(t){return t.requestStatus===2&&!S2(t)}function S2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+e2}function O2(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function N2(t){return t.requestStatus===1&&t.requestTime+_b<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t){const e=t,{installationEntry:n,registrationPromise:s}=await _p(e);return s?s.catch(console.error):vp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e=!1){const n=t;return await D2(n),(await vp(n,e)).token}async function D2(t){const{registrationPromise:e}=await _p(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){if(!t||!t.options)throw vh("App Configuration");if(!t.name)throw vh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vh(t){return Cr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="installations",L2="installations-internal",x2=t=>{const e=t.getProvider("app").getImmediate(),n=P2(e),s=Lr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},M2=t=>{const e=t.getProvider("app").getImmediate(),n=Lr(e,Lb).getImmediate();return{getId:()=>k2(n),getToken:r=>R2(n,r)}};function $2(){xn(new yn(Lb,x2,"PUBLIC")),xn(new yn(L2,M2,"PRIVATE"))}$2();rn(yb,mp);rn(yb,mp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="analytics",F2="firebase_id",V2="origin",U2=60*1e3,B2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ep="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t=new Bl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qt=new Pr("analytics","Analytics",j2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){if(!t.startsWith(Ep)){const e=qt.create("invalid-gtag-resource",{gtagURL:t});return $t.warn(e.message),""}return t}function xb(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function K2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function q2(t,e){const n=K2("firebase-js-sdk-policy",{createScriptURL:H2}),s=document.createElement("script"),r=`${Ep}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function W2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function z2(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const c=(await xb(n)).find(u=>u.measurementId===r);c&&await e[c.appId]}}catch(a){$t.error(a)}t("config",r,i)}async function G2(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await xb(n);for(const c of o){const u=a.find(f=>f.measurementId===c),h=u&&e[u.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){$t.error(i)}}function Y2(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,c]=o;await G2(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await z2(t,e,n,s,a,c)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,c,u]=o;t("get",a,c,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){$t.error(a)}}return r}function Q2(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=Y2(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function X2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ep)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=30,Z2=1e3;class eU{constructor(e={},n=Z2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Mb=new eU;function tU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function nU(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:tU(s)},i=B2.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function sU(t,e=Mb,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw qt.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw qt.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new oU;return setTimeout(async()=>{a.abort()},n!==void 0?n:U2),$b({appId:s,apiKey:r,measurementId:i},o,a,e)}async function $b(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=Mb){var i;const{appId:o,measurementId:a}=t;try{await rU(s,e)}catch(c){if(a)return $t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await nU(t);return r.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!iU(u)){if(r.deleteThrottleMetadata(o),a)return $t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw c}const h=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?wm(n,r.intervalMillis,J2):wm(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return r.setThrottleMetadata(o,f),$t.debug(`Calling attemptFetch again in ${h} millis`),$b(t,f,s,r)}}function rU(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function iU(t){if(!(t instanceof wn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class oU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function aU(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(){if(pE())try{await gE()}catch(t){return $t.warn(qt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return $t.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lU(t,e,n,s,r,i,o){var a;const c=sU(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&$t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>$t.error(g)),e.push(c);const u=cU().then(g=>{if(g)return s.getId()}),[h,f]=await Promise.all([c,u]);X2(i)||q2(i,h.measurementId),r("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[V2]="firebase",p.update=!0,f!=null&&(p[F2]=f),r("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.app=e}_delete(){return delete Po[this.app.options.appId],Promise.resolve()}}let Po={},qy=[];const Wy={};let Eh="dataLayer",hU="gtag",zy,Fb,Gy=!1;function fU(){const t=[];if(dE()&&t.push("This is a browser extension environment."),xR()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=qt.create("invalid-analytics-context",{errorInfo:e});$t.warn(n.message)}}function dU(t,e,n){fU();const s=t.options.appId;if(!s)throw qt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qt.create("no-api-key");if(Po[s]!=null)throw qt.create("already-exists",{id:s});if(!Gy){W2(Eh);const{wrappedGtag:i,gtagCore:o}=Q2(Po,qy,Wy,Eh,hU);Fb=i,zy=o,Gy=!0}return Po[s]=lU(t,qy,Wy,e,zy,Eh,n),new uU(t)}function pU(t=ud()){t=It(t);const e=Lr(t,gl);return e.isInitialized()?e.getImmediate():gU(t)}function gU(t,e={}){const n=Lr(t,gl);if(n.isInitialized()){const r=n.getImmediate();if(Wo(e,n.getOptions()))return r;throw qt.create("already-initialized")}return n.initialize({options:e})}function mU(t,e,n,s){t=It(t),aU(Fb,Po[t.app.options.appId],e,n,s).catch(r=>$t.error(r))}const Yy="@firebase/analytics",Qy="0.10.0";function yU(){xn(new yn(gl,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return dU(s,r,n)},"PUBLIC")),xn(new yn("analytics-internal",t,"PRIVATE")),rn(Yy,Qy),rn(Yy,Qy,"esm2017");function t(e){try{const n=e.getProvider(gl).getImmediate();return{logEvent:(s,r,i)=>mU(n,s,r,i)}}catch(n){throw qt.create("interop-component-reg-failed",{reason:n})}}}yU();var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _U(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ub(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){if(this instanceof s){var r=[null];r.push.apply(r,arguments);var i=Function.bind.apply(e,r);return new i}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var Bb={exports:{}};const vU=Ub(hk);(function(t,e){(function(s,r){t.exports=r(vU)})(Vb,n=>(()=>{var s={661:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.default=(u,h)=>{const f=u.__vccOpts||u;for(const[p,g]of h)f[p]=g;return f}},976:a=>{a.exports=n}},r={};function i(a){var c=r[a];if(c!==void 0)return c.exports;var u=r[a]={exports:{}};return s[a](u,u.exports,i),u.exports}i.d=(a,c)=>{for(var u in c)i.o(c,u)&&!i.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:c[u]})},i.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{ToastComponent:()=>k,ToastPlugin:()=>U,ToastPositions:()=>w,default:()=>O,useToast:()=>V});var a=i(976);const c=(0,a.createElementVNode)("div",{class:"v-toast__icon"},null,-1),u=["innerHTML"];function h(A,N,x,B,X,J){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{"enter-active-class":A.transition.enter,"leave-active-class":A.transition.leave},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{ref:"root",role:"alert",class:(0,a.normalizeClass)(["v-toast__item",[`v-toast__item--${A.type}`,`v-toast__item--${A.position}`]]),onMouseover:N[0]||(N[0]=we=>A.toggleTimer(!0)),onMouseleave:N[1]||(N[1]=we=>A.toggleTimer(!1)),onClick:N[2]||(N[2]=function(){return A.whenClicked&&A.whenClicked(...arguments)})},[c,(0,a.createElementVNode)("p",{class:"v-toast__text",innerHTML:A.message},null,8,u)],34),[[a.vShow,A.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function f(A){var N;typeof A.remove<"u"?A.remove():(N=A.parentNode)==null||N.removeChild(A)}function p(A,N,x){let B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const X=(0,a.h)(A,N,B),J=document.createElement("div");return J.classList.add("v-toast--pending"),x.appendChild(J),(0,a.render)(X,J),X.component}class g{constructor(N,x){this.startedAt=Date.now(),this.callback=N,this.delay=x,this.timer=setTimeout(N,x)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const w=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function I(A){return{all:A=A||new Map,on:function(N,x){var B=A.get(N);B?B.push(x):A.set(N,[x])},off:function(N,x){var B=A.get(N);B&&(x?B.splice(B.indexOf(x)>>>0,1):A.set(N,[]))},emit:function(N,x){var B=A.get(N);B&&B.slice().map(function(X){X(x)}),(B=A.get("*"))&&B.slice().map(function(X){X(N,x)})}}}const b=I(),_=(0,a.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:w.BOTTOM_RIGHT,validator(A){return Object.values(w).includes(A)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),b.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const A=document.body;A.appendChild(this.parentTop),A.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const A=this.$refs.root;(0,a.render)(null,A),f(A)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const A=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),f(A),this.isActive=!0,this.duration&&(this.timer=new g(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(A){!this.pauseOnHover||!this.timer||(A?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case w.TOP:case w.TOP_RIGHT:case w.TOP_LEFT:return this.parentTop;case w.BOTTOM:case w.BOTTOM_RIGHT:case w.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case w.TOP:case w.TOP_RIGHT:case w.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case w.BOTTOM:case w.BOTTOM_RIGHT:case w.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){b.off("toast-clear",this.dismiss)}});var R=i(661);const k=(0,R.default)(_,[["render",h]]),V=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(N){let x=null;typeof N=="string"&&(x=N);const X=Object.assign({},{message:x},A,N);return{dismiss:p(k,X,document.body).ctx.dismiss}},clear(){b.emit("toast-clear")},success(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"success"},x))},error(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"error"},x))},info(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"info"},x))},warning(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"warning"},x))},default(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:N,type:"default"},x))}}},U={install:function(A){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=V(N);A.config.globalProperties.$toast=x,A.provide("$toast",x)}},O=U})(),o})())})(Bb);var EU=Bb.exports;const wU=_U(EU);var TU={exports:{}},kt="top",zt="bottom",Gt="right",Rt="left",Eu="auto",Qi=[kt,zt,Gt,Rt],Or="start",Di="end",jb="clippingParents",wp="viewport",ni="popper",Hb="reference",Cf=Qi.reduce(function(t,e){return t.concat([e+"-"+Or,e+"-"+Di])},[]),Tp=[].concat(Qi,[Eu]).reduce(function(t,e){return t.concat([e,e+"-"+Or,e+"-"+Di])},[]),Kb="beforeRead",qb="read",Wb="afterRead",zb="beforeMain",Gb="main",Yb="afterMain",Qb="beforeWrite",Xb="write",Jb="afterWrite",Zb=[Kb,qb,Wb,zb,Gb,Yb,Qb,Xb,Jb];function Fn(t){return t?(t.nodeName||"").toLowerCase():null}function Yt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Nr(t){var e=Yt(t).Element;return t instanceof e||t instanceof Element}function on(t){var e=Yt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function bp(t){if(typeof ShadowRoot>"u")return!1;var e=Yt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function bU(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},i=e.elements[n];!on(i)||!Fn(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(o){var a=r[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function IU(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],i=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=o.reduce(function(c,u){return c[u]="",c},{});!on(r)||!Fn(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(c){r.removeAttribute(c)}))})}}const Ip={name:"applyStyles",enabled:!0,phase:"write",fn:bU,effect:IU,requires:["computeStyles"]};function Pn(t){return t.split("-")[0]}var gr=Math.max,ml=Math.min,Pi=Math.round;function Sf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function e0(){return!/^((?!chrome|android).)*safari/i.test(Sf())}function Li(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),r=1,i=1;e&&on(t)&&(r=t.offsetWidth>0&&Pi(s.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Pi(s.height)/t.offsetHeight||1);var o=Nr(t)?Yt(t):window,a=o.visualViewport,c=!e0()&&n,u=(s.left+(c&&a?a.offsetLeft:0))/r,h=(s.top+(c&&a?a.offsetTop:0))/i,f=s.width/r,p=s.height/i;return{width:f,height:p,top:h,right:u+f,bottom:h+p,left:u,x:u,y:h}}function Ap(t){var e=Li(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function t0(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&bp(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function rs(t){return Yt(t).getComputedStyle(t)}function AU(t){return["table","td","th"].indexOf(Fn(t))>=0}function Hs(t){return((Nr(t)?t.ownerDocument:t.document)||window.document).documentElement}function wu(t){return Fn(t)==="html"?t:t.assignedSlot||t.parentNode||(bp(t)?t.host:null)||Hs(t)}function Xy(t){return!on(t)||rs(t).position==="fixed"?null:t.offsetParent}function CU(t){var e=/firefox/i.test(Sf()),n=/Trident/i.test(Sf());if(n&&on(t)){var s=rs(t);if(s.position==="fixed")return null}var r=wu(t);for(bp(r)&&(r=r.host);on(r)&&["html","body"].indexOf(Fn(r))<0;){var i=rs(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Ua(t){for(var e=Yt(t),n=Xy(t);n&&AU(n)&&rs(n).position==="static";)n=Xy(n);return n&&(Fn(n)==="html"||Fn(n)==="body"&&rs(n).position==="static")?e:n||CU(t)||e}function Cp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Lo(t,e,n){return gr(t,ml(e,n))}function SU(t,e,n){var s=Lo(t,e,n);return s>n?n:s}function n0(){return{top:0,right:0,bottom:0,left:0}}function s0(t){return Object.assign({},n0(),t)}function r0(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var OU=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,s0(typeof e!="number"?e:r0(e,Qi))};function NU(t){var e,n=t.state,s=t.name,r=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Pn(n.placement),c=Cp(a),u=[Rt,Gt].indexOf(a)>=0,h=u?"height":"width";if(!(!i||!o)){var f=OU(r.padding,n),p=Ap(i),g=c==="y"?kt:Rt,w=c==="y"?zt:Gt,I=n.rects.reference[h]+n.rects.reference[c]-o[c]-n.rects.popper[h],S=o[c]-n.rects.reference[c],b=Ua(i),_=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,R=I/2-S/2,T=f[g],k=_-p[h]-f[w],V=_/2-p[h]/2+R,U=Lo(T,V,k),O=c;n.modifiersData[s]=(e={},e[O]=U,e.centerOffset=U-V,e)}}function kU(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||t0(e.elements.popper,r)&&(e.elements.arrow=r))}const i0={name:"arrow",enabled:!0,phase:"main",fn:NU,effect:kU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xi(t){return t.split("-")[1]}var RU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function DU(t,e){var n=t.x,s=t.y,r=e.devicePixelRatio||1;return{x:Pi(n*r)/r||0,y:Pi(s*r)/r||0}}function Jy(t){var e,n=t.popper,s=t.popperRect,r=t.placement,i=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,u=t.adaptive,h=t.roundOffsets,f=t.isFixed,p=o.x,g=p===void 0?0:p,w=o.y,I=w===void 0?0:w,S=typeof h=="function"?h({x:g,y:I}):{x:g,y:I};g=S.x,I=S.y;var b=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),R=Rt,T=kt,k=window;if(u){var V=Ua(n),U="clientHeight",O="clientWidth";if(V===Yt(n)&&(V=Hs(n),rs(V).position!=="static"&&a==="absolute"&&(U="scrollHeight",O="scrollWidth")),V=V,r===kt||(r===Rt||r===Gt)&&i===Di){T=zt;var A=f&&V===k&&k.visualViewport?k.visualViewport.height:V[U];I-=A-s.height,I*=c?1:-1}if(r===Rt||(r===kt||r===zt)&&i===Di){R=Gt;var N=f&&V===k&&k.visualViewport?k.visualViewport.width:V[O];g-=N-s.width,g*=c?1:-1}}var x=Object.assign({position:a},u&&RU),B=h===!0?DU({x:g,y:I},Yt(n)):{x:g,y:I};if(g=B.x,I=B.y,c){var X;return Object.assign({},x,(X={},X[T]=_?"0":"",X[R]=b?"0":"",X.transform=(k.devicePixelRatio||1)<=1?"translate("+g+"px, "+I+"px)":"translate3d("+g+"px, "+I+"px, 0)",X))}return Object.assign({},x,(e={},e[T]=_?I+"px":"",e[R]=b?g+"px":"",e.transform="",e))}function PU(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:Pn(e.placement),variation:xi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Jy(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Jy(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Sp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:PU,data:{}};var bc={passive:!0};function LU(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,i=r===void 0?!0:r,o=s.resize,a=o===void 0?!0:o,c=Yt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(h){h.addEventListener("scroll",n.update,bc)}),a&&c.addEventListener("resize",n.update,bc),function(){i&&u.forEach(function(h){h.removeEventListener("scroll",n.update,bc)}),a&&c.removeEventListener("resize",n.update,bc)}}const Op={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LU,data:{}};var xU={left:"right",right:"left",bottom:"top",top:"bottom"};function xc(t){return t.replace(/left|right|bottom|top/g,function(e){return xU[e]})}var MU={start:"end",end:"start"};function Zy(t){return t.replace(/start|end/g,function(e){return MU[e]})}function Np(t){var e=Yt(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function kp(t){return Li(Hs(t)).left+Np(t).scrollLeft}function $U(t,e){var n=Yt(t),s=Hs(t),r=n.visualViewport,i=s.clientWidth,o=s.clientHeight,a=0,c=0;if(r){i=r.width,o=r.height;var u=e0();(u||!u&&e==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:a+kp(t),y:c}}function FU(t){var e,n=Hs(t),s=Np(t),r=(e=t.ownerDocument)==null?void 0:e.body,i=gr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=gr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+kp(t),c=-s.scrollTop;return rs(r||n).direction==="rtl"&&(a+=gr(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}function Rp(t){var e=rs(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function o0(t){return["html","body","#document"].indexOf(Fn(t))>=0?t.ownerDocument.body:on(t)&&Rp(t)?t:o0(wu(t))}function xo(t,e){var n;e===void 0&&(e=[]);var s=o0(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=Yt(s),o=r?[i].concat(i.visualViewport||[],Rp(s)?s:[]):s,a=e.concat(o);return r?a:a.concat(xo(wu(o)))}function Of(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function VU(t,e){var n=Li(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function e_(t,e,n){return e===wp?Of($U(t,n)):Nr(e)?VU(e,n):Of(FU(Hs(t)))}function UU(t){var e=xo(wu(t)),n=["absolute","fixed"].indexOf(rs(t).position)>=0,s=n&&on(t)?Ua(t):t;return Nr(s)?e.filter(function(r){return Nr(r)&&t0(r,s)&&Fn(r)!=="body"}):[]}function BU(t,e,n,s){var r=e==="clippingParents"?UU(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(c,u){var h=e_(t,u,s);return c.top=gr(h.top,c.top),c.right=ml(h.right,c.right),c.bottom=ml(h.bottom,c.bottom),c.left=gr(h.left,c.left),c},e_(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function a0(t){var e=t.reference,n=t.element,s=t.placement,r=s?Pn(s):null,i=s?xi(s):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(r){case kt:c={x:o,y:e.y-n.height};break;case zt:c={x:o,y:e.y+e.height};break;case Gt:c={x:e.x+e.width,y:a};break;case Rt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var u=r?Cp(r):null;if(u!=null){var h=u==="y"?"height":"width";switch(i){case Or:c[u]=c[u]-(e[h]/2-n[h]/2);break;case Di:c[u]=c[u]+(e[h]/2-n[h]/2);break}}return c}function Mi(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,c=a===void 0?jb:a,u=n.rootBoundary,h=u===void 0?wp:u,f=n.elementContext,p=f===void 0?ni:f,g=n.altBoundary,w=g===void 0?!1:g,I=n.padding,S=I===void 0?0:I,b=s0(typeof S!="number"?S:r0(S,Qi)),_=p===ni?Hb:ni,R=t.rects.popper,T=t.elements[w?_:p],k=BU(Nr(T)?T:T.contextElement||Hs(t.elements.popper),c,h,o),V=Li(t.elements.reference),U=a0({reference:V,element:R,strategy:"absolute",placement:r}),O=Of(Object.assign({},R,U)),A=p===ni?O:V,N={top:k.top-A.top+b.top,bottom:A.bottom-k.bottom+b.bottom,left:k.left-A.left+b.left,right:A.right-k.right+b.right},x=t.modifiersData.offset;if(p===ni&&x){var B=x[r];Object.keys(N).forEach(function(X){var J=[Gt,zt].indexOf(X)>=0?1:-1,we=[kt,zt].indexOf(X)>=0?"y":"x";N[X]+=B[we]*J})}return N}function jU(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?Tp:c,h=xi(s),f=h?a?Cf:Cf.filter(function(w){return xi(w)===h}):Qi,p=f.filter(function(w){return u.indexOf(w)>=0});p.length===0&&(p=f);var g=p.reduce(function(w,I){return w[I]=Mi(t,{placement:I,boundary:r,rootBoundary:i,padding:o})[Pn(I)],w},{});return Object.keys(g).sort(function(w,I){return g[w]-g[I]})}function HU(t){if(Pn(t)===Eu)return[];var e=xc(t);return[Zy(t),e,Zy(e)]}function KU(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,h=n.boundary,f=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,w=g===void 0?!0:g,I=n.allowedAutoPlacements,S=e.options.placement,b=Pn(S),_=b===S,R=c||(_||!w?[xc(S)]:HU(S)),T=[S].concat(R).reduce(function(St,ft){return St.concat(Pn(ft)===Eu?jU(e,{placement:ft,boundary:h,rootBoundary:f,padding:u,flipVariations:w,allowedAutoPlacements:I}):ft)},[]),k=e.rects.reference,V=e.rects.popper,U=new Map,O=!0,A=T[0],N=0;N<T.length;N++){var x=T[N],B=Pn(x),X=xi(x)===Or,J=[kt,zt].indexOf(B)>=0,we=J?"width":"height",re=Mi(e,{placement:x,boundary:h,rootBoundary:f,altBoundary:p,padding:u}),fe=J?X?Gt:Rt:X?zt:kt;k[we]>V[we]&&(fe=xc(fe));var Te=xc(fe),Ge=[];if(i&&Ge.push(re[B]<=0),a&&Ge.push(re[fe]<=0,re[Te]<=0),Ge.every(function(St){return St})){A=x,O=!1;break}U.set(x,Ge)}if(O)for(var Ct=w?3:1,ot=function(ft){var Fe=T.find(function(M){var Z=U.get(M);if(Z)return Z.slice(0,ft).every(function(Y){return Y})});if(Fe)return A=Fe,"break"},He=Ct;He>0;He--){var Vt=ot(He);if(Vt==="break")break}e.placement!==A&&(e.modifiersData[s]._skip=!0,e.placement=A,e.reset=!0)}}const c0={name:"flip",enabled:!0,phase:"main",fn:KU,requiresIfExists:["offset"],data:{_skip:!1}};function t_(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function n_(t){return[kt,Gt,zt,Rt].some(function(e){return t[e]>=0})}function qU(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,o=Mi(e,{elementContext:"reference"}),a=Mi(e,{altBoundary:!0}),c=t_(o,s),u=t_(a,r,i),h=n_(c),f=n_(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const l0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qU};function WU(t,e,n){var s=Pn(t),r=[Rt,kt].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*r,[Rt,Gt].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function zU(t){var e=t.state,n=t.options,s=t.name,r=n.offset,i=r===void 0?[0,0]:r,o=Tp.reduce(function(h,f){return h[f]=WU(f,e.rects,i),h},{}),a=o[e.placement],c=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[s]=o}const u0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zU};function GU(t){var e=t.state,n=t.name;e.modifiersData[n]=a0({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Dp={name:"popperOffsets",enabled:!0,phase:"read",fn:GU,data:{}};function YU(t){return t==="x"?"y":"x"}function QU(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,f=n.padding,p=n.tether,g=p===void 0?!0:p,w=n.tetherOffset,I=w===void 0?0:w,S=Mi(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:h}),b=Pn(e.placement),_=xi(e.placement),R=!_,T=Cp(b),k=YU(T),V=e.modifiersData.popperOffsets,U=e.rects.reference,O=e.rects.popper,A=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,N=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(V){if(i){var X,J=T==="y"?kt:Rt,we=T==="y"?zt:Gt,re=T==="y"?"height":"width",fe=V[T],Te=fe+S[J],Ge=fe-S[we],Ct=g?-O[re]/2:0,ot=_===Or?U[re]:O[re],He=_===Or?-O[re]:-U[re],Vt=e.elements.arrow,St=g&&Vt?Ap(Vt):{width:0,height:0},ft=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:n0(),Fe=ft[J],M=ft[we],Z=Lo(0,U[re],St[re]),Y=R?U[re]/2-Ct-Z-Fe-N.mainAxis:ot-Z-Fe-N.mainAxis,ie=R?-U[re]/2+Ct+Z+M+N.mainAxis:He+Z+M+N.mainAxis,P=e.elements.arrow&&Ua(e.elements.arrow),m=P?T==="y"?P.clientTop||0:P.clientLeft||0:0,E=(X=x==null?void 0:x[T])!=null?X:0,C=fe+Y-E-m,L=fe+ie-E,F=Lo(g?ml(Te,C):Te,fe,g?gr(Ge,L):Ge);V[T]=F,B[T]=F-fe}if(a){var H,G=T==="x"?kt:Rt,W=T==="x"?zt:Gt,D=V[k],j=k==="y"?"height":"width",ce=D+S[G],se=D-S[W],oe=[kt,Rt].indexOf(b)!==-1,he=(H=x==null?void 0:x[k])!=null?H:0,ve=oe?ce:D-U[j]-O[j]-he+N.altAxis,Ne=oe?D+U[j]+O[j]-he-N.altAxis:se,Ce=g&&oe?SU(ve,D,Ne):Lo(g?ve:ce,D,g?Ne:se);V[k]=Ce,B[k]=Ce-D}e.modifiersData[s]=B}}const h0={name:"preventOverflow",enabled:!0,phase:"main",fn:QU,requiresIfExists:["offset"]};function XU(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function JU(t){return t===Yt(t)||!on(t)?Np(t):XU(t)}function ZU(t){var e=t.getBoundingClientRect(),n=Pi(e.width)/t.offsetWidth||1,s=Pi(e.height)/t.offsetHeight||1;return n!==1||s!==1}function eB(t,e,n){n===void 0&&(n=!1);var s=on(e),r=on(e)&&ZU(e),i=Hs(e),o=Li(t,r,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((Fn(e)!=="body"||Rp(i))&&(a=JU(e)),on(e)?(c=Li(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=kp(i))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function tB(t){var e=new Map,n=new Set,s=[];t.forEach(function(i){e.set(i.name,i)});function r(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&r(c)}}),s.push(i)}return t.forEach(function(i){n.has(i.name)||r(i)}),s}function nB(t){var e=tB(t);return Zb.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function sB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function rB(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var s_={placement:"bottom",modifiers:[],strategy:"absolute"};function r_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Tu(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,i=r===void 0?s_:r;return function(a,c,u){u===void 0&&(u=i);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},s_,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],p=!1,g={state:h,setOptions:function(b){var _=typeof b=="function"?b(h.options):b;I(),h.options=Object.assign({},i,h.options,_),h.scrollParents={reference:Nr(a)?xo(a):a.contextElement?xo(a.contextElement):[],popper:xo(c)};var R=nB(rB([].concat(s,h.options.modifiers)));return h.orderedModifiers=R.filter(function(T){return T.enabled}),w(),g.update()},forceUpdate:function(){if(!p){var b=h.elements,_=b.reference,R=b.popper;if(r_(_,R)){h.rects={reference:eB(_,Ua(R),h.options.strategy==="fixed"),popper:Ap(R)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(N){return h.modifiersData[N.name]=Object.assign({},N.data)});for(var T=0;T<h.orderedModifiers.length;T++){if(h.reset===!0){h.reset=!1,T=-1;continue}var k=h.orderedModifiers[T],V=k.fn,U=k.options,O=U===void 0?{}:U,A=k.name;typeof V=="function"&&(h=V({state:h,options:O,name:A,instance:g})||h)}}}},update:sB(function(){return new Promise(function(S){g.forceUpdate(),S(h)})}),destroy:function(){I(),p=!0}};if(!r_(a,c))return g;g.setOptions(u).then(function(S){!p&&u.onFirstUpdate&&u.onFirstUpdate(S)});function w(){h.orderedModifiers.forEach(function(S){var b=S.name,_=S.options,R=_===void 0?{}:_,T=S.effect;if(typeof T=="function"){var k=T({state:h,name:b,instance:g,options:R}),V=function(){};f.push(k||V)}})}function I(){f.forEach(function(S){return S()}),f=[]}return g}}var iB=Tu(),oB=[Op,Dp,Sp,Ip],aB=Tu({defaultModifiers:oB}),cB=[Op,Dp,Sp,Ip,u0,c0,h0,i0,l0],lB=Tu({defaultModifiers:cB});const uB=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Yb,afterRead:Wb,afterWrite:Jb,applyStyles:Ip,arrow:i0,auto:Eu,basePlacements:Qi,beforeMain:zb,beforeRead:Kb,beforeWrite:Qb,bottom:zt,clippingParents:jb,computeStyles:Sp,createPopper:lB,createPopperBase:iB,createPopperLite:aB,detectOverflow:Mi,end:Di,eventListeners:Op,flip:c0,hide:l0,left:Rt,main:Gb,modifierPhases:Zb,offset:u0,placements:Tp,popper:ni,popperGenerator:Tu,popperOffsets:Dp,preventOverflow:h0,read:qb,reference:Hb,right:Gt,start:Or,top:kt,variationPlacements:Cf,viewport:wp,write:Xb},Symbol.toStringTag,{value:"Module"})),hB=Ub(uB);/*!
  * Bootstrap v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,s){t.exports=s(hB)})(Vb,function(n){function s(y){const l=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(y){for(const d in y)if(d!=="default"){const v=Object.getOwnPropertyDescriptor(y,d);Object.defineProperty(l,d,v.get?v:{enumerable:!0,get:()=>y[d]})}}return l.default=y,Object.freeze(l)}const r=s(n),i=new Map,o={set(y,l,d){i.has(y)||i.set(y,new Map);const v=i.get(y);if(!v.has(l)&&v.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`);return}v.set(l,d)},get(y,l){return i.has(y)&&i.get(y).get(l)||null},remove(y,l){if(!i.has(y))return;const d=i.get(y);d.delete(l),d.size===0&&i.delete(y)}},a=1e6,c=1e3,u="transitionend",h=y=>(y&&window.CSS&&window.CSS.escape&&(y=y.replace(/#([^\s"#']+)/g,(l,d)=>`#${CSS.escape(d)}`)),y),f=y=>y==null?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase(),p=y=>{do y+=Math.floor(Math.random()*a);while(document.getElementById(y));return y},g=y=>{if(!y)return 0;let{transitionDuration:l,transitionDelay:d}=window.getComputedStyle(y);const v=Number.parseFloat(l),$=Number.parseFloat(d);return!v&&!$?0:(l=l.split(",")[0],d=d.split(",")[0],(Number.parseFloat(l)+Number.parseFloat(d))*c)},w=y=>{y.dispatchEvent(new Event(u))},I=y=>!y||typeof y!="object"?!1:(typeof y.jquery<"u"&&(y=y[0]),typeof y.nodeType<"u"),S=y=>I(y)?y.jquery?y[0]:y:typeof y=="string"&&y.length>0?document.querySelector(h(y)):null,b=y=>{if(!I(y)||y.getClientRects().length===0)return!1;const l=getComputedStyle(y).getPropertyValue("visibility")==="visible",d=y.closest("details:not([open])");if(!d)return l;if(d!==y){const v=y.closest("summary");if(v&&v.parentNode!==d||v===null)return!1}return l},_=y=>!y||y.nodeType!==Node.ELEMENT_NODE||y.classList.contains("disabled")?!0:typeof y.disabled<"u"?y.disabled:y.hasAttribute("disabled")&&y.getAttribute("disabled")!=="false",R=y=>{if(!document.documentElement.attachShadow)return null;if(typeof y.getRootNode=="function"){const l=y.getRootNode();return l instanceof ShadowRoot?l:null}return y instanceof ShadowRoot?y:y.parentNode?R(y.parentNode):null},T=()=>{},k=y=>{y.offsetHeight},V=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,U=[],O=y=>{document.readyState==="loading"?(U.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of U)l()}),U.push(y)):y()},A=()=>document.documentElement.dir==="rtl",N=y=>{O(()=>{const l=V();if(l){const d=y.NAME,v=l.fn[d];l.fn[d]=y.jQueryInterface,l.fn[d].Constructor=y,l.fn[d].noConflict=()=>(l.fn[d]=v,y.jQueryInterface)}})},x=(y,l=[],d=y)=>typeof y=="function"?y(...l):d,B=(y,l,d=!0)=>{if(!d){x(y);return}const v=5,$=g(l)+v;let Q=!1;const z=({target:Ee})=>{Ee===l&&(Q=!0,l.removeEventListener(u,z),x(y))};l.addEventListener(u,z),setTimeout(()=>{Q||w(l)},$)},X=(y,l,d,v)=>{const $=y.length;let Q=y.indexOf(l);return Q===-1?!d&&v?y[$-1]:y[0]:(Q+=d?1:-1,v&&(Q=(Q+$)%$),y[Math.max(0,Math.min(Q,$-1))])},J=/[^.]*(?=\..*)\.|.*/,we=/\..*/,re=/::\d+$/,fe={};let Te=1;const Ge={mouseenter:"mouseover",mouseleave:"mouseout"},Ct=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ot(y,l){return l&&`${l}::${Te++}`||y.uidEvent||Te++}function He(y){const l=ot(y);return y.uidEvent=l,fe[l]=fe[l]||{},fe[l]}function Vt(y,l){return function d(v){return m(v,{delegateTarget:y}),d.oneOff&&P.off(y,v.type,l),l.apply(y,[v])}}function St(y,l,d){return function v($){const Q=y.querySelectorAll(l);for(let{target:z}=$;z&&z!==this;z=z.parentNode)for(const Ee of Q)if(Ee===z)return m($,{delegateTarget:z}),v.oneOff&&P.off(y,$.type,l,d),d.apply(z,[$])}}function ft(y,l,d=null){return Object.values(y).find(v=>v.callable===l&&v.delegationSelector===d)}function Fe(y,l,d){const v=typeof l=="string",$=v?d:l||d;let Q=ie(y);return Ct.has(Q)||(Q=y),[v,$,Q]}function M(y,l,d,v,$){if(typeof l!="string"||!y)return;let[Q,z,Ee]=Fe(l,d,v);l in Ge&&(z=(qC=>function(Gr){if(!Gr.relatedTarget||Gr.relatedTarget!==Gr.delegateTarget&&!Gr.delegateTarget.contains(Gr.relatedTarget))return qC.call(this,Gr)})(z));const Dt=He(y),Zt=Dt[Ee]||(Dt[Ee]={}),tt=ft(Zt,z,Q?d:null);if(tt){tt.oneOff=tt.oneOff&&$;return}const Tn=ot(z,l.replace(J,"")),cn=Q?St(y,d,z):Vt(y,z);cn.delegationSelector=Q?d:null,cn.callable=z,cn.oneOff=$,cn.uidEvent=Tn,Zt[Tn]=cn,y.addEventListener(Ee,cn,Q)}function Z(y,l,d,v,$){const Q=ft(l[d],v,$);Q&&(y.removeEventListener(d,Q,!!$),delete l[d][Q.uidEvent])}function Y(y,l,d,v){const $=l[d]||{};for(const[Q,z]of Object.entries($))Q.includes(v)&&Z(y,l,d,z.callable,z.delegationSelector)}function ie(y){return y=y.replace(we,""),Ge[y]||y}const P={on(y,l,d,v){M(y,l,d,v,!1)},one(y,l,d,v){M(y,l,d,v,!0)},off(y,l,d,v){if(typeof l!="string"||!y)return;const[$,Q,z]=Fe(l,d,v),Ee=z!==l,Dt=He(y),Zt=Dt[z]||{},tt=l.startsWith(".");if(typeof Q<"u"){if(!Object.keys(Zt).length)return;Z(y,Dt,z,Q,$?d:null);return}if(tt)for(const Tn of Object.keys(Dt))Y(y,Dt,Tn,l.slice(1));for(const[Tn,cn]of Object.entries(Zt)){const ec=Tn.replace(re,"");(!Ee||l.includes(ec))&&Z(y,Dt,z,cn.callable,cn.delegationSelector)}},trigger(y,l,d){if(typeof l!="string"||!y)return null;const v=V(),$=ie(l),Q=l!==$;let z=null,Ee=!0,Dt=!0,Zt=!1;Q&&v&&(z=v.Event(l,d),v(y).trigger(z),Ee=!z.isPropagationStopped(),Dt=!z.isImmediatePropagationStopped(),Zt=z.isDefaultPrevented());const tt=m(new Event(l,{bubbles:Ee,cancelable:!0}),d);return Zt&&tt.preventDefault(),Dt&&y.dispatchEvent(tt),tt.defaultPrevented&&z&&z.preventDefault(),tt}};function m(y,l={}){for(const[d,v]of Object.entries(l))try{y[d]=v}catch{Object.defineProperty(y,d,{configurable:!0,get(){return v}})}return y}function E(y){if(y==="true")return!0;if(y==="false")return!1;if(y===Number(y).toString())return Number(y);if(y===""||y==="null")return null;if(typeof y!="string")return y;try{return JSON.parse(decodeURIComponent(y))}catch{return y}}function C(y){return y.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const L={setDataAttribute(y,l,d){y.setAttribute(`data-bs-${C(l)}`,d)},removeDataAttribute(y,l){y.removeAttribute(`data-bs-${C(l)}`)},getDataAttributes(y){if(!y)return{};const l={},d=Object.keys(y.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of d){let $=v.replace(/^bs/,"");$=$.charAt(0).toLowerCase()+$.slice(1,$.length),l[$]=E(y.dataset[v])}return l},getDataAttribute(y,l){return E(y.getAttribute(`data-bs-${C(l)}`))}};class F{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,d){const v=I(d)?L.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...I(d)?L.getDataAttributes(d):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,d=this.constructor.DefaultType){for(const[v,$]of Object.entries(d)){const Q=l[v],z=I(Q)?"element":f(Q);if(!new RegExp($).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${z}" but expected type "${$}".`)}}}const H="5.3.0";class G extends F{constructor(l,d){super(),l=S(l),l&&(this._element=l,this._config=this._getConfig(d),o.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,d,v=!0){B(l,d,v)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return o.get(S(l),this.DATA_KEY)}static getOrCreateInstance(l,d={}){return this.getInstance(l)||new this(l,typeof d=="object"?d:null)}static get VERSION(){return H}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const W=y=>{let l=y.getAttribute("data-bs-target");if(!l||l==="#"){let d=y.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),l=d&&d!=="#"?d.trim():null}return h(l)},D={find(y,l=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(l,y))},findOne(y,l=document.documentElement){return Element.prototype.querySelector.call(l,y)},children(y,l){return[].concat(...y.children).filter(d=>d.matches(l))},parents(y,l){const d=[];let v=y.parentNode.closest(l);for(;v;)d.push(v),v=v.parentNode.closest(l);return d},prev(y,l){let d=y.previousElementSibling;for(;d;){if(d.matches(l))return[d];d=d.previousElementSibling}return[]},next(y,l){let d=y.nextElementSibling;for(;d;){if(d.matches(l))return[d];d=d.nextElementSibling}return[]},focusableChildren(y){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(l,y).filter(d=>!_(d)&&b(d))},getSelectorFromElement(y){const l=W(y);return l&&D.findOne(l)?l:null},getElementFromSelector(y){const l=W(y);return l?D.findOne(l):null},getMultipleElementsFromSelector(y){const l=W(y);return l?D.find(l):[]}},j=(y,l="hide")=>{const d=`click.dismiss${y.EVENT_KEY}`,v=y.NAME;P.on(document,d,`[data-bs-dismiss="${v}"]`,function($){if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),_(this))return;const Q=D.getElementFromSelector(this)||this.closest(`.${v}`);y.getOrCreateInstance(Q)[l]()})},ce="alert",oe=".bs.alert",he=`close${oe}`,ve=`closed${oe}`,Ne="fade",Ce="show";class Me extends G{static get NAME(){return ce}close(){if(P.trigger(this._element,he).defaultPrevented)return;this._element.classList.remove(Ce);const d=this._element.classList.contains(Ne);this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),P.trigger(this._element,ve),this.dispose()}static jQueryInterface(l){return this.each(function(){const d=Me.getOrCreateInstance(this);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l](this)}})}}j(Me,"close"),N(Me);const Ut="button",Ba=".bs.button",qs=".data-api",ja="active",dt='[data-bs-toggle="button"]',Xt=`click${Ba}${qs}`;class as extends G{static get NAME(){return Ut}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ja))}static jQueryInterface(l){return this.each(function(){const d=as.getOrCreateInstance(this);l==="toggle"&&d[l]()})}}P.on(document,Xt,dt,y=>{y.preventDefault();const l=y.target.closest(dt);as.getOrCreateInstance(l).toggle()}),N(as);const p0="swipe",Ur=".bs.swipe",g0=`touchstart${Ur}`,m0=`touchmove${Ur}`,y0=`touchend${Ur}`,_0=`pointerdown${Ur}`,v0=`pointerup${Ur}`,E0="touch",w0="pen",T0="pointer-event",b0=40,I0={endCallback:null,leftCallback:null,rightCallback:null},A0={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ha extends F{constructor(l,d){super(),this._element=l,!(!l||!Ha.isSupported())&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return I0}static get DefaultType(){return A0}static get NAME(){return p0}dispose(){P.off(this._element,Ur)}_start(l){if(!this._supportPointerEvents){this._deltaX=l.touches[0].clientX;return}this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX)}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),x(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=b0)return;const d=l/this._deltaX;this._deltaX=0,d&&x(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,_0,l=>this._start(l)),P.on(this._element,v0,l=>this._end(l)),this._element.classList.add(T0)):(P.on(this._element,g0,l=>this._start(l)),P.on(this._element,m0,l=>this._move(l)),P.on(this._element,y0,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType===w0||l.pointerType===E0)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const C0="carousel",cs=".bs.carousel",Pp=".data-api",S0="ArrowLeft",O0="ArrowRight",N0=500,Xi="next",Br="prev",jr="left",Ka="right",k0=`slide${cs}`,Iu=`slid${cs}`,R0=`keydown${cs}`,D0=`mouseenter${cs}`,P0=`mouseleave${cs}`,L0=`dragstart${cs}`,x0=`load${cs}${Pp}`,M0=`click${cs}${Pp}`,Lp="carousel",qa="active",$0="slide",F0="carousel-item-end",V0="carousel-item-start",U0="carousel-item-next",B0="carousel-item-prev",xp=".active",Mp=".carousel-item",j0=xp+Mp,H0=".carousel-item img",K0=".carousel-indicators",q0="[data-bs-slide], [data-bs-slide-to]",W0='[data-bs-ride="carousel"]',z0={[S0]:Ka,[O0]:jr},G0={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Y0={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Hr extends G{constructor(l,d){super(l,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=D.findOne(K0,this._element),this._addEventListeners(),this._config.ride===Lp&&this.cycle()}static get Default(){return G0}static get DefaultType(){return Y0}static get NAME(){return C0}next(){this._slide(Xi)}nextWhenVisible(){!document.hidden&&b(this._element)&&this.next()}prev(){this._slide(Br)}pause(){this._isSliding&&w(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){P.one(this._element,Iu,()=>this.cycle());return}this.cycle()}}to(l){const d=this._getItems();if(l>d.length-1||l<0)return;if(this._isSliding){P.one(this._element,Iu,()=>this.to(l));return}const v=this._getItemIndex(this._getActive());if(v===l)return;const $=l>v?Xi:Br;this._slide($,d[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&P.on(this._element,R0,l=>this._keydown(l)),this._config.pause==="hover"&&(P.on(this._element,D0,()=>this.pause()),P.on(this._element,P0,()=>this._maybeEnableCycle())),this._config.touch&&Ha.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of D.find(H0,this._element))P.on(v,L0,$=>$.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(jr)),rightCallback:()=>this._slide(this._directionToOrder(Ka)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),N0+this._config.interval))}};this._swipeHelper=new Ha(this._element,d)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const d=z0[l.key];d&&(l.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const d=D.findOne(xp,this._indicatorsElement);d.classList.remove(qa),d.removeAttribute("aria-current");const v=D.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);v&&(v.classList.add(qa),v.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const d=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(l,d=null){if(this._isSliding)return;const v=this._getActive(),$=l===Xi,Q=d||X(this._getItems(),v,$,this._config.wrap);if(Q===v)return;const z=this._getItemIndex(Q),Ee=ec=>P.trigger(this._element,ec,{relatedTarget:Q,direction:this._orderToDirection(l),from:this._getItemIndex(v),to:z});if(Ee(k0).defaultPrevented||!v||!Q)return;const Zt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=Q;const tt=$?V0:F0,Tn=$?U0:B0;Q.classList.add(Tn),k(Q),v.classList.add(tt),Q.classList.add(tt);const cn=()=>{Q.classList.remove(tt,Tn),Q.classList.add(qa),v.classList.remove(qa,Tn,tt),this._isSliding=!1,Ee(Iu)};this._queueCallback(cn,v,this._isAnimated()),Zt&&this.cycle()}_isAnimated(){return this._element.classList.contains($0)}_getActive(){return D.findOne(j0,this._element)}_getItems(){return D.find(Mp,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return A()?l===jr?Br:Xi:l===jr?Xi:Br}_orderToDirection(l){return A()?l===Br?jr:Ka:l===Br?Ka:jr}static jQueryInterface(l){return this.each(function(){const d=Hr.getOrCreateInstance(this,l);if(typeof l=="number"){d.to(l);return}if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l]()}})}}P.on(document,M0,q0,function(y){const l=D.getElementFromSelector(this);if(!l||!l.classList.contains(Lp))return;y.preventDefault();const d=Hr.getOrCreateInstance(l),v=this.getAttribute("data-bs-slide-to");if(v){d.to(v),d._maybeEnableCycle();return}if(L.getDataAttribute(this,"slide")==="next"){d.next(),d._maybeEnableCycle();return}d.prev(),d._maybeEnableCycle()}),P.on(window,x0,()=>{const y=D.find(W0);for(const l of y)Hr.getOrCreateInstance(l)}),N(Hr);const Q0="collapse",Ji=".bs.collapse",X0=".data-api",J0=`show${Ji}`,Z0=`shown${Ji}`,eI=`hide${Ji}`,tI=`hidden${Ji}`,nI=`click${Ji}${X0}`,Au="show",Kr="collapse",Wa="collapsing",sI="collapsed",rI=`:scope .${Kr} .${Kr}`,iI="collapse-horizontal",oI="width",aI="height",cI=".collapse.show, .collapse.collapsing",Cu='[data-bs-toggle="collapse"]',lI={parent:null,toggle:!0},uI={parent:"(null|element)",toggle:"boolean"};class qr extends G{constructor(l,d){super(l,d),this._isTransitioning=!1,this._triggerArray=[];const v=D.find(Cu);for(const $ of v){const Q=D.getSelectorFromElement($),z=D.find(Q).filter(Ee=>Ee===this._element);Q!==null&&z.length&&this._triggerArray.push($)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return lI}static get DefaultType(){return uI}static get NAME(){return Q0}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(cI).filter(Ee=>Ee!==this._element).map(Ee=>qr.getOrCreateInstance(Ee,{toggle:!1}))),l.length&&l[0]._isTransitioning||P.trigger(this._element,J0).defaultPrevented)return;for(const Ee of l)Ee.hide();const v=this._getDimension();this._element.classList.remove(Kr),this._element.classList.add(Wa),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const $=()=>{this._isTransitioning=!1,this._element.classList.remove(Wa),this._element.classList.add(Kr,Au),this._element.style[v]="",P.trigger(this._element,Z0)},z=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback($,this._element,!0),this._element.style[v]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||P.trigger(this._element,eI).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,k(this._element),this._element.classList.add(Wa),this._element.classList.remove(Kr,Au);for(const $ of this._triggerArray){const Q=D.getElementFromSelector($);Q&&!this._isShown(Q)&&this._addAriaAndCollapsedClass([$],!1)}this._isTransitioning=!0;const v=()=>{this._isTransitioning=!1,this._element.classList.remove(Wa),this._element.classList.add(Kr),P.trigger(this._element,tI)};this._element.style[d]="",this._queueCallback(v,this._element,!0)}_isShown(l=this._element){return l.classList.contains(Au)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=S(l.parent),l}_getDimension(){return this._element.classList.contains(iI)?oI:aI}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Cu);for(const d of l){const v=D.getElementFromSelector(d);v&&this._addAriaAndCollapsedClass([d],this._isShown(v))}}_getFirstLevelChildren(l){const d=D.find(rI,this._config.parent);return D.find(l,this._config.parent).filter(v=>!d.includes(v))}_addAriaAndCollapsedClass(l,d){if(l.length)for(const v of l)v.classList.toggle(sI,!d),v.setAttribute("aria-expanded",d)}static jQueryInterface(l){const d={};return typeof l=="string"&&/show|hide/.test(l)&&(d.toggle=!1),this.each(function(){const v=qr.getOrCreateInstance(this,d);if(typeof l=="string"){if(typeof v[l]>"u")throw new TypeError(`No method named "${l}"`);v[l]()}})}}P.on(document,nI,Cu,function(y){(y.target.tagName==="A"||y.delegateTarget&&y.delegateTarget.tagName==="A")&&y.preventDefault();for(const l of D.getMultipleElementsFromSelector(this))qr.getOrCreateInstance(l,{toggle:!1}).toggle()}),N(qr);const $p="dropdown",Ws=".bs.dropdown",Su=".data-api",hI="Escape",Fp="Tab",fI="ArrowUp",Vp="ArrowDown",dI=2,pI=`hide${Ws}`,gI=`hidden${Ws}`,mI=`show${Ws}`,yI=`shown${Ws}`,Up=`click${Ws}${Su}`,Bp=`keydown${Ws}${Su}`,_I=`keyup${Ws}${Su}`,Wr="show",vI="dropup",EI="dropend",wI="dropstart",TI="dropup-center",bI="dropdown-center",zs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',II=`${zs}.${Wr}`,za=".dropdown-menu",AI=".navbar",CI=".navbar-nav",SI=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",OI=A()?"top-end":"top-start",NI=A()?"top-start":"top-end",kI=A()?"bottom-end":"bottom-start",RI=A()?"bottom-start":"bottom-end",DI=A()?"left-start":"right-start",PI=A()?"right-start":"left-start",LI="top",xI="bottom",MI={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},$I={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class an extends G{constructor(l,d){super(l,d),this._popper=null,this._parent=this._element.parentNode,this._menu=D.next(this._element,za)[0]||D.prev(this._element,za)[0]||D.findOne(za,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return MI}static get DefaultType(){return $I}static get NAME(){return $p}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!P.trigger(this._element,mI,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(CI))for(const v of[].concat(...document.body.children))P.on(v,"mouseover",T);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wr),this._element.classList.add(Wr),P.trigger(this._element,yI,l)}}hide(){if(_(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!P.trigger(this._element,pI,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))P.off(v,"mouseover",T);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wr),this._element.classList.remove(Wr),this._element.setAttribute("aria-expanded","false"),L.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,gI,l)}}_getConfig(l){if(l=super._getConfig(l),typeof l.reference=="object"&&!I(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${$p.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof r>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;this._config.reference==="parent"?l=this._parent:I(this._config.reference)?l=S(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const d=this._getPopperConfig();this._popper=r.createPopper(l,this._menu,d)}_isShown(){return this._menu.classList.contains(Wr)}_getPlacement(){const l=this._parent;if(l.classList.contains(EI))return DI;if(l.classList.contains(wI))return PI;if(l.classList.contains(TI))return LI;if(l.classList.contains(bI))return xI;const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains(vI)?d?NI:OI:d?RI:kI}_detectNavbar(){return this._element.closest(AI)!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(d=>Number.parseInt(d,10)):typeof l=="function"?d=>l(d,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(L.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...x(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:d}){const v=D.find(SI,this._menu).filter($=>b($));v.length&&X(v,d,l===Vp,!v.includes(d)).focus()}static jQueryInterface(l){return this.each(function(){const d=an.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof d[l]>"u")throw new TypeError(`No method named "${l}"`);d[l]()}})}static clearMenus(l){if(l.button===dI||l.type==="keyup"&&l.key!==Fp)return;const d=D.find(II);for(const v of d){const $=an.getInstance(v);if(!$||$._config.autoClose===!1)continue;const Q=l.composedPath(),z=Q.includes($._menu);if(Q.includes($._element)||$._config.autoClose==="inside"&&!z||$._config.autoClose==="outside"&&z||$._menu.contains(l.target)&&(l.type==="keyup"&&l.key===Fp||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const Ee={relatedTarget:$._element};l.type==="click"&&(Ee.clickEvent=l),$._completeHide(Ee)}}static dataApiKeydownHandler(l){const d=/input|textarea/i.test(l.target.tagName),v=l.key===hI,$=[fI,Vp].includes(l.key);if(!$&&!v||d&&!v)return;l.preventDefault();const Q=this.matches(zs)?this:D.prev(this,zs)[0]||D.next(this,zs)[0]||D.findOne(zs,l.delegateTarget.parentNode),z=an.getOrCreateInstance(Q);if($){l.stopPropagation(),z.show(),z._selectMenuItem(l);return}z._isShown()&&(l.stopPropagation(),z.hide(),Q.focus())}}P.on(document,Bp,zs,an.dataApiKeydownHandler),P.on(document,Bp,za,an.dataApiKeydownHandler),P.on(document,Up,an.clearMenus),P.on(document,_I,an.clearMenus),P.on(document,Up,zs,function(y){y.preventDefault(),an.getOrCreateInstance(this).toggle()}),N(an);const jp="backdrop",FI="fade",Hp="show",Kp=`mousedown.bs.${jp}`,VI={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},UI={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qp extends F{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return VI}static get DefaultType(){return UI}static get NAME(){return jp}show(l){if(!this._config.isVisible){x(l);return}this._append();const d=this._getElement();this._config.isAnimated&&k(d),d.classList.add(Hp),this._emulateAnimation(()=>{x(l)})}hide(l){if(!this._config.isVisible){x(l);return}this._getElement().classList.remove(Hp),this._emulateAnimation(()=>{this.dispose(),x(l)})}dispose(){this._isAppended&&(P.off(this._element,Kp),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add(FI),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=S(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),P.on(l,Kp,()=>{x(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){B(l,this._getElement(),this._config.isAnimated)}}const BI="focustrap",Ga=".bs.focustrap",jI=`focusin${Ga}`,HI=`keydown.tab${Ga}`,KI="Tab",qI="forward",Wp="backward",WI={autofocus:!0,trapElement:null},zI={autofocus:"boolean",trapElement:"element"};class zp extends F{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return WI}static get DefaultType(){return zI}static get NAME(){return BI}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,Ga),P.on(document,jI,l=>this._handleFocusin(l)),P.on(document,HI,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,Ga))}_handleFocusin(l){const{trapElement:d}=this._config;if(l.target===document||l.target===d||d.contains(l.target))return;const v=D.focusableChildren(d);v.length===0?d.focus():this._lastTabNavDirection===Wp?v[v.length-1].focus():v[0].focus()}_handleKeydown(l){l.key===KI&&(this._lastTabNavDirection=l.shiftKey?Wp:qI)}}const Gp=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yp=".sticky-top",Ya="padding-right",Qp="margin-right";class Ou{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ya,d=>d+l),this._setElementAttributes(Gp,Ya,d=>d+l),this._setElementAttributes(Yp,Qp,d=>d-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ya),this._resetElementAttributes(Gp,Ya),this._resetElementAttributes(Yp,Qp)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,d,v){const $=this.getWidth(),Q=z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+$)return;this._saveInitialAttribute(z,d);const Ee=window.getComputedStyle(z).getPropertyValue(d);z.style.setProperty(d,`${v(Number.parseFloat(Ee))}px`)};this._applyManipulationCallback(l,Q)}_saveInitialAttribute(l,d){const v=l.style.getPropertyValue(d);v&&L.setDataAttribute(l,d,v)}_resetElementAttributes(l,d){const v=$=>{const Q=L.getDataAttribute($,d);if(Q===null){$.style.removeProperty(d);return}L.removeDataAttribute($,d),$.style.setProperty(d,Q)};this._applyManipulationCallback(l,v)}_applyManipulationCallback(l,d){if(I(l)){d(l);return}for(const v of D.find(l,this._element))d(v)}}const GI="modal",Jt=".bs.modal",YI=".data-api",QI="Escape",XI=`hide${Jt}`,JI=`hidePrevented${Jt}`,Xp=`hidden${Jt}`,Jp=`show${Jt}`,ZI=`shown${Jt}`,eA=`resize${Jt}`,tA=`click.dismiss${Jt}`,nA=`mousedown.dismiss${Jt}`,sA=`keydown.dismiss${Jt}`,rA=`click${Jt}${YI}`,Zp="modal-open",iA="fade",eg="show",Nu="modal-static",oA=".modal.show",aA=".modal-dialog",cA=".modal-body",lA='[data-bs-toggle="modal"]',uA={backdrop:!0,focus:!0,keyboard:!0},hA={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Gs extends G{constructor(l,d){super(l,d),this._dialog=D.findOne(aA,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ou,this._addEventListeners()}static get Default(){return uA}static get DefaultType(){return hA}static get NAME(){return GI}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||P.trigger(this._element,Jp,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Zp),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||P.trigger(this._element,XI).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(eg),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){P.off(window,Jt),P.off(this._dialog,Jt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qp({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new zp({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=D.findOne(cA,this._dialog);d&&(d.scrollTop=0),k(this._element),this._element.classList.add(eg);const v=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,ZI,{relatedTarget:l})};this._queueCallback(v,this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,sA,l=>{if(l.key===QI){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),P.on(window,eA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,nA,l=>{P.one(this._element,tA,d=>{if(!(this._element!==l.target||this._element!==d.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Zp),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,Xp)})}_isAnimated(){return this._element.classList.contains(iA)}_triggerBackdropTransition(){if(P.trigger(this._element,JI).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(Nu)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Nu),this._queueCallback(()=>{this._element.classList.remove(Nu),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),v=d>0;if(v&&!l){const $=A()?"paddingLeft":"paddingRight";this._element.style[$]=`${d}px`}if(!v&&l){const $=A()?"paddingRight":"paddingLeft";this._element.style[$]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,d){return this.each(function(){const v=Gs.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof v[l]>"u")throw new TypeError(`No method named "${l}"`);v[l](d)}})}}P.on(document,rA,lA,function(y){const l=D.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&y.preventDefault(),P.one(l,Jp,$=>{$.defaultPrevented||P.one(l,Xp,()=>{b(this)&&this.focus()})});const d=D.findOne(oA);d&&Gs.getInstance(d).hide(),Gs.getOrCreateInstance(l).toggle(this)}),j(Gs),N(Gs);const fA="offcanvas",Vn=".bs.offcanvas",tg=".data-api",dA=`load${Vn}${tg}`,pA="Escape",ng="show",sg="showing",rg="hiding",gA="offcanvas-backdrop",ig=".offcanvas.show",mA=`show${Vn}`,yA=`shown${Vn}`,_A=`hide${Vn}`,og=`hidePrevented${Vn}`,ag=`hidden${Vn}`,vA=`resize${Vn}`,EA=`click${Vn}${tg}`,wA=`keydown.dismiss${Vn}`,TA='[data-bs-toggle="offcanvas"]',bA={backdrop:!0,keyboard:!0,scroll:!1},IA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Un extends G{constructor(l,d){super(l,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return bA}static get DefaultType(){return IA}static get NAME(){return fA}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){if(this._isShown||P.trigger(this._element,mA,{relatedTarget:l}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ou().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(sg);const v=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ng),this._element.classList.remove(sg),P.trigger(this._element,yA,{relatedTarget:l})};this._queueCallback(v,this._element,!0)}hide(){if(!this._isShown||P.trigger(this._element,_A).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(rg),this._backdrop.hide();const d=()=>{this._element.classList.remove(ng,rg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ou().reset(),P.trigger(this._element,ag)};this._queueCallback(d,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=()=>{if(this._config.backdrop==="static"){P.trigger(this._element,og);return}this.hide()},d=!!this._config.backdrop;return new qp({className:gA,isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?l:null})}_initializeFocusTrap(){return new zp({trapElement:this._element})}_addEventListeners(){P.on(this._element,wA,l=>{if(l.key===pA){if(this._config.keyboard){this.hide();return}P.trigger(this._element,og)}})}static jQueryInterface(l){return this.each(function(){const d=Un.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l](this)}})}}P.on(document,EA,TA,function(y){const l=D.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),_(this))return;P.one(l,ag,()=>{b(this)&&this.focus()});const d=D.findOne(ig);d&&d!==l&&Un.getInstance(d).hide(),Un.getOrCreateInstance(l).toggle(this)}),P.on(window,dA,()=>{for(const y of D.find(ig))Un.getOrCreateInstance(y).show()}),P.on(window,vA,()=>{for(const y of D.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(y).position!=="fixed"&&Un.getOrCreateInstance(y).hide()}),j(Un),N(Un);const cg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},AA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),CA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,SA=(y,l)=>{const d=y.nodeName.toLowerCase();return l.includes(d)?AA.has(d)?!!CA.test(y.nodeValue):!0:l.filter(v=>v instanceof RegExp).some(v=>v.test(d))};function OA(y,l,d){if(!y.length)return y;if(d&&typeof d=="function")return d(y);const $=new window.DOMParser().parseFromString(y,"text/html"),Q=[].concat(...$.body.querySelectorAll("*"));for(const z of Q){const Ee=z.nodeName.toLowerCase();if(!Object.keys(l).includes(Ee)){z.remove();continue}const Dt=[].concat(...z.attributes),Zt=[].concat(l["*"]||[],l[Ee]||[]);for(const tt of Dt)SA(tt,Zt)||z.removeAttribute(tt.nodeName)}return $.body.innerHTML}const NA="TemplateFactory",kA={allowList:cg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},RA={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DA={entry:"(string|element|function|null)",selector:"(string|element)"};class PA extends F{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return kA}static get DefaultType(){return RA}static get NAME(){return NA}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[$,Q]of Object.entries(this._config.content))this._setContent(l,Q,$);const d=l.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&d.classList.add(...v.split(" ")),d}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[d,v]of Object.entries(l))super._typeCheckConfig({selector:d,entry:v},DA)}_setContent(l,d,v){const $=D.findOne(v,l);if($){if(d=this._resolvePossibleFunction(d),!d){$.remove();return}if(I(d)){this._putElementInTemplate(S(d),$);return}if(this._config.html){$.innerHTML=this._maybeSanitize(d);return}$.textContent=d}}_maybeSanitize(l){return this._config.sanitize?OA(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return x(l,[this])}_putElementInTemplate(l,d){if(this._config.html){d.innerHTML="",d.append(l);return}d.textContent=l.textContent}}const LA="tooltip",xA=new Set(["sanitize","allowList","sanitizeFn"]),ku="fade",MA="modal",Qa="show",$A=".tooltip-inner",lg=`.${MA}`,ug="hide.bs.modal",Zi="hover",Ru="focus",FA="click",VA="manual",UA="hide",BA="hidden",jA="show",HA="shown",KA="inserted",qA="click",WA="focusin",zA="focusout",GA="mouseenter",YA="mouseleave",QA={AUTO:"auto",TOP:"top",RIGHT:A()?"left":"right",BOTTOM:"bottom",LEFT:A()?"right":"left"},XA={allowList:cg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},JA={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ys extends G{constructor(l,d){if(typeof r>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return XA}static get DefaultType(){return JA}static get NAME(){return LA}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(lg),ug,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const l=P.trigger(this._element,this.constructor.eventName(jA)),v=(R(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!v)return;this._disposePopper();const $=this._getTipElement();this._element.setAttribute("aria-describedby",$.getAttribute("id"));const{container:Q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Q.append($),P.trigger(this._element,this.constructor.eventName(KA))),this._popper=this._createPopper($),$.classList.add(Qa),"ontouchstart"in document.documentElement)for(const Ee of[].concat(...document.body.children))P.on(Ee,"mouseover",T);const z=()=>{P.trigger(this._element,this.constructor.eventName(HA)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(z,this.tip,this._isAnimated())}hide(){if(!this._isShown()||P.trigger(this._element,this.constructor.eventName(UA)).defaultPrevented)return;if(this._getTipElement().classList.remove(Qa),"ontouchstart"in document.documentElement)for(const $ of[].concat(...document.body.children))P.off($,"mouseover",T);this._activeTrigger[FA]=!1,this._activeTrigger[Ru]=!1,this._activeTrigger[Zi]=!1,this._isHovered=null;const v=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName(BA)))};this._queueCallback(v,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const d=this._getTemplateFactory(l).toHtml();if(!d)return null;d.classList.remove(ku,Qa),d.classList.add(`bs-${this.constructor.NAME}-auto`);const v=p(this.constructor.NAME).toString();return d.setAttribute("id",v),this._isAnimated()&&d.classList.add(ku),d}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new PA({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[$A]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ku)}_isShown(){return this.tip&&this.tip.classList.contains(Qa)}_createPopper(l){const d=x(this._config.placement,[this,l,this._element]),v=QA[d.toUpperCase()];return r.createPopper(this._element,l,this._getPopperConfig(v))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(d=>Number.parseInt(d,10)):typeof l=="function"?d=>l(d,this._element):l}_resolvePossibleFunction(l){return x(l,[this._element])}_getPopperConfig(l){const d={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...d,...x(this._config.popperConfig,[d])}}_setListeners(){const l=this._config.trigger.split(" ");for(const d of l)if(d==="click")P.on(this._element,this.constructor.eventName(qA),this._config.selector,v=>{this._initializeOnDelegatedTarget(v).toggle()});else if(d!==VA){const v=d===Zi?this.constructor.eventName(GA):this.constructor.eventName(WA),$=d===Zi?this.constructor.eventName(YA):this.constructor.eventName(zA);P.on(this._element,v,this._config.selector,Q=>{const z=this._initializeOnDelegatedTarget(Q);z._activeTrigger[Q.type==="focusin"?Ru:Zi]=!0,z._enter()}),P.on(this._element,$,this._config.selector,Q=>{const z=this._initializeOnDelegatedTarget(Q);z._activeTrigger[Q.type==="focusout"?Ru:Zi]=z._element.contains(Q.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(lg),ug,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,d){clearTimeout(this._timeout),this._timeout=setTimeout(l,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const d=L.getDataAttributes(this._element);for(const v of Object.keys(d))xA.has(v)&&delete d[v];return l={...d,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:S(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[d,v]of Object.entries(this._config))this.constructor.Default[d]!==v&&(l[d]=v);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const d=Ys.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof d[l]>"u")throw new TypeError(`No method named "${l}"`);d[l]()}})}}N(Ys);const ZA="popover",eC=".popover-header",tC=".popover-body",nC={...Ys.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},sC={...Ys.DefaultType,content:"(null|string|element|function)"};class Xa extends Ys{static get Default(){return nC}static get DefaultType(){return sC}static get NAME(){return ZA}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[eC]:this._getTitle(),[tC]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const d=Xa.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof d[l]>"u")throw new TypeError(`No method named "${l}"`);d[l]()}})}}N(Xa);const rC="scrollspy",Du=".bs.scrollspy",iC=".data-api",oC=`activate${Du}`,hg=`click${Du}`,aC=`load${Du}${iC}`,cC="dropdown-item",zr="active",lC='[data-bs-spy="scroll"]',Pu="[href]",uC=".nav, .list-group",fg=".nav-link",hC=`${fg}, .nav-item > ${fg}, .list-group-item`,fC=".dropdown",dC=".dropdown-toggle",pC={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gC={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class eo extends G{constructor(l,d){super(l,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return pC}static get DefaultType(){return gC}static get NAME(){return rC}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=S(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(d=>Number.parseFloat(d))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,hg),P.on(this._config.target,hg,Pu,l=>{const d=this._observableSections.get(l.target.hash);if(d){l.preventDefault();const v=this._rootElement||window,$=d.offsetTop-this._element.offsetTop;if(v.scrollTo){v.scrollTo({top:$,behavior:"smooth"});return}v.scrollTop=$}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(d=>this._observerCallback(d),l)}_observerCallback(l){const d=z=>this._targetLinks.get(`#${z.target.id}`),v=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(d(z))},$=(this._rootElement||document.documentElement).scrollTop,Q=$>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$;for(const z of l){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(z));continue}const Ee=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Q&&Ee){if(v(z),!$)return;continue}!Q&&!Ee&&v(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=D.find(Pu,this._config.target);for(const d of l){if(!d.hash||_(d))continue;const v=D.findOne(decodeURI(d.hash),this._element);b(v)&&(this._targetLinks.set(decodeURI(d.hash),d),this._observableSections.set(d.hash,v))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(zr),this._activateParents(l),P.trigger(this._element,oC,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains(cC)){D.findOne(dC,l.closest(fC)).classList.add(zr);return}for(const d of D.parents(l,uC))for(const v of D.prev(d,hC))v.classList.add(zr)}_clearActiveClass(l){l.classList.remove(zr);const d=D.find(`${Pu}.${zr}`,l);for(const v of d)v.classList.remove(zr)}static jQueryInterface(l){return this.each(function(){const d=eo.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l]()}})}}P.on(window,aC,()=>{for(const y of D.find(lC))eo.getOrCreateInstance(y)}),N(eo);const mC="tab",Qs=".bs.tab",yC=`hide${Qs}`,_C=`hidden${Qs}`,vC=`show${Qs}`,EC=`shown${Qs}`,wC=`click${Qs}`,TC=`keydown${Qs}`,bC=`load${Qs}`,IC="ArrowLeft",dg="ArrowRight",AC="ArrowUp",pg="ArrowDown",Xs="active",gg="fade",Lu="show",CC="dropdown",SC=".dropdown-toggle",OC=".dropdown-menu",xu=":not(.dropdown-toggle)",NC='.list-group, .nav, [role="tablist"]',kC=".nav-item, .list-group-item",RC=`.nav-link${xu}, .list-group-item${xu}, [role="tab"]${xu}`,mg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Mu=`${RC}, ${mg}`,DC=`.${Xs}[data-bs-toggle="tab"], .${Xs}[data-bs-toggle="pill"], .${Xs}[data-bs-toggle="list"]`;class Js extends G{constructor(l){super(l),this._parent=this._element.closest(NC),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,TC,d=>this._keydown(d)))}static get NAME(){return mC}show(){const l=this._element;if(this._elemIsActive(l))return;const d=this._getActiveElem(),v=d?P.trigger(d,yC,{relatedTarget:l}):null;P.trigger(l,vC,{relatedTarget:d}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(d,l),this._activate(l,d))}_activate(l,d){if(!l)return;l.classList.add(Xs),this._activate(D.getElementFromSelector(l));const v=()=>{if(l.getAttribute("role")!=="tab"){l.classList.add(Lu);return}l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),P.trigger(l,EC,{relatedTarget:d})};this._queueCallback(v,l,l.classList.contains(gg))}_deactivate(l,d){if(!l)return;l.classList.remove(Xs),l.blur(),this._deactivate(D.getElementFromSelector(l));const v=()=>{if(l.getAttribute("role")!=="tab"){l.classList.remove(Lu);return}l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),P.trigger(l,_C,{relatedTarget:d})};this._queueCallback(v,l,l.classList.contains(gg))}_keydown(l){if(![IC,dg,AC,pg].includes(l.key))return;l.stopPropagation(),l.preventDefault();const d=[dg,pg].includes(l.key),v=X(this._getChildren().filter($=>!_($)),l.target,d,!0);v&&(v.focus({preventScroll:!0}),Js.getOrCreateInstance(v).show())}_getChildren(){return D.find(Mu,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,d){this._setAttributeIfNotExists(l,"role","tablist");for(const v of d)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const d=this._elemIsActive(l),v=this._getOuterElement(l);l.setAttribute("aria-selected",d),v!==l&&this._setAttributeIfNotExists(v,"role","presentation"),d||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const d=D.getElementFromSelector(l);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,d){const v=this._getOuterElement(l);if(!v.classList.contains(CC))return;const $=(Q,z)=>{const Ee=D.findOne(Q,v);Ee&&Ee.classList.toggle(z,d)};$(SC,Xs),$(OC,Lu),v.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(l,d,v){l.hasAttribute(d)||l.setAttribute(d,v)}_elemIsActive(l){return l.classList.contains(Xs)}_getInnerElement(l){return l.matches(Mu)?l:D.findOne(Mu,l)}_getOuterElement(l){return l.closest(kC)||l}static jQueryInterface(l){return this.each(function(){const d=Js.getOrCreateInstance(this);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l]()}})}}P.on(document,wC,mg,function(y){["A","AREA"].includes(this.tagName)&&y.preventDefault(),!_(this)&&Js.getOrCreateInstance(this).show()}),P.on(window,bC,()=>{for(const y of D.find(DC))Js.getOrCreateInstance(y)}),N(Js);const PC="toast",ls=".bs.toast",LC=`mouseover${ls}`,xC=`mouseout${ls}`,MC=`focusin${ls}`,$C=`focusout${ls}`,FC=`hide${ls}`,VC=`hidden${ls}`,UC=`show${ls}`,BC=`shown${ls}`,jC="fade",yg="hide",Ja="show",Za="showing",HC={animation:"boolean",autohide:"boolean",delay:"number"},KC={animation:!0,autohide:!0,delay:5e3};class to extends G{constructor(l,d){super(l,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return KC}static get DefaultType(){return HC}static get NAME(){return PC}show(){if(P.trigger(this._element,UC).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(jC);const d=()=>{this._element.classList.remove(Za),P.trigger(this._element,BC),this._maybeScheduleHide()};this._element.classList.remove(yg),k(this._element),this._element.classList.add(Ja,Za),this._queueCallback(d,this._element,this._config.animation)}hide(){if(!this.isShown()||P.trigger(this._element,FC).defaultPrevented)return;const d=()=>{this._element.classList.add(yg),this._element.classList.remove(Za,Ja),P.trigger(this._element,VC)};this._element.classList.add(Za),this._queueCallback(d,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ja),super.dispose()}isShown(){return this._element.classList.contains(Ja)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,d){switch(l.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=d;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=d;break}}if(d){this._clearTimeout();return}const v=l.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,LC,l=>this._onInteraction(l,!0)),P.on(this._element,xC,l=>this._onInteraction(l,!1)),P.on(this._element,MC,l=>this._onInteraction(l,!0)),P.on(this._element,$C,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const d=to.getOrCreateInstance(this,l);if(typeof l=="string"){if(typeof d[l]>"u")throw new TypeError(`No method named "${l}"`);d[l](this)}})}}return j(to),N(to),{Alert:Me,Button:as,Carousel:Hr,Collapse:qr,Dropdown:an,Modal:Gs,Offcanvas:Un,Popover:Xa,ScrollSpy:eo,Tab:Js,Toast:to,Tooltip:Ys}})})(TU);const fB={apiKey:"AIzaSyCMJd4kuh1hQjStYHMDC22M-1EVEh0rqQo",authDomain:"trader-game-8ac71.firebaseapp.com",projectId:"trader-game-8ac71",storageBucket:"trader-game-8ac71.appspot.com",messagingSenderId:"1094488286826",appId:"1:1094488286826:web:96333e243540c9d859cc13",measurementId:"G-H21R1PQK21"},f0=_E(fB);pU(f0);const d0=eF(f0),bu=Hv(VV);bu.use(dk());bu.use(Lc);bu.use(wU,{position:"top-right",duration:5e3,pauseOnHover:!0});bu.mount("#app");
